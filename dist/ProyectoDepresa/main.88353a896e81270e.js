"use strict";(self.webpackChunkProyectoDepresa=self.webpackChunkProyectoDepresa||[]).push([[179],{2011:(yt,De,k)=>{k.d(De,{Dh:()=>fe,GT:()=>de,cc:()=>Be,hO:()=>Qe,on:()=>$,pX:()=>ne,xv:()=>pe});var w=k(4650),g=k(127),U=k(5813);yt=k.hmd(yt);const se=["ngOnDestroy"],ne=(ve,ht,vt,$e={})=>new Proxy(ve,{get:(ke,Ue)=>vt.runOutsideAngular(()=>{var nt;if(ve[Ue])return!(null===(nt=$e?.spy)||void 0===nt)&&nt.get&&$e.spy.get(Ue,ve[Ue]),ve[Ue];if(se.indexOf(Ue)>-1)return()=>{};const rt=ht.toPromise().then(q=>{const _e=q&&q[Ue];return"function"==typeof _e?_e.bind(q):_e&&_e.then?_e.then(ee=>vt.run(()=>ee)):vt.run(()=>_e)});return new Proxy(()=>{},{get:(q,_e)=>rt[_e],apply:(q,_e,ee)=>rt.then(ue=>{var ye;const me=ue&&ue(...ee);return!(null===(ye=$e?.spy)||void 0===ye)&&ye.apply&&$e.spy.apply(Ue,ee,me),me})})})}),de=(ve,ht)=>{ht.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach($e=>{Object.defineProperty(ve.prototype,$e,Object.getOwnPropertyDescriptor(vt.prototype||vt,$e))})})};class le{constructor(ht){return ht}}const fe=new w.OlP("angularfire2.app.options"),pe=new w.OlP("angularfire2.app.name");function $(ve,ht,vt){const ke="object"==typeof vt&&vt||{};ke.name=ke.name||"string"==typeof vt&&vt||"[DEFAULT]";const nt=g.Z.apps.filter(rt=>rt&&rt.name===ke.name)[0]||ht.runOutsideAngular(()=>g.Z.initializeApp(ve,ke));try{JSON.stringify(ve)!==JSON.stringify(nt.options)&&K("error",`${nt.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(nt)}const K=(ve,...ht)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ve](...ht)},te={provide:le,useFactory:$,deps:[fe,w.R0b,[new w.FiY,pe]]};let Qe=(()=>{class ve{constructor(vt){g.Z.registerVersion("angularfire",U.q4.full,"core"),g.Z.registerVersion("angularfire",U.q4.full,"app-compat"),g.Z.registerVersion("angular",w.q4F.full,vt.toString())}static initializeApp(vt,$e){return{ngModule:ve,providers:[{provide:fe,useValue:vt},{provide:pe,useValue:$e}]}}}return ve.\u0275fac=function(vt){return new(vt||ve)(w.LFG(w.Lbi))},ve.\u0275mod=w.oAB({type:ve}),ve.\u0275inj=w.cJS({providers:[te]}),ve})();function Be(ve,ht,vt,$e,ke){const[,Ue,nt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===ve)||[];if(Ue)return function xe(ve,ht){try{return ve.toString()===ht.toString()}catch{return ve===ht}}(ke,nt)||(Te("error",`${ht} was already initialized on the ${vt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:ke,was:nt})),Ue;{const rt=$e();return globalThis.\u0275AngularfireInstanceCache.push([ve,rt,ke]),rt}}const lt=!!yt.hot,Te=(ve,...ht)=>{(0,w.X6Q)()&&typeof console<"u"&&console[ve](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(yt,De,k)=>{k.d(De,{q4:()=>yi,iC:()=>Gs,HU:()=>Du,vb:()=>Ba,JM:()=>wu});var w=k(4650),g=k(5867),U=k(5861),se=k(9681),ne=k(2090),de=k(4859),le=k(1877),fe=k(8766);const pe="@firebase/installations",$="0.5.16",te=`w:${$}`,Qe="FIS_v2",ht=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(C){return C instanceof ne.ZR&&C.code.includes("request-failed")}function $e({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function ke(C){return{token:C.token,requestStatus:2,expiresIn:ue(C.expiresIn),creationTime:Date.now()}}function Ue(C,M){return nt.apply(this,arguments)}function nt(){return(nt=(0,U.Z)(function*(C,M){const H=(yield M.json()).error;return ht.create("request-failed",{requestName:C,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function rt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function q(C,{refreshToken:M}){const P=rt(C);return P.append("Authorization",function ye(C){return`${Qe} ${C}`}(M)),P}function _e(C){return ee.apply(this,arguments)}function ee(){return(ee=(0,U.Z)(function*(C){const M=yield C();return M.status>=500&&M.status<600?C():M})).apply(this,arguments)}function ue(C){return Number(C.replace("s","000"))}function me(C,M){return Je.apply(this,arguments)}function Je(){return(Je=(0,U.Z)(function*({appConfig:C,heartbeatServiceProvider:M},{fid:P}){const H=$e(C),ae=rt(C),be=M.getImmediate({optional:!0});if(be){const Ht=yield be.getHeartbeatsHeader();Ht&&ae.append("x-firebase-client",Ht)}const ct={method:"POST",headers:ae,body:JSON.stringify({fid:P,authVersion:Qe,appId:C.appId,sdkVersion:te})},Pt=yield _e(()=>fetch(H,ct));if(Pt.ok){const Ht=yield Pt.json();return{fid:Ht.fid||P,registrationStatus:2,refreshToken:Ht.refreshToken,authToken:ke(Ht.authToken)}}throw yield Ue("Create Installation",Pt)})).apply(this,arguments)}function he(C){return new Promise(M=>{setTimeout(M,C)})}const Q=/^[cdef][\w-]{21}$/;function Re(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const P=function pt(C){return function Ye(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Q.test(P)?P:""}catch{return""}}function Ot(C){return`${C.appName}!${C.appId}`}const Zt=new Map;function Jt(C,M){const P=Ot(C);Mn(P,M),function Ii(C,M){const P=function Vr(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=C=>{Mn(C.data.key,C.data.fid)}),Hr}();P&&P.postMessage({key:C,fid:M}),function Sr(){0===Zt.size&&Hr&&(Hr.close(),Hr=null)}()}(P,M)}function Mn(C,M){const P=Zt.get(C);if(P)for(const H of P)H(M)}let Hr=null;const Mr="firebase-installations-store";let $r=null;function Fi(){return $r||($r=(0,fe.X3)("firebase-installations-database",1,{upgrade:(C,M)=>{0===M&&C.createObjectStore(Mr)}})),$r}function _t(C,M){return br.apply(this,arguments)}function br(){return(br=(0,U.Z)(function*(C,M){const P=Ot(C),ae=(yield Fi()).transaction(Mr,"readwrite"),be=ae.objectStore(Mr),Ke=yield be.get(P);return yield be.put(M,P),yield ae.done,(!Ke||Ke.fid!==M.fid)&&Jt(C,M.fid),M})).apply(this,arguments)}function Ji(C){return sr.apply(this,arguments)}function sr(){return(sr=(0,U.Z)(function*(C){const M=Ot(C),H=(yield Fi()).transaction(Mr,"readwrite");yield H.objectStore(Mr).delete(M),yield H.done})).apply(this,arguments)}function Gr(C,M){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,U.Z)(function*(C,M){const P=Ot(C),ae=(yield Fi()).transaction(Mr,"readwrite"),be=ae.objectStore(Mr),Ke=yield be.get(P),ct=M(Ke);return void 0===ct?yield be.delete(P):yield be.put(ct,P),yield ae.done,ct&&(!Ke||Ke.fid!==ct.fid)&&Jt(C,ct.fid),ct})).apply(this,arguments)}function Qn(C){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,U.Z)(function*(C){let M;const P=yield Gr(C.appConfig,H=>{const ae=Y(H),be=G(C,ae);return M=be.registrationPromise,be.installationEntry});return""===P.fid?{installationEntry:yield M}:{installationEntry:P,registrationPromise:M}})).apply(this,arguments)}function Y(C){return at(C||{fid:Re(),registrationStatus:0})}function G(C,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(ht.create("app-offline"))};const P={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},H=function Ce(C,M){return Ve.apply(this,arguments)}(C,P);return{installationEntry:P,registrationPromise:H}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:Dt(C)}:{installationEntry:M}}function Ve(){return(Ve=(0,U.Z)(function*(C,M){try{const P=yield me(C,M);return _t(C.appConfig,P)}catch(P){throw vt(P)&&409===P.customData.serverCode?yield Ji(C.appConfig):yield _t(C.appConfig,{fid:M.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Dt(C){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,U.Z)(function*(C){let M=yield fn(C.appConfig);for(;1===M.registrationStatus;)yield he(100),M=yield fn(C.appConfig);if(0===M.registrationStatus){const{installationEntry:P,registrationPromise:H}=yield Qn(C);return H||P}return M})).apply(this,arguments)}function fn(C){return Gr(C,M=>{if(!M)throw ht.create("installation-not-found");return at(M)})}function at(C){return function Pn(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function rn(C,M){return wr.apply(this,arguments)}function wr(){return(wr=(0,U.Z)(function*({appConfig:C,heartbeatServiceProvider:M},P){const H=Xt(C,P),ae=q(C,P),be=M.getImmediate({optional:!0});if(be){const Ht=yield be.getHeartbeatsHeader();Ht&&ae.append("x-firebase-client",Ht)}const ct={method:"POST",headers:ae,body:JSON.stringify({installation:{sdkVersion:te,appId:C.appId}})},Pt=yield _e(()=>fetch(H,ct));if(Pt.ok)return ke(yield Pt.json());throw yield Ue("Generate Auth Token",Pt)})).apply(this,arguments)}function Xt(C,{fid:M}){return`${$e(C)}/${M}/authTokens:generate`}function en(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,U.Z)(function*(C,M=!1){let P;const H=yield Gr(C.appConfig,be=>{if(!Yt(be))throw ht.create("not-registered");const Ke=be.authToken;if(!M&&J(Ke))return be;if(1===Ke.requestStatus)return P=Et(C,M),be;{if(!navigator.onLine)throw ht.create("app-offline");const ct=ie(be);return P=Ft(C,ct),ct}});return P?yield P:H.authToken})).apply(this,arguments)}function Et(C,M){return We.apply(this,arguments)}function We(){return(We=(0,U.Z)(function*(C,M){let P=yield ut(C.appConfig);for(;1===P.authToken.requestStatus;)yield he(100),P=yield ut(C.appConfig);const H=P.authToken;return 0===H.requestStatus?en(C,M):H})).apply(this,arguments)}function ut(C){return Gr(C,M=>{if(!Yt(M))throw ht.create("not-registered");return function He(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function Ft(C,M){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,U.Z)(function*(C,M){try{const P=yield rn(C,M),H=Object.assign(Object.assign({},M),{authToken:P});return yield _t(C.appConfig,H),P}catch(P){if(!vt(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const H=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield _t(C.appConfig,H)}else yield Ji(C.appConfig);throw P}})).apply(this,arguments)}function Yt(C){return void 0!==C&&2===C.registrationStatus}function J(C){return 2===C.requestStatus&&!function z(C){const M=Date.now();return M<C.creationTime||C.creationTime+C.expiresIn<M+36e5}(C)}function ie(C){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:M})}function dt(){return(dt=(0,U.Z)(function*(C){const M=C,{installationEntry:P,registrationPromise:H}=yield Qn(M);return H?H.catch(console.error):en(M).catch(console.error),P.fid})).apply(this,arguments)}function Dn(){return(Dn=(0,U.Z)(function*(C,M=!1){const P=C;return yield Ln(P),(yield en(P,M)).token})).apply(this,arguments)}function Ln(C){return gn.apply(this,arguments)}function gn(){return(gn=(0,U.Z)(function*(C){const{registrationPromise:M}=yield Qn(C);M&&(yield M)})).apply(this,arguments)}function ci(C){return ht.create("missing-app-config-values",{valueName:C})}const Ss="installations",Gn=C=>{const M=C.getProvider("app").getImmediate(),P=function $n(C){if(!C||!C.options)throw ci("App Configuration");if(!C.name)throw ci("App Name");const M=["projectId","apiKey","appId"];for(const P of M)if(!C.options[P])throw ci(P);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(M);return{app:M,appConfig:P,heartbeatServiceProvider:(0,se._getProvider)(M,"heartbeat"),_delete:()=>Promise.resolve()}},tr=C=>{const M=C.getProvider("app").getImmediate(),P=(0,se._getProvider)(M,Ss).getImmediate();return{getId:()=>function ce(C){return dt.apply(this,arguments)}(P),getToken:ae=>function At(C){return Dn.apply(this,arguments)}(P,ae)}};(function ua(){(0,se._registerComponent)(new de.wA(Ss,Gn,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",tr,"PRIVATE"))})(),(0,se.registerVersion)(pe,$),(0,se.registerVersion)(pe,$,"esm2017");const di="@firebase/remote-config",lr=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ca{constructor(M,P,H,ae){this.client=M,this.storage=P,this.storageCache=H,this.logger=ae}isCachedDataFresh(M,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-P,ae=H<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${ae}.`),ae}fetch(M){var P=this;return(0,U.Z)(function*(){const[H,ae]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(ae&&P.isCachedDataFresh(M.cacheMaxAgeMillis,H))return ae;M.eTag=ae&&ae.eTag;const be=yield P.client.fetch(M),Ke=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===be.status&&Ke.push(P.storage.setLastSuccessfulFetchResponse(be)),yield Promise.all(Ke),be})()}}function Ui(C=navigator){return C.languages&&C.languages[0]||C.language}class iu{constructor(M,P,H,ae,be,Ke){this.firebaseInstallations=M,this.sdkVersion=P,this.namespace=H,this.projectId=ae,this.apiKey=be,this.appId=Ke}fetch(M){var P=this;return(0,U.Z)(function*(){var H,ae,be;const[Ke,ct]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),Ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Vt={sdk_version:P.sdkVersion,app_instance_id:Ke,app_instance_id_token:ct,app_id:P.appId,language_code:Ui()},Wn={method:"POST",headers:nn,body:JSON.stringify(Vt)},Br=fetch(Ht,Wn),ho=new Promise((Ha,Ho)=>{M.signal.addEventListener(()=>{const vd=new Error("The operation was aborted.");vd.name="AbortError",Ho(vd)})});let fo;try{yield Promise.race([Br,ho]),fo=yield Br}catch(Ha){let Ho="fetch-client-network";throw"AbortError"===(null===(H=Ha)||void 0===H?void 0:H.name)&&(Ho="fetch-timeout"),lr.create(Ho,{originalErrorMessage:null===(ae=Ha)||void 0===ae?void 0:ae.message})}let Bo=fo.status;const ja=fo.headers.get("ETag")||void 0;let ds,jo;if(200===fo.status){let Ha;try{Ha=yield fo.json()}catch(Ho){throw lr.create("fetch-client-parse",{originalErrorMessage:null===(be=Ho)||void 0===be?void 0:be.message})}ds=Ha.entries,jo=Ha.state}if("INSTANCE_STATE_UNSPECIFIED"===jo?Bo=500:"NO_CHANGE"===jo?Bo=304:("NO_TEMPLATE"===jo||"EMPTY_CONFIG"===jo)&&(ds={}),304!==Bo&&200!==Bo)throw lr.create("fetch-status",{httpStatus:Bo});return{status:Bo,eTag:ja,config:ds}})()}}class Zl{constructor(M,P){this.client=M,this.storage=P}fetch(M){var P=this;return(0,U.Z)(function*(){const H=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(M,H)})()}attemptFetch(M,{throttleEndTimeMillis:P,backoffCount:H}){var ae=this;return(0,U.Z)(function*(){yield function Zn(C,M){return new Promise((P,H)=>{const ae=Math.max(M-Date.now(),0),be=setTimeout(P,ae);C.addEventListener(()=>{clearTimeout(be),H(lr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,P);try{const be=yield ae.client.fetch(M);return yield ae.storage.deleteThrottleMetadata(),be}catch(be){if(!function da(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const M=Number(C.customData.httpStatus);return 429===M||500===M||503===M||504===M}(be))throw be;const Ke={throttleEndTimeMillis:Date.now()+(0,ne.$s)(H),backoffCount:H+1};return yield ae.storage.setThrottleMetadata(Ke),ae.attemptFetch(M,Ke)}})()}}class ha{constructor(M,P,H,ae,be){this.app=M,this._client=P,this._storageCache=H,this._storage=ae,this._logger=be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Xs(C,M){var P;const H=C.target.error||void 0;return lr.create(M,{originalErrorMessage:H&&(null===(P=H)||void 0===P?void 0:P.message)})}const Gt="app_namespace_store";class ud{constructor(M,P,H,ae=function vo(){return new Promise((C,M)=>{var P;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ae=>{M(Xs(ae,"storage-open"))},H.onsuccess=ae=>{C(ae.target.result)},H.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(Gt,{keyPath:"compositeKey"})}}catch(H){M(lr.create("storage-open",{originalErrorMessage:null===(P=H)||void 0===P?void 0:P.message}))}})}()){this.appId=M,this.appName=P,this.namespace=H,this.openDbPromise=ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var P=this;return(0,U.Z)(function*(){const H=yield P.openDbPromise;return new Promise((ae,be)=>{var Ke;const Pt=H.transaction([Gt],"readonly").objectStore(Gt),Ht=P.createCompositeKey(M);try{const nn=Pt.get(Ht);nn.onerror=Vt=>{be(Xs(Vt,"storage-get"))},nn.onsuccess=Vt=>{const Wn=Vt.target.result;ae(Wn?Wn.value:void 0)}}catch(nn){be(lr.create("storage-get",{originalErrorMessage:null===(Ke=nn)||void 0===Ke?void 0:Ke.message}))}})})()}set(M,P){var H=this;return(0,U.Z)(function*(){const ae=yield H.openDbPromise;return new Promise((be,Ke)=>{var ct;const Ht=ae.transaction([Gt],"readwrite").objectStore(Gt),nn=H.createCompositeKey(M);try{const Vt=Ht.put({compositeKey:nn,value:P});Vt.onerror=Wn=>{Ke(Xs(Wn,"storage-set"))},Vt.onsuccess=()=>{be()}}catch(Vt){Ke(lr.create("storage-set",{originalErrorMessage:null===(ct=Vt)||void 0===ct?void 0:ct.message}))}})})()}delete(M){var P=this;return(0,U.Z)(function*(){const H=yield P.openDbPromise;return new Promise((ae,be)=>{var Ke;const Pt=H.transaction([Gt],"readwrite").objectStore(Gt),Ht=P.createCompositeKey(M);try{const nn=Pt.delete(Ht);nn.onerror=Vt=>{be(Xs(Vt,"storage-delete"))},nn.onsuccess=()=>{ae()}}catch(nn){be(lr.create("storage-delete",{originalErrorMessage:null===(Ke=nn)||void 0===Ke?void 0:Ke.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class Zu{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,U.Z)(function*(){const P=M.storage.getLastFetchStatus(),H=M.storage.getLastSuccessfulFetchTimestampMillis(),ae=M.storage.getActiveConfig(),be=yield P;be&&(M.lastFetchStatus=be);const Ke=yield H;Ke&&(M.lastSuccessfulFetchTimestampMillis=Ke);const ct=yield ae;ct&&(M.activeConfig=ct)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Eo(){return ld.apply(this,arguments)}function ld(){return(ld=(0,U.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Ir(){(0,se._registerComponent)(new de.wA("remote-config",function C(M,{instanceIdentifier:P}){const H=M.getProvider("app").getImmediate(),ae=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw lr.create("registration-window");if(!(0,ne.hl)())throw lr.create("indexed-db-unavailable");const{projectId:be,apiKey:Ke,appId:ct}=H.options;if(!be)throw lr.create("registration-project-id");if(!Ke)throw lr.create("registration-api-key");if(!ct)throw lr.create("registration-app-id");const Pt=new ud(ct,H.name,P=P||"firebase"),Ht=new Zu(Pt),nn=new le.Yd(di);nn.logLevel=le.in.ERROR;const Vt=new iu(ae,se.SDK_VERSION,P,be,Ke,ct),Wn=new Zl(Vt,Pt),Br=new ca(Wn,Pt,Ht,nn),ho=new ha(H,Br,Ht,Pt,nn);return function _n(C){const M=(0,ne.m9)(C);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(di,"0.3.15"),(0,se.registerVersion)(di,"0.3.15","esm2017")}();const Fn="/firebase-messaging-sw.js",xr="/firebase-cloud-messaging-push-scope",Ci="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bo="google.c.a.c_id",wo="google.c.a.c_l",pa="google.c.a.ts",Ql="google.c.a.e";var ns=(()=>{return(C=ns||(ns={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ns;var C})();function ti(C){const M=new Uint8Array(C);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Wr(C){const P=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(P),ae=new Uint8Array(H.length);for(let be=0;be<H.length;++be)ae[be]=H.charCodeAt(be);return ae}const rs="fcm_token_details_db",kt="fcm_token_object_Store";function Io(C){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,U.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(be=>be.name).includes(rs))return null;let M=null;return(yield(0,fe.X3)(rs,5,{upgrade:(H=(0,U.Z)(function*(ae,be,Ke,ct){var Pt;if(be<2||!ae.objectStoreNames.contains(kt))return;const Ht=ct.objectStore(kt),nn=yield Ht.index("fcmSenderId").get(C);if(yield Ht.clear(),nn)if(2===be){const Vt=nn;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;M={token:Vt.fcmToken,createTime:null!==(Pt=Vt.createTime)&&void 0!==Pt?Pt:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:ti(Vt.vapidKey)}}}else if(3===be){const Vt=nn;M={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:ti(Vt.auth),p256dh:ti(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:ti(Vt.vapidKey)}}}else if(4===be){const Vt=nn;M={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:ti(Vt.auth),p256dh:ti(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:ti(Vt.vapidKey)}}}}),function(be,Ke,ct,Pt){return H.apply(this,arguments)})})).close(),yield(0,fe.Lj)(rs),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Nn(M)?M:null;var H}),Jl.apply(this,arguments)}function Nn(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:M}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}const qr="firebase-messaging-store";let Kr=null;function ks(){return Kr||(Kr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(C,M)=>{0===M&&C.createObjectStore(qr)}})),Kr}function Bi(C){return ji.apply(this,arguments)}function ji(){return(ji=(0,U.Z)(function*(C){const M=hi(C),H=yield(yield ks()).transaction(qr).objectStore(qr).get(M);if(H)return H;{const ae=yield Io(C.appConfig.senderId);if(ae)return yield on(C,ae),ae}})).apply(this,arguments)}function on(C,M){return ma.apply(this,arguments)}function ma(){return(ma=(0,U.Z)(function*(C,M){const P=hi(C),ae=(yield ks()).transaction(qr,"readwrite");return yield ae.objectStore(qr).put(M,P),yield ae.done,M})).apply(this,arguments)}function ss(C){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,U.Z)(function*(C){const M=hi(C),H=(yield ks()).transaction(qr,"readwrite");yield H.objectStore(qr).delete(M),yield H.done})).apply(this,arguments)}function hi({appConfig:C}){return C.appId}const Yn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zt(C,M){return ya.apply(this,arguments)}function ya(){return(ya=(0,U.Z)(function*(C,M){var P;const H=yield uu(C),ae=Ge(M),be={method:"POST",headers:H,body:JSON.stringify(ae)};let Ke;try{Ke=yield(yield fetch(os(C.appConfig),be)).json()}catch(ct){throw Yn.create("token-subscribe-failed",{errorInfo:null===(P=ct)||void 0===P?void 0:P.toString()})}if(Ke.error)throw Yn.create("token-subscribe-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Yn.create("token-subscribe-no-token");return Ke.token})).apply(this,arguments)}function _a(C,M){return va.apply(this,arguments)}function va(){return(va=(0,U.Z)(function*(C,M){var P;const H=yield uu(C),ae=Ge(M.subscriptionOptions),be={method:"PATCH",headers:H,body:JSON.stringify(ae)};let Ke;try{Ke=yield(yield fetch(`${os(C.appConfig)}/${M.token}`,be)).json()}catch(ct){throw Yn.create("token-update-failed",{errorInfo:null===(P=ct)||void 0===P?void 0:P.toString()})}if(Ke.error)throw Yn.create("token-update-failed",{errorInfo:Ke.error.message});if(!Ke.token)throw Yn.create("token-update-no-token");return Ke.token})).apply(this,arguments)}function Ea(C,M){return au.apply(this,arguments)}function au(){return(au=(0,U.Z)(function*(C,M){var P;const ae={method:"DELETE",headers:yield uu(C)};try{const Ke=yield(yield fetch(`${os(C.appConfig)}/${M}`,ae)).json();if(Ke.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:Ke.error.message})}catch(be){throw Yn.create("token-unsubscribe-failed",{errorInfo:null===(P=be)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function os({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function uu(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,U.Z)(function*({appConfig:C,installations:M}){const P=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function Ge({p256dh:C,auth:M,endpoint:P,vapidKey:H}){const ae={web:{endpoint:P,auth:M,p256dh:C}};return H!==Ci&&(ae.web.applicationPubKey=H),ae}const an=6048e5;function Hi(C){return to.apply(this,arguments)}function to(){return(to=(0,U.Z)(function*(C){const M=yield _s(C.swRegistration,C.vapidKey),P={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:M.endpoint,auth:ti(M.getKey("auth")),p256dh:ti(M.getKey("p256dh"))},H=yield Bi(C.firebaseDependencies);if(H){if(lu(H.subscriptionOptions,P))return Date.now()>=H.createTime+an?no(C,{token:H.token,createTime:Date.now(),subscriptionOptions:P}):H.token;try{yield Ea(C.firebaseDependencies,H.token)}catch(ae){console.warn(ae)}return as(C.firebaseDependencies,P)}return as(C.firebaseDependencies,P)})).apply(this,arguments)}function nr(C){return ba.apply(this,arguments)}function ba(){return(ba=(0,U.Z)(function*(C){const M=yield Bi(C.firebaseDependencies);M&&(yield Ea(C.firebaseDependencies,M.token),yield ss(C.firebaseDependencies));const P=yield C.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function no(C,M){return fi.apply(this,arguments)}function fi(){return(fi=(0,U.Z)(function*(C,M){try{const P=yield _a(C.firebaseDependencies,M),H=Object.assign(Object.assign({},M),{token:P,createTime:Date.now()});return yield on(C.firebaseDependencies,H),P}catch(P){throw yield nr(C),P}})).apply(this,arguments)}function as(C,M){return us.apply(this,arguments)}function us(){return(us=(0,U.Z)(function*(C,M){const H={token:yield zt(C,M),createTime:Date.now(),subscriptionOptions:M};return yield on(C,H),H.token})).apply(this,arguments)}function _s(C,M){return wa.apply(this,arguments)}function wa(){return(wa=(0,U.Z)(function*(C,M){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wr(M)})})).apply(this,arguments)}function lu(C,M){return M.vapidKey===C.vapidKey&&M.endpoint===C.endpoint&&M.auth===C.auth&&M.p256dh===C.p256dh}function ro(C){const M={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Vn(C,M){if(!M.notification)return;C.notification={};const P=M.notification.title;P&&(C.notification.title=P);const H=M.notification.body;H&&(C.notification.body=H);const ae=M.notification.image;ae&&(C.notification.image=ae);const be=M.notification.icon;be&&(C.notification.icon=be)}(M,C),function $i(C,M){!M.data||(C.data=M.data)}(M,C),function cu(C,M){var P,H,ae,be,Ke;if(!(M.fcmOptions||null!==(P=M.notification)&&void 0!==P&&P.click_action))return;C.fcmOptions={};const ct=null!==(ae=null===(H=M.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==ae?ae:null===(be=M.notification)||void 0===be?void 0:be.click_action;ct&&(C.fcmOptions.link=ct);const Pt=null===(Ke=M.fcmOptions)||void 0===Ke?void 0:Ke.analytics_label;Pt&&(C.fcmOptions.analyticsLabel=Pt)}(M,C),M}function vs(C){return"object"==typeof C&&!!C&&bo in C}function ls(C,M){const P=[];for(let H=0;H<C.length;H++)P.push(C.charAt(H)),H<M.length&&P.push(M.charAt(H));return P.join("")}function cs(C){return Yn.create("missing-app-config-values",{valueName:C})}ls("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ls("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cd{constructor(M,P,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ae=function Qu(C){if(!C||!C.options)throw cs("App Configuration Object");if(!C.name)throw cs("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:P}=C;for(const H of M)if(!P[H])throw cs(H);return{appName:C.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:ae,installations:P,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Co(C){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,U.Z)(function*(C){var M;try{C.swRegistration=yield navigator.serviceWorker.register(Fn,{scope:xr}),C.swRegistration.update().catch(()=>{})}catch(P){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:null===(M=P)||void 0===M?void 0:M.message})}})).apply(this,arguments)}function io(C,M){return Da.apply(this,arguments)}function Da(){return(Da=(0,U.Z)(function*(C,M){if(!M&&!C.swRegistration&&(yield Co(C)),M||!C.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");C.swRegistration=M}})).apply(this,arguments)}function ni(C,M){return To.apply(this,arguments)}function To(){return(To=(0,U.Z)(function*(C,M){M?C.vapidKey=M:C.vapidKey||(C.vapidKey=Ci)})).apply(this,arguments)}function Fs(){return(Fs=(0,U.Z)(function*(C,M){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield ni(C,M?.vapidKey),yield io(C,M?.serviceWorkerRegistration),Hi(C)})).apply(this,arguments)}function Ca(C,M,P){return du.apply(this,arguments)}function du(){return(du=(0,U.Z)(function*(C,M,P){const H=hu(M);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:P[bo],message_name:P[wo],message_time:P[pa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hu(C){switch(C){case ns.NOTIFICATION_CLICKED:return"notification_open";case ns.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function O(){return(O=(0,U.Z)(function*(C,M){const P=M.data;if(!P.isFirebaseMessaging)return;C.onMessageHandler&&P.messageType===ns.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ro(P)):C.onMessageHandler.next(ro(P)));const H=P.data;vs(H)&&"1"===H[Ql]&&(yield Ca(C,P.messageType,H))})).apply(this,arguments)}const T="@firebase/messaging",F="0.10.0",W=C=>{const M=new cd(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function D(C,M){return O.apply(this,arguments)}(M,P)),M},Ee=C=>{const M=C.getProvider("messaging").getImmediate();return{getToken:H=>function Gi(C,M){return Fs.apply(this,arguments)}(M,H)}};function bt(){return vn.apply(this,arguments)}function vn(){return(vn=(0,U.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ne(){(0,se._registerComponent)(new de.wA("messaging",W,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Ee,"PRIVATE")),(0,se.registerVersion)(T,F),(0,se.registerVersion)(T,F,"esm2017")}();const Ai="analytics",Vs="firebase_id",Es="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ao="https://www.googletagmanager.com/gtag/js",rr=new le.Yd("@firebase/analytics");function Ta(C){return Promise.all(C.map(M=>M.catch(P=>P)))}function dd(C,M){const P=document.createElement("script");P.src=`${Ao}?l=${C}&id=${M}`,P.async=!0,document.head.appendChild(P)}function Ju(C,M,P,H,ae,be){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,U.Z)(function*(C,M,P,H,ae,be){const Ke=H[ae];try{if(Ke)yield M[Ke];else{const Pt=(yield Ta(P)).find(Ht=>Ht.measurementId===ae);Pt&&(yield M[Pt.appId])}}catch(ct){rr.error(ct)}C("config",ae,be)})).apply(this,arguments)}function so(C,M,P,H,ae){return So.apply(this,arguments)}function So(){return(So=(0,U.Z)(function*(C,M,P,H,ae){try{let be=[];if(ae&&ae.send_to){let Ke=ae.send_to;Array.isArray(Ke)||(Ke=[Ke]);const ct=yield Ta(P);for(const Pt of Ke){const Ht=ct.find(Vt=>Vt.measurementId===Pt),nn=Ht&&M[Ht.appId];if(!nn){be=[];break}be.push(nn)}}0===be.length&&(be=Object.values(M)),yield Promise.all(be),C("event",H,ae||{})}catch(be){rr.error(be)}})).apply(this,arguments)}function tc(C){const M=window.document.getElementsByTagName("script");for(const P of Object.values(M))if(P.src&&P.src.includes(Ao)&&P.src.includes(C))return P;return null}const Or=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),oo=new class pi{constructor(M={},P=1e3){this.throttleMetadata=M,this.intervalMillis=P}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,P){this.throttleMetadata[M]=P}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function hd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Sa(C){return el.apply(this,arguments)}function el(){return(el=(0,U.Z)(function*(C){var M;const{appId:P,apiKey:H}=C,ae={method:"GET",headers:hd(H)},be=Es.replace("{app-id}",P),Ke=yield fetch(be,ae);if(200!==Ke.status&&304!==Ke.status){let ct="";try{const Pt=yield Ke.json();null!==(M=Pt.error)&&void 0!==M&&M.message&&(ct=Pt.error.message)}catch{}throw Or.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:ct})}return Ke.json()})).apply(this,arguments)}function dr(C){return Si.apply(this,arguments)}function Si(){return(Si=(0,U.Z)(function*(C,M=oo,P){const{appId:H,apiKey:ae,measurementId:be}=C.options;if(!H)throw Or.create("no-app-id");if(!ae){if(be)return{measurementId:be,appId:H};throw Or.create("no-api-key")}const Ke=M.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ct=new xa;return setTimeout((0,U.Z)(function*(){ct.abort()}),void 0!==P?P:6e4),rc({appId:H,apiKey:ae,measurementId:be},Ke,ct,M)})).apply(this,arguments)}function rc(C,M,P){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,U.Z)(function*(C,{throttleEndTimeMillis:M,backoffCount:P},H,ae=oo){var be,Ke;const{appId:ct,measurementId:Pt}=C;try{yield tl(H,M)}catch(Ht){if(Pt)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${null===(be=Ht)||void 0===be?void 0:be.message}]`),{appId:ct,measurementId:Pt};throw Ht}try{const Ht=yield Sa(C);return ae.deleteThrottleMetadata(ct),Ht}catch(Ht){const nn=Ht;if(!fd(nn)){if(ae.deleteThrottleMetadata(ct),Pt)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Pt} provided in the "measurementId" field in the local Firebase config. [${nn?.message}]`),{appId:ct,measurementId:Pt};throw Ht}const Vt=503===Number(null===(Ke=nn?.customData)||void 0===Ke?void 0:Ke.httpStatus)?(0,ne.$s)(P,ae.intervalMillis,30):(0,ne.$s)(P,ae.intervalMillis),Wn={throttleEndTimeMillis:Date.now()+Vt,backoffCount:P+1};return ae.setThrottleMetadata(ct,Wn),rr.debug(`Calling attemptFetch again in ${Vt} millis`),rc(C,Wn,H,ae)}})).apply(this,arguments)}function tl(C,M){return new Promise((P,H)=>{const ae=Math.max(M-Date.now(),0),be=setTimeout(P,ae);C.addEventListener(()=>{clearTimeout(be),H(Or.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}function fd(C){if(!(C instanceof ne.ZR&&C.customData))return!1;const M=Number(C.customData.httpStatus);return 429===M||500===M||503===M||504===M}class xa{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Mo,Na;function xo(){return(xo=(0,U.Z)(function*(C,M,P,H,ae){if(ae&&ae.global)C("event",P,H);else{const be=yield M;C("event",P,Object.assign(Object.assign({},H),{send_to:be}))}})).apply(this,arguments)}function uo(C){Na=C}function No(C){Mo=C}function ka(){return rl.apply(this,arguments)}function rl(){return(rl=(0,U.Z)(function*(){var C;if(!(0,ne.hl)())return rr.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(M){return rr.warn(Or.create("indexeddb-unavailable",{errorInfo:null===(C=M)||void 0===C?void 0:C.toString()}).message),!1}return!0})).apply(this,arguments)}function lo(){return(lo=(0,U.Z)(function*(C,M,P,H,ae,be,Ke){var ct;const Pt=dr(C);Pt.then(Br=>{P[Br.measurementId]=Br.appId,C.options.measurementId&&Br.measurementId!==C.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>rr.error(Br)),M.push(Pt);const Ht=ka().then(Br=>{if(Br)return H.getId()}),[nn,Vt]=yield Promise.all([Pt,Ht]);tc(be)||dd(be,nn.measurementId),Na&&(ae("consent","default",Na),uo(void 0)),ae("js",new Date);const Wn=null!==(ct=Ke?.config)&&void 0!==ct?ct:{};return Wn.origin="firebase",Wn.update=!0,null!=Vt&&(Wn[Vs]=Vt),ae("config",nn.measurementId,Wn),Mo&&(ae("set",Mo),No(void 0)),nn.measurementId})).apply(this,arguments)}class ko{constructor(M){this.app=M}_delete(){return delete gi[this.app.options.appId],Promise.resolve()}}let gi={},Us=[];const Po={};let Lo,Fo,La="dataLayer",Fa=!1;function yu(C,M,P){!function ic(){const C=[];if((0,ne.ru)()&&C.push("This is a browser extension environment."),(0,ne.zI)()||C.push("Cookies are not available."),C.length>0){const M=C.map((H,ae)=>`(${ae+1}) ${H}`).join(" "),P=Or.create("invalid-analytics-context",{errorInfo:M});rr.warn(P.message)}}();const H=C.options.appId;if(!H)throw Or.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Or.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gi[H])throw Or.create("already-exists",{id:H});if(!Fa){!function Xl(C){let M=[];Array.isArray(window[C])?M=window[C]:window[C]=M}(La);const{wrappedGtag:be,gtagCore:Ke}=function Aa(C,M,P,H,ae){let be=function(...Ke){window[H].push(arguments)};return window[ae]&&"function"==typeof window[ae]&&(be=window[ae]),window[ae]=function ec(C,M,P,H){function be(){return(be=(0,U.Z)(function*(Ke,ct,Pt){try{"event"===Ke?yield so(C,M,P,ct,Pt):"config"===Ke?yield Ju(C,M,P,H,ct,Pt):"consent"===Ke?C("consent","update",Pt):C("set",ct)}catch(Ht){rr.error(Ht)}})).apply(this,arguments)}return function ae(Ke,ct,Pt){return be.apply(this,arguments)}}(be,C,M,P),{gtagCore:be,wrappedGtag:window[ae]}}(gi,Us,Po,La,"gtag");Fo=be,Lo=Ke,Fa=!0}return gi[H]=function Pa(C,M,P,H,ae,be,Ke){return lo.apply(this,arguments)}(C,Us,Po,M,Lo,La,P),new ko(C)}function zp(){return pd.apply(this,arguments)}function pd(){return(pd=(0,U.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const sc="@firebase/analytics";!function ii(){(0,se._registerComponent)(new de.wA(Ai,(M,{options:P})=>yu(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function C(M){try{const P=M.getProvider(Ai).getImmediate();return{logEvent:(H,ae,be)=>function sl(C,M,P,H){C=(0,ne.m9)(C),function Wh(C,M,P,H,ae){return xo.apply(this,arguments)}(Fo,gi[C.app.options.appId],M,P,H).catch(ae=>rr.error(ae))}(P,H,ae,be)}}catch(P){throw Or.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,se.registerVersion)(sc,"0.8.4"),(0,se.registerVersion)(sc,"0.8.4","esm2017")}();var mi=k(4408),Ua=k(7565);const ol=new class co extends Ua.v{}(class gd extends mi.o{constructor(M,P){super(M,P),this.scheduler=M,this.work=P}schedule(M,P=0){return P>0?super.schedule(M,P):(this.delay=P,this.state=M,this.scheduler.flush(this),this)}execute(M,P){return P>0||this.closed?super.execute(M,P):this._execute(M,P)}requestAsyncId(M,P,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(M,P,H):(M.flush(this),0)}});var al=k(4986),vu=k(8505),Bs=k(9468),Vo=k(5363);const yi=new w.GfV("7.4.1"),js="__angularfire_symbol__analyticsIsSupportedValue",Hs="__angularfire_symbol__analyticsIsSupported",ul="__angularfire_symbol__remoteConfigIsSupportedValue",Eu="__angularfire_symbol__remoteConfigIsSupported",ac="__angularfire_symbol__messagingIsSupportedValue",uc="__angularfire_symbol__messagingIsSupported";function wu(C,M,P){if(M){if(1===M.length)return M[0];const be=M.filter(Ke=>Ke.app===P);if(1===be.length)return be[0]}return P.container.getProvider(C).getImmediate({optional:!0})}globalThis[Hs]||(globalThis[Hs]=zp().then(C=>globalThis[js]=C).catch(()=>globalThis[js]=!1)),globalThis[uc]||(globalThis[uc]=bt().then(C=>globalThis[ac]=C).catch(()=>globalThis[ac]=!1)),globalThis[Eu]||(globalThis[Eu]=Eo().then(C=>globalThis[ul]=C).catch(()=>globalThis[ul]=!1));const Ba=(C,M)=>{const P=M?[M]:(0,g.C6)(),H=[];return P.forEach(ae=>{ae.container.getProvider(C).instances.forEach(Ke=>{H.includes(Ke)||H.push(Ke)})}),H};function Iu(){}class bs{constructor(M,P=ol){this.zone=M,this.delegate=P}now(){return this.delegate.now()}schedule(M,P,H){const ae=this.zone;return this.delegate.schedule(function(Ke){ae.runGuarded(()=>{M.apply(this,[Ke])})},P,H)}}class cc{constructor(M){this.zone=M,this.task=null}call(M,P){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Iu,{},Iu,Iu)),P.pipe((0,vu.b)({next:H,complete:H,error:H})).subscribe(M).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Du=(()=>{class C{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new bs(Zone.current)),this.insideAngular=P.run(()=>new bs(Zone.current,al.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(P){return new(P||C)(w.LFG(w.R0b))},C.\u0275prov=w.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $s(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Gs(C){return $s(),function _d(C){return function(P){return(P=P.lift(new cc(C.ngZone))).pipe((0,Bs.R)(C.outsideAngular),(0,Vo.Q)(C.insideAngular))}}($s())(C)}},2090:(yt,De,k)=>{k.d(De,{$s:()=>ut,BH:()=>Oe,G6:()=>Ue,L:()=>fe,LL:()=>Zt,Pz:()=>Q,Sg:()=>Re,UG:()=>xe,US:()=>de,ZB:()=>K,ZR:()=>Ot,aH:()=>Ye,b$:()=>ve,eu:()=>rt,hl:()=>nt,jU:()=>lt,m9:()=>Yt,ne:()=>Pe,pd:()=>Vi,r3:()=>Ur,ru:()=>Te,tV:()=>pe,uI:()=>Be,vZ:()=>_t,w1:()=>vt,xO:()=>sr,xb:()=>$r,z$:()=>Qe,zI:()=>q,zd:()=>Gr});const se=function(J){const z=[];let ie=0;for(let He=0;He<J.length;He++){let ce=J.charCodeAt(He);ce<128?z[ie++]=ce:ce<2048?(z[ie++]=ce>>6|192,z[ie++]=63&ce|128):55296==(64512&ce)&&He+1<J.length&&56320==(64512&J.charCodeAt(He+1))?(ce=65536+((1023&ce)<<10)+(1023&J.charCodeAt(++He)),z[ie++]=ce>>18|240,z[ie++]=ce>>12&63|128,z[ie++]=ce>>6&63|128,z[ie++]=63&ce|128):(z[ie++]=ce>>12|224,z[ie++]=ce>>6&63|128,z[ie++]=63&ce|128)}return z},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,z){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let ce=0;ce<J.length;ce+=3){const dt=J[ce],At=ce+1<J.length,Dn=At?J[ce+1]:0,Ln=ce+2<J.length,gn=Ln?J[ce+2]:0;let Mt=(15&Dn)<<2|gn>>6,Tn=63&gn;Ln||(Tn=64,At||(Mt=64)),He.push(ie[dt>>2],ie[(3&dt)<<4|Dn>>4],ie[Mt],ie[Tn])}return He.join("")},encodeString(J,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(J):this.encodeByteArray(se(J),z)},decodeString(J,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(J):function(J){const z=[];let ie=0,He=0;for(;ie<J.length;){const ce=J[ie++];if(ce<128)z[He++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const dt=J[ie++];z[He++]=String.fromCharCode((31&ce)<<6|63&dt)}else if(ce>239&&ce<365){const Ln=((7&ce)<<18|(63&J[ie++])<<12|(63&J[ie++])<<6|63&J[ie++])-65536;z[He++]=String.fromCharCode(55296+(Ln>>10)),z[He++]=String.fromCharCode(56320+(1023&Ln))}else{const dt=J[ie++],At=J[ie++];z[He++]=String.fromCharCode((15&ce)<<12|(63&dt)<<6|63&At)}}return z.join("")}(this.decodeStringToByteArray(J,z))},decodeStringToByteArray(J,z){this.init_();const ie=z?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let ce=0;ce<J.length;){const dt=ie[J.charAt(ce++)],Dn=ce<J.length?ie[J.charAt(ce)]:0;++ce;const gn=ce<J.length?ie[J.charAt(ce)]:64;++ce;const Ae=ce<J.length?ie[J.charAt(ce)]:64;if(++ce,null==dt||null==Dn||null==gn||null==Ae)throw Error();He.push(dt<<2|Dn>>4),64!==gn&&(He.push(Dn<<4&240|gn>>2),64!==Ae&&He.push(gn<<6&192|Ae))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}},fe=function(J){return function(J){const z=se(J);return de.encodeByteArray(z,!0)}(J).replace(/\./g,"")},pe=function(J){try{return de.decodeString(J,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function K(J,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return z}for(const ie in z)!z.hasOwnProperty(ie)||!te(ie)||(J[ie]=K(J[ie],z[ie]));return J}function te(J){return"__proto__"!==J}function Qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function Te(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){const J=Qe();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Ue(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function rt(){return new Promise((J,z)=>{try{let ie=!0;const He="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(He);ce.onsuccess=()=>{ce.result.close(),ie||self.indexedDB.deleteDatabase(He),J(!0)},ce.onupgradeneeded=()=>{ie=!1},ce.onerror=()=>{var dt;z((null===(dt=ce.error)||void 0===dt?void 0:dt.message)||"")}}catch(ie){z(ie)}})}function q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const me=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=J&&pe(J[1]);return z&&JSON.parse(z)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Ye=()=>{var J;return null===(J=me())||void 0===J?void 0:J.config},Q=J=>{var z;return null===(z=me())||void 0===z?void 0:z[`_${J}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,ie)=>{this.resolve=z,this.reject=ie})}wrapCallback(z){return(ie,He)=>{ie?this.reject(ie):this.resolve(He),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(ie):z(ie,He))}}}function Re(J,z){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=z||"demo-project",ce=J.iat||0,dt=J.sub||J.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const At=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:ce,exp:ce+3600,auth_time:ce,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},J);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(At)),""].join(".")}class Ot extends Error{constructor(z,ie,He){super(ie),this.code=z,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(z,ie,He){this.service=z,this.serviceName=ie,this.errors=He}create(z,...ie){const He=ie[0]||{},ce=`${this.service}/${z}`,dt=this.errors[z],At=dt?function Jt(J,z){return J.replace(Hn,(ie,He)=>{const ce=z[He];return null!=ce?String(ce):`<${He}?>`})}(dt,He):"Error";return new Ot(ce,`${this.serviceName}: ${At} (${ce}).`,He)}}const Hn=/\{\$([^}]+)}/g;function Ur(J,z){return Object.prototype.hasOwnProperty.call(J,z)}function $r(J){for(const z in J)if(Object.prototype.hasOwnProperty.call(J,z))return!1;return!0}function _t(J,z){if(J===z)return!0;const ie=Object.keys(J),He=Object.keys(z);for(const ce of ie){if(!He.includes(ce))return!1;const dt=J[ce],At=z[ce];if(br(dt)&&br(At)){if(!_t(dt,At))return!1}else if(dt!==At)return!1}for(const ce of He)if(!ie.includes(ce))return!1;return!0}function br(J){return null!==J&&"object"==typeof J}function sr(J){const z=[];for(const[ie,He]of Object.entries(J))Array.isArray(He)?He.forEach(ce=>{z.push(encodeURIComponent(ie)+"="+encodeURIComponent(ce))}):z.push(encodeURIComponent(ie)+"="+encodeURIComponent(He));return z.length?"&"+z.join("&"):""}function Gr(J){const z={};return J.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[ce,dt]=He.split("=");z[decodeURIComponent(ce)]=decodeURIComponent(dt)}}),z}function Vi(J){const z=J.indexOf("?");if(!z)return"";const ie=J.indexOf("#",z);return J.substring(z,ie>0?ie:void 0)}function Pe(J,z){const ie=new Y(J,z);return ie.subscribe.bind(ie)}class Y{constructor(z,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{z(this)}).catch(He=>{this.error(He)})}next(z){this.forEachObserver(ie=>{ie.next(z)})}error(z){this.forEachObserver(ie=>{ie.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,ie,He){let ce;if(void 0===z&&void 0===ie&&void 0===He)throw new Error("Missing Observer.");ce=function Ce(J,z){if("object"!=typeof J||null===J)return!1;for(const ie of z)if(ie in J&&"function"==typeof J[ie])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:ie,complete:He},void 0===ce.next&&(ce.next=Ve),void 0===ce.error&&(ce.error=Ve),void 0===ce.complete&&(ce.complete=Ve);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),dt}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,z)}sendOne(z,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{ie(this.observers[z])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ve(){}function ut(J,z=1e3,ie=2){const He=z*Math.pow(ie,J),ce=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+ce)}function Yt(J){return J&&J._delegate?J._delegate:J}},5696:(yt,De,k)=>{var w=k(6895),g=k(4650);class U extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class se extends U{static makeCurrent(){(0,w.HT)(new se)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function de(){return ne=ne||document.querySelector("base"),ne?ne.getAttribute("href"):null}();return null==t?null:function fe(n){le=le||document.createElement("a"),le.setAttribute("href",n);const e=le.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,w.Mx)(document.cookie,e)}}let le,ne=null;const pe=new g.OlP("TRANSITION_ID"),K=[{provide:g.ip1,useFactory:function $(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=(0,w.q)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[pe,w.K0,g.zs3],multi:!0}];let Qe=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Be=new g.OlP("EventManagerPlugins");let xe=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Be),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class lt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,w.q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Te=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n extends Te{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ht))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(w.K0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function ht(n){(0,w.q)().remove(n)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g;function ee(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ee(n,o,t):(o=o.replace($e,n),t.push(o))}return t}function ue(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let me=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Je(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case g.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Oe(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case g.ifc.ShadowDom:return new Re(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(xe),g.LFG(ve),g.LFG(g.AFp))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class Je{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Q(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Q(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=vt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=vt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,o&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ue(r)):this.eventManager.addEventListener(e,t,ue(r))}}function Q(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Oe extends Je{constructor(e,t,r,o){super(e),this.component=r;const u=ee(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function q(n){return"_ngcontent-%COMP%".replace($e,n)}(o+"-"+r.id),this.hostAttr=function _e(n){return"_nghost-%COMP%".replace($e,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Re extends Je{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ee(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pt=(()=>{class n extends lt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(w.K0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ot=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Hn=(()=>{class n extends lt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Ot.forEach(S=>{const N=r.indexOf(S);N>-1&&(r.splice(N,1),d+=S+".")}),d+=u,0!=r.length||0===u.length)return null;const b={};return b.domEventName=o,b.fullKey=d,b}static matchEventFullKeyCode(t,r){let o=Zt[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ot.forEach(d=>{d!==o&&(0,Jt[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(w.K0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const $r=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:w.bD},{provide:g.g9A,useValue:function Sr(){se.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Ur(){return(0,g.RDi)(document),document},deps:[]}]),Fi=new g.OlP(""),_t=[{provide:g.rWj,useClass:class te{addToWindow(e){g.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const o=g.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(b){d=d||b,u--,0==u&&r(d)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?(0,w.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],br=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Di(){return new g.qLn},deps:[]},{provide:Be,useClass:pt,multi:!0,deps:[w.K0,g.R0b,g.Lbi]},{provide:Be,useClass:Hn,multi:!0,deps:[w.K0]},{provide:me,useClass:me,deps:[xe,ve,g.AFp]},{provide:g.FYo,useExisting:me},{provide:Te,useExisting:ve},{provide:ve,useClass:ve,deps:[w.K0]},{provide:xe,useClass:xe,deps:[Be,g.R0b]},{provide:w.JF,useClass:Qe,deps:[]},[]];let Ji=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:pe,useExisting:g.AFp},K]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Fi,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...br,..._t],imports:[w.ez,g.hGG]}),n})(),Pe=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(w.K0))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Qn(){return new Pe((0,g.LFG)(w.K0))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var qe=k(8996),Ae=k(9646),Mt=k(7579);class Tn extends Mt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Jn=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var or=k(9751),$n=k(4742),ci=k(4671),Ss=k(3268),Qt=k(3269),Gn=k(1810),tr=k(5403),ua=k(9672);function di(...n){const e=(0,Qt.yG)(n),t=(0,Qt.jO)(n),{args:r,keys:o}=(0,$n.D)(n);if(0===r.length)return(0,qe.D)([],e);const u=new or.y(function ar(n,e,t=ci.y){return r=>{Xi(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let b=0;b<o;b++)Xi(e,()=>{const S=(0,qe.D)(n[b],e);let N=!1;S.subscribe((0,tr.x)(r,j=>{u[b]=j,N||(N=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>(0,Gn.n)(o,d):ci.y));return t?u.pipe((0,Ss.Z)(t)):u}function Xi(n,e,t){n?(0,ua.f)(t,n,e):e()}var ei=k(7272),ur=k(9770),lr=k(9635),zr=k(576);function mn(n,e){const t=(0,zr.m)(n)?n:()=>n,r=o=>o.error(t());return new or.y(e?o=>e.schedule(r,0,o):r)}var ys=k(515),la=k(727),Kn=k(4482);function Ms(){return(0,Kn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,tr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class es extends or.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Kn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new la.w0;const t=this.getSubject();e.add(this.source.subscribe((0,tr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=la.w0.EMPTY)}return e}refCount(){return Ms()(this)}}var Ct=k(4004),yn=k(3900),_n=k(5698);function xs(...n){const e=(0,Qt.yG)(n);return(0,Kn.e)((t,r)=>{(e?(0,ei.z)(n,t,e):(0,ei.z)(n,t)).subscribe(r)})}var dn=k(9300),Rn=k(5577);function Rs(n){return(0,Kn.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Js(n=ru){return(0,Kn.e)((e,t)=>{let r=!1;e.subscribe((0,tr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function ru(){return new Jn}function zn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,dn.h)((o,u)=>n(o,u,r)):ci.y,(0,_n.q)(1),t?Rs(e):Js(()=>new Jn))}var Os=k(4351),pr=k(8505),ca=k(8421);function Ui(n){return(0,Kn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,tr.x)(t,void 0,void 0,d=>{u=(0,ca.Xf)(n(d,Ui(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function iu(n,e,t,r,o){return(u,d)=>{let m=t,b=e,S=0;u.subscribe((0,tr.x)(d,N=>{const j=S++;b=m?n(b,N,j):(m=!0,N),r&&d.next(b)},o&&(()=>{m&&d.next(b),d.complete()})))}}function Zn(n,e){return(0,Kn.e)(iu(n,e,arguments.length>=2,!0))}function da(n){return n<=0?()=>ys.E:(0,Kn.e)((e,t)=>{let r=[];e.subscribe((0,tr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Zl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,dn.h)((o,u)=>n(o,u,r)):ci.y,da(1),t?Rs(e):Js(()=>new Jn))}function Yl(n){return(0,Ct.U)(()=>n)}function ha(n){return(0,Kn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Xs=k(8189);const Gt="primary",fa=Symbol("RouteTitle");class Ku{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vo(n){return new Ku(n)}function ud(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ir(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!su(n[o],e[o]))return!1;return!0}function su(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function ou(n){return Array.prototype.concat.apply([],n)}function Eo(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function xr(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,qe.D)(Promise.resolve(n)):(0,Ae.of)(n)}const bo={exact:function eo(n,e,t){if(!Nn(n.segments,e.segments)||!rs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!eo(n.children[r],e.children[r],t))return!1;return!0},subset:ti},wo={exact:function Ql(n,e){return Ir(n,e)},subset:function ns(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>su(n[t],e[t]))},ignored:()=>!0};function pa(n,e,t){return bo[t.paths](n.root,e.root,t.matrixParams)&&wo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ti(n,e,t){return Wr(n,e,e.segments,t)}function Wr(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Nn(o,t)||e.hasChildren()||!rs(o,t,r))}if(n.segments.length===t.length){if(!Nn(n.segments,t)||!rs(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!ti(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Nn(n.segments,o)&&rs(n.segments,o,r)&&n.children[Gt])&&Wr(n.children[Gt],e,u,r)}}function rs(n,e,t){return e.every((r,o)=>wo[t](n[o].parameters,r.parameters))}class is{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vo(this.queryParams)),this._queryParamMap}toString(){return Kr.serialize(this)}}class kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ks(this)}}class Io{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vo(this.parameters)),this._parameterMap}toString(){return Do(this)}}function Nn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new qr},providedIn:"root"}),n})();class qr{parse(e){const t=new uu(e);return new is(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bi(e.root,!0)}`,r=function zt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${on(t)}=${on(o)}`).join("&"):`${on(t)}=${on(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ma(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Kr=new qr;function ks(n){return n.segments.map(e=>Do(e)).join("/")}function Bi(n,e){if(!n.hasChildren())return ks(n);if(e){const t=n.children[Gt]?Bi(n.children[Gt],!1):"",r=[];return Fn(n.children,(o,u)=>{u!==Gt&&r.push(`${u}:${Bi(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ga(n,e){let t=[];return Fn(n.children,(r,o)=>{o===Gt&&(t=t.concat(e(r,o)))}),Fn(n.children,(r,o)=>{o!==Gt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Gt?[Bi(n.children[Gt],!1)]:[`${o}:${Bi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${ks(n)}/${t[0]}`:`${ks(n)}/(${t.join("//")})`}}function ji(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(n){return ji(n).replace(/%3B/gi,";")}function ss(n){return ji(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ps(n){return decodeURIComponent(n)}function hi(n){return Ps(n.replace(/\+/g,"%20"))}function Do(n){return`${ss(n.path)}${function Yn(n){return Object.keys(n).map(e=>`;${ss(e)}=${ss(n[e])}`).join("")}(n.parameters)}`}const ya=/^[^\/()?;=#]+/;function _a(n){const e=n.match(ya);return e?e[0]:""}const va=/^[^=?&#]+/,au=/^[^&#]+/;class uu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new kt(e,t)),r}parseSegment(){const e=_a(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,!1);return this.capture(e),new Io(Ps(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_a(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=_a(this.remaining);o&&(r=o,this.capture(r))}e[Ps(t)]=Ps(r)}parseQueryParam(e){const t=function Ea(n){const e=n.match(va);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function os(n){const e=n.match(au);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=hi(t),u=hi(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_a(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new g.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Gt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Gt]:new kt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,!1)}}function Ls(n){return n.segments.length>0?new kt([],{[Gt]:n}):n}function Ge(n){const e={};for(const r of Object.keys(n.children)){const u=Ge(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function an(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new kt(n.segments.concat(e.segments),e.children)}return n}(new kt(n.segments,e))}function Hi(n){return n instanceof is}function fi(n,e,t,r,o){if(0===t.length)return _s(e.root,e.root,e.root,r,o);const u=function ro(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lu(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Fn(u.outlets,(b,S)=>{m[S]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new lu(t,e,r)}(t);return u.toRoot()?_s(e.root,e.root,new kt([],{}),r,o):function d(b){const S=function cu(n,e,t,r){if(n.isAbsolute)return new Vn(e.root,!0,0);if(-1===r)return new Vn(t,t===e.root,0);return function vs(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new g.vHH(4005,!1);o=r.segments.length}return new Vn(r,!1,o-u)}(t,r+(as(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,b),N=S.processChildren?cs(S.segmentGroup,S.index,u.commands):Qu(S.segmentGroup,S.index,u.commands);return _s(e.root,S.segmentGroup,N,r,o)}(n.snapshot?._lastPathIndex)}function as(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function us(n){return"object"==typeof n&&null!=n&&n.outlets}function _s(n,e,t,r,o){let d,u={};r&&Fn(r,(b,S)=>{u[S]=Array.isArray(b)?b.map(N=>`${N}`):`${b}`}),d=n===e?t:wa(n,e,t);const m=Ls(Ge(d));return new is(m,u,o)}function wa(n,e,t){const r={};return Fn(n.children,(o,u)=>{r[u]=o===e?t:wa(o,e,t)}),new kt(n.segments,r)}class lu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&as(r[0]))throw new g.vHH(4003,!1);const o=r.find(us);if(o&&o!==Eo(r))throw new g.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vn{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qu(n,e,t){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return cs(n,e,t);const r=function cd(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(us(m))break;const b=`${m}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&S&&"object"==typeof S&&void 0===S.outlets){if(!Da(b,S,d))return u;r+=2}else{if(!Da(b,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new kt(n.segments.slice(0,r.pathIndex),{});return u.children[Gt]=new kt(n.segments.slice(r.pathIndex),n.children),cs(u,0,o)}return r.match&&0===o.length?new kt(n.segments,{}):r.match&&!n.hasChildren()?Co(n,e,t):r.match?cs(n,0,o):Co(n,e,t)}function cs(n,e,t){if(0===t.length)return new kt(n.segments,{});{const r=function ls(n){return us(n[0])?n[0].outlets:{[Gt]:n}}(t),o={};return Fn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Qu(n.children[d],e,u))}),Fn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new kt(n.segments,o)}}function Co(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(us(u)){const b=Ia(u.outlets);return new kt(r,b)}if(0===o&&as(t[0])){r.push(new Io(n.segments[e].path,io(t[0]))),o++;continue}const d=us(u)?u.outlets[Gt]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&as(m)?(r.push(new Io(d,io(m))),o+=2):(r.push(new Io(d,{})),o++)}return new kt(r,{})}function Ia(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Co(new kt([],{}),0,t))}),e}function io(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function Da(n,e,t){return n==t.path&&Ir(e,t.parameters)}class ni{constructor(e,t){this.id=e,this.url=t}}class To extends ni{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gi extends ni{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fs extends ni{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ca extends ni{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class du extends ni{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends ni{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D extends ni{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O extends ni{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T extends ni{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class W{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bt{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class un{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cr(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=An(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return An(e,this._root).map(t=>t.value)}}function cr(n,e){if(n===e.value)return e;for(const t of e.children){const r=cr(n,t);if(r)return r}return null}function An(n,e){if(n===e.value)return[e];for(const t of e.children){const r=An(n,t);if(r.length)return r.unshift(e),r}return[]}class Sn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ri(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ti extends un{constructor(e,t){super(e),this.snapshot=t,Ta(this,e)}toString(){return this.snapshot.toString()}}function Ai(n,e){const t=function Vs(n,e){const d=new Ao([],{},{},"",{},Gt,e,null,n.root,-1,{});return new rr("",new Sn(d,[]))}(n,e),r=new Tn([new Io("",{})]),o=new Tn({}),u=new Tn({}),d=new Tn({}),m=new Tn(""),b=new Rr(r,o,d,m,u,Gt,e,t.root);return b.snapshot=t.root,new Ti(new Sn(b,[]),t)}class Rr{constructor(e,t,r,o,u,d,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Ct.U)(S=>S[fa]))??(0,Ae.of)(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>vo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>vo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zi(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Es(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ao{constructor(e,t,r,o,u,d,m,b,S,N,j,oe){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.[fa],this.routeConfig=b,this._urlSegment=S,this._lastPathIndex=N,this._correctedLastPathIndex=oe??N,this._resolve=j}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rr extends un{constructor(e,t){super(t),this.url=e,Ta(this,t)}toString(){return dd(this._root)}}function Ta(n,e){e.value._routerState=n,e.children.forEach(t=>Ta(n,t))}function dd(n){const e=n.children.length>0?` { ${n.children.map(dd).join(", ")} } `:"";return`${n.value}${e}`}function Xl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ir(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ir(e.params,t.params)||n.params.next(t.params),function Zu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ir(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ir(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ju(n,e){const t=Ir(n.params,e.params)&&function Jl(n,e){return Nn(n,e)&&n.every((t,r)=>Ir(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ju(n.parent,e.parent))}function so(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function So(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return so(n,r,o);return so(n,r)})}(n,e,t);return new Sn(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>so(n,m)),d}}const r=function ec(n){return new Rr(new Tn(n.url),new Tn(n.params),new Tn(n.queryParams),new Tn(n.fragment),new Tn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>so(n,u));return new Sn(r,o)}}const Aa="ngNavigationCancelingError";function tc(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=nc(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function nc(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Aa]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Or(n){return fu(n)&&Hi(n.url)}function fu(n){return n&&n[Aa]}class pu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pu,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oo=!1;let hd=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=o||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,oo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,oo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,oo);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,oo);this._activatedRoute=t;const o=this.location,d=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,b=new Sa(t,m,o.injector);if(r&&function el(n){return!!n.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(d);this.activated=o.createComponent(S,o.length,b)}else this.activated=o.createComponent(d,{index:o.length,injector:b,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(pi),g.Y36(g.s_b),g.$8M("name"),g.Y36(g.sBO),g.Y36(g.lqb))},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Sa{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Rr?this.route:e===pi?this.childContexts:this.parent.get(e,t)}}let dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[hd],encapsulation:2}),n})();function Si(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function gu(n){const e=n.children&&n.children.map(gu),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=dr),t}function Dr(n){return n.outlet||Gt}function Ra(n,e){const t=n.filter(r=>Dr(r)===e);return t.push(...n.filter(r=>Dr(r)!==e)),t}function Ro(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ao{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=ri(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Fn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ri(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=ri(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=ri(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new vn(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Ne(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Xl(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Xl(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Ro(o.snapshot),b=m?.get(g._Vd)??null;d.attachRef=null,d.route=o,d.resolver=b,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class nl{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Oo{constructor(e,t){this.component=e,this.route=t}}function Na(n,e,t){const r=n._root;return ka(r,e?e._root:null,t,[r.value])}function No(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function ka(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=ri(e);return n.children.forEach(d=>{(function rl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const b=function Pa(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Nn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nn(n.url,e.url)||!Ir(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ju(n,e)||!Ir(n.queryParams,e.queryParams);default:return!Ju(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new nl(r)):(u.data=d.data,u._resolvedData=d._resolvedData),ka(n,e,u.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Oo(m.outlet.component,d))}else d&&lo(e,m,o),o.canActivateChecks.push(new nl(r)),ka(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Fn(u,(d,m)=>lo(d,t.getContext(m),o)),o}function lo(n,e,t){const r=ri(n),o=n.value;Fn(r,(u,d)=>{lo(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Oo(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function ko(n){return"function"==typeof n}function Un(n){return n instanceof Jn||"EmptyError"===n?.name}const ic=Symbol("INITIAL_VALUE");function yu(){return(0,yn.w)(n=>di(n.map(e=>e.pipe((0,_n.q)(1),xs(ic)))).pipe((0,Ct.U)(e=>{for(const t of e)if(!0!==t){if(t===ic)return ic;if(!1===t||t instanceof is)return t}return!0}),(0,dn.h)(e=>e!==ic),(0,_n.q)(1)))}function sl(n){return(0,lr.z)((0,pr.b)(e=>{if(Hi(e))throw tc(0,e)}),(0,Ct.U)(e=>!0===e))}const sc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _u(n,e,t,r,o){const u=ii(n,e,t);return u.matched?function Va(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Ae.of)(!0);const u=o.map(d=>{const m=No(d,n);return xr(function Lo(n){return n&&ko(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,Ae.of)(u).pipe(yu(),sl())}(r=Si(e,r),e,t).pipe((0,Ct.U)(d=>!0===d?u:{...sc})):(0,Ae.of)(u)}function ii(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sc}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||ud)(t,n,e);if(!o)return{...sc};const u={};Fn(o.posParams,(m,b)=>{u[b]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function mi(n,e,t,r,o="corrected"){if(t.length>0&&function co(n,e,t){return t.some(r=>oc(n,e,r)&&Dr(r)!==Gt)}(n,t,r)){const d=new kt(e,function Ua(n,e,t,r){const o={};o[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Dr(u)!==Gt){const d=new kt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Dr(u)]=d}return o}(n,e,r,new kt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function ol(n,e,t){return t.some(r=>oc(n,e,r))}(n,t,r)){const d=new kt(n.segments,function gd(n,e,t,r,o,u){const d={};for(const m of r)if(oc(n,t,m)&&!o[Dr(m)]){const b=new kt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Dr(m)]=b}return{...o,...d}}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new kt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function oc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function al(n,e,t,r){return!!(Dr(n)===r||r!==Gt&&oc(e,t,n))&&("**"===n.path||ii(e,n,t).matched)}function vu(n,e,t){return 0===e.length&&!n.children[t]}const Bs=!1;class Vo{constructor(e){this.segmentGroup=e||null}}class yi{constructor(e){this.urlTree=e}}function js(n){return mn(new Vo(n))}function Hs(n){return mn(new yi(n))}class uc{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=mi(this.urlTree.root,[],[],this.config).segmentGroup,t=new kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Gt).pipe((0,Ct.U)(u=>this.createUrlTree(Ge(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ui(u=>{if(u instanceof yi)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Vo?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Gt).pipe((0,Ct.U)(o=>this.createUrlTree(Ge(o),e.queryParams,e.fragment))).pipe(Ui(o=>{throw o instanceof Vo?this.noMatchError(o):o}))}noMatchError(e){return new g.vHH(4002,Bs)}createUrlTree(e,t,r){const o=Ls(e);return new is(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(u=>new kt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,qe.D)(o).pipe((0,Os.b)(u=>{const d=r.children[u],m=Ra(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Ct.U)(b=>({segment:b,outlet:u})))}),Zn((u,d)=>(u[d.outlet]=d.segment,u),{}),Zl())}expandSegment(e,t,r,o,u,d){return(0,qe.D)(r).pipe((0,Os.b)(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(Ui(S=>{if(S instanceof Vo)return(0,Ae.of)(null);throw S}))),zn(m=>!!m),Ui((m,b)=>{if(Un(m))return vu(t,o,u)?(0,Ae.of)(new kt([],{})):js(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return al(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):js(t):js(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Hs(u):this.lineralizeSegments(r,u).pipe((0,Rn.z)(d=>{const m=new kt(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:b,remainingSegments:S,positionalParamSegments:N}=ii(t,o,u);if(!m)return js(t);const j=this.applyRedirectCommands(b,o.redirectTo,N);return o.redirectTo.startsWith("/")?Hs(j):this.lineralizeSegments(o,j).pipe((0,Rn.z)(oe=>this.expandSegment(e,t,r,oe.concat(S),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=Si(r,e),r.loadChildren?(r._loadedRoutes?(0,Ae.of)({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ct.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new kt(o,{})))):(0,Ae.of)(new kt(o,{}))):_u(t,r,o,e).pipe((0,yn.w)(({matched:d,consumedSegments:m,remainingSegments:b})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Rn.z)(N=>{const j=N.injector??e,oe=N.routes,{segmentGroup:Ie,slicedSegments:Fe}=mi(t,m,b,oe),tt=new kt(Ie.segments,Ie.children);if(0===Fe.length&&tt.hasChildren())return this.expandChildren(j,oe,tt).pipe((0,Ct.U)(wn=>new kt(m,wn)));if(0===oe.length&&0===Fe.length)return(0,Ae.of)(new kt(m,{}));const ot=Dr(r)===u;return this.expandSegment(j,tt,oe,Fe,ot?Gt:u,!0).pipe((0,Ct.U)(bn=>new kt(m.concat(bn.segments),bn.children)))})):js(t)))}getChildConfig(e,t,r){return t.children?(0,Ae.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Ae.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Nr(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Ae.of)(!0);const u=o.map(d=>{const m=No(d,n);return xr(function Us(n){return n&&ko(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,Ae.of)(u).pipe(yu(),sl())}(e,t,r).pipe((0,Rn.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,pr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Eu(n){return mn(nc(Bs,3))}())):(0,Ae.of)({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Ae.of)(r);if(o.numberOfChildren>1||!o.children[Gt])return mn(new g.vHH(4e3,Bs));o=o.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new is(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Fn(t.children,(m,b)=>{d[b]=this.createSegmentGroup(e,m,r,o)}),new kt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new g.vHH(4001,Bs);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class md{}class Ba{constructor(e,t,r,o,u,d,m,b){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=m,this.urlSerializer=b}recognize(){const e=mi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Gt).pipe((0,Ct.U)(t=>{if(null===t)return null;const r=new Ao([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Sn(r,t),u=new rr(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=zi(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,qe.D)(Object.keys(r.children)).pipe((0,Os.b)(o=>{const u=r.children[o],d=Ra(t,o);return this.processSegmentGroup(e,d,u,o)}),Zn((o,u)=>o&&u?(o.push(...u),o):null),function ts(n,e=!1){return(0,Kn.e)((t,r)=>{let o=0;t.subscribe((0,tr.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),Rs(null),Zl(),(0,Ct.U)(o=>{if(null===o)return null;const u=Du(o);return function Iu(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,qe.D)(t).pipe((0,Os.b)(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),zn(d=>!!d),Ui(d=>{if(Un(d))return vu(r,o,u)?(0,Ae.of)([]):(0,Ae.of)(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!al(t,r,o,u))return(0,Ae.of)(null);let d;if("**"===t.path){const m=o.length>0?Eo(o).parameters:{},b=ws(r)+o.length,S=new Ao(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uo(t),Dr(t),t.component??t._loadedComponent??null,t,ll(r),b,Gs(t),b);d=(0,Ae.of)({snapshot:S,consumedSegments:[],remainingSegments:[]})}else d=_u(r,t,o,e).pipe((0,Ct.U)(({matched:m,consumedSegments:b,remainingSegments:S,parameters:N})=>{if(!m)return null;const j=ws(r)+b.length;return{snapshot:new Ao(b,N,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uo(t),Dr(t),t.component??t._loadedComponent??null,t,ll(r),j,Gs(t),j),consumedSegments:b,remainingSegments:S}}));return d.pipe((0,yn.w)(m=>{if(null===m)return(0,Ae.of)(null);const{snapshot:b,consumedSegments:S,remainingSegments:N}=m;e=t._injector??e;const j=t._loadedInjector??e,oe=function bs(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Ie,slicedSegments:Fe}=mi(r,S,N,oe.filter(ot=>void 0===ot.redirectTo),this.relativeLinkResolution);if(0===Fe.length&&Ie.hasChildren())return this.processChildren(j,oe,Ie).pipe((0,Ct.U)(ot=>null===ot?null:[new Sn(b,ot)]));if(0===oe.length&&0===Fe.length)return(0,Ae.of)([new Sn(b,[])]);const tt=Dr(t)===u;return this.processSegment(j,oe,Ie,Fe,tt?Gt:u).pipe((0,Ct.U)(ot=>null===ot?null:[new Sn(b,ot)]))}))}}function cc(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Du(n){const e=[],t=new Set;for(const r of n){if(!cc(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Du(r.children);e.push(new Sn(r.value,o))}return e.filter(r=>!t.has(r))}function ll(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ws(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Uo(n){return n.data||{}}function Gs(n){return n.resolve||{}}function H(n){return"string"==typeof n.title||null===n.title}function ae(n){return(0,yn.w)(e=>{const t=n(e);return t?(0,qe.D)(t).pipe((0,Ct.U)(()=>e)):(0,Ae.of)(e)})}let be=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Gt);return r}getResolvedTitleForRoute(t){return t.data[fa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Ke)},providedIn:"root"}),n})(),Ke=(()=>{class n extends be{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Pe))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pt{}class nn extends class Ht{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Wn=new g.OlP("",{providedIn:"root",factory:()=>({})}),ho=new g.OlP("ROUTES");let fo=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Ae.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=xr(t.loadComponent()).pipe((0,pr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ha(()=>{this.componentLoaders.delete(t)})),o=new es(r,()=>new Mt.x).pipe(Ms());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Ae.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ct.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let b,S,N=!1;Array.isArray(m)?S=m:(b=m.create(t).injector,S=ou(b.get(ho,[],g.XFs.Self|g.XFs.Optional)));return{routes:S.map(gu),injector:b}}),ha(()=>{this.childrenLoaders.delete(r)})),d=new es(u,()=>new Mt.x).pipe(Ms());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return xr(t()).pipe((0,Rn.z)(r=>r instanceof g.YKP||Array.isArray(r)?(0,Ae.of)(r):(0,qe.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.zs3),g.LFG(g.Sil))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bo{}class ja{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jo(n){throw n}function Ha(n,e,t){return e.parse("/")}const Ho={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Zp(){const n=(0,g.f3M)(Yu),e=(0,g.f3M)(pi),t=(0,g.f3M)(w.Ye),r=(0,g.f3M)(g.zs3),o=(0,g.f3M)(g.Sil),u=(0,g.f3M)(ho,{optional:!0})??[],d=(0,g.f3M)(Wn,{optional:!0})??{},m=(0,g.f3M)(Ke),b=(0,g.f3M)(be,{optional:!0}),S=(0,g.f3M)(Bo,{optional:!0}),N=(0,g.f3M)(Pt,{optional:!0}),j=new jr(null,n,e,t,r,o,ou(u));return S&&(j.urlHandlingStrategy=S),N&&(j.routeReuseStrategy=N),j.titleStrategy=b??m,function Kp(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,j),j}let jr=(()=>{class n{constructor(t,r,o,u,d,m,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.x,this.errorHandler=jo,this.malformedUriErrorHandler=Ha,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.urlHandlingStrategy=new ja,this.routeReuseStrategy=new nn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=d.get(fo),this.configLoader.onLoadEndListener=oe=>this.triggerEvent(new W(oe)),this.configLoader.onLoadStartListener=oe=>this.triggerEvent(new F(oe)),this.ngModule=d.get(g.h0i),this.console=d.get(g.c2e);const j=d.get(g.R0b);this.isNgZoneEnabled=j instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function Ns(){return new is(new kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ai(this.currentUrlTree,this.rootComponentType),this.transitions=new Tn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,dn.h)(o=>0!==o.id),(0,Ct.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),(0,yn.w)(o=>{let u=!1,d=!1;return(0,Ae.of)(o).pipe((0,pr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,yn.w)(m=>{const b=this.browserUrlTree.toString(),S=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return dc(m.source)&&(this.browserUrlTree=m.extractedUrl),(0,Ae.of)(m).pipe((0,yn.w)(j=>{const oe=this.transitions.getValue();return r.next(new To(j.id,this.serializeUrl(j.extractedUrl),j.source,j.restoredState)),oe!==this.transitions.getValue()?ys.E:Promise.resolve(j)}),function bu(n,e,t,r){return(0,yn.w)(o=>function ac(n,e,t,r,o){return new uc(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Ct.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pr.b)(j=>{this.currentNavigation={...this.currentNavigation,finalUrl:j.urlAfterRedirects},o.urlAfterRedirects=j.urlAfterRedirects}),function _d(n,e,t,r,o,u){return(0,Rn.z)(d=>function wu(n,e,t,r,o,u,d="emptyOnly",m="legacy"){return new Ba(n,e,t,r,o,d,m,u).recognize().pipe((0,yn.w)(b=>null===b?function qp(n){return new or.y(e=>e.error(n))}(new md):(0,Ae.of)(b)))}(n,e,t,d.urlAfterRedirects,r.serialize(d.urlAfterRedirects),r,o,u).pipe((0,Ct.U)(m=>({...d,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pr.b)(j=>{if(o.targetSnapshot=j.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const Ie=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(Ie,j)}this.browserUrlTree=j.urlAfterRedirects}const oe=new du(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);r.next(oe)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:oe,extractedUrl:Ie,source:Fe,restoredState:tt,extras:ot}=m,ln=new To(oe,this.serializeUrl(Ie),Fe,tt);r.next(ln);const bn=Ai(Ie,this.rootComponentType).snapshot;return o={...m,targetSnapshot:bn,urlAfterRedirects:Ie,extras:{...ot,skipLocationChange:!1,replaceUrl:!1}},(0,Ae.of)(o)}return this.rawUrlTree=m.rawUrl,m.resolve(null),ys.E}),(0,pr.b)(m=>{const b=new hu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,Ct.U)(m=>o={...m,guards:Na(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function qh(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,Ae.of)({...t,guardsResult:!0}):function Gp(n,e,t,r){return(0,qe.D)(n).pipe((0,Rn.z)(o=>function fy(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Ae.of)(!0);const d=u.map(m=>{const b=Ro(e)??o,S=No(m,b);return xr(function mu(n){return n&&ko(n.canDeactivate)}(S)?S.canDeactivate(n,e,t,r):b.runInContext(()=>S(n,e,t,r))).pipe(zn())});return(0,Ae.of)(d).pipe(yu())}(o.component,o.route,t,e,r)),zn(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Rn.z)(m=>m&&function gi(n){return"boolean"==typeof n}(m)?function zp(n,e,t,r){return(0,qe.D)(e).pipe((0,Os.b)(o=>(0,ei.z)(function hy(n,e){return null!==n&&e&&e(new Ee(n)),(0,Ae.of)(!0)}(o.route.parent,r),function pd(n,e){return null!==n&&e&&e(new bt(n)),(0,Ae.of)(!0)}(o.route,r),function Wp(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function uo(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>(0,ur.P)(()=>{const m=d.guards.map(b=>{const S=Ro(d.node)??t,N=No(b,S);return xr(function La(n){return n&&ko(n.canActivateChild)}(N)?N.canActivateChild(r,n):S.runInContext(()=>N(r,n))).pipe(zn())});return(0,Ae.of)(m).pipe(yu())}));return(0,Ae.of)(u).pipe(yu())}(n,o.path,t),function il(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ae.of)(!0);const o=r.map(u=>(0,ur.P)(()=>{const d=Ro(e)??t,m=No(u,d);return xr(function Po(n){return n&&ko(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(zn())}));return(0,Ae.of)(o).pipe(yu())}(n,o.route,t))),zn(o=>!0!==o,!0))}(r,u,n,e):(0,Ae.of)(m)),(0,Ct.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,pr.b)(m=>{if(o.guardsResult=m.guardsResult,Hi(m.guardsResult))throw tc(0,m.guardsResult);const b=new D(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),(0,dn.h)(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),ae(m=>{if(m.guards.canActivateChecks.length)return(0,Ae.of)(m).pipe((0,pr.b)(b=>{const S=new O(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}),(0,yn.w)(b=>{let S=!1;return(0,Ae.of)(b).pipe(function gr(n,e){return(0,Rn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Ae.of)(t);let u=0;return(0,qe.D)(o).pipe((0,Os.b)(d=>function Kh(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!H(o)&&(u[fa]=o.title),function C(n,e,t,r){const o=function M(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Ae.of)({});const u={};return(0,qe.D)(o).pipe((0,Rn.z)(d=>function P(n,e,t,r){const o=Ro(e)??r,u=No(n,o);return xr(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(zn(),(0,pr.b)(m=>{u[d]=m}))),da(1),Yl(u),Ui(d=>Un(d)?ys.E:mn(d)))}(u,n,e,r).pipe((0,Ct.U)(d=>(n._resolvedData=d,n.data=zi(n,t).resolve,o&&H(o)&&(n.data[fa]=o.title),null)))}(d.route,r,n,e)),(0,pr.b)(()=>u++),da(1),(0,Rn.z)(d=>u===o.length?(0,Ae.of)(t):ys.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),(0,pr.b)(b=>{const S=new T(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(S)}))}),ae(m=>{const b=S=>{const N=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,pr.b)(j=>{S.component=j}),(0,Ct.U)(()=>{})));for(const j of S.children)N.push(...b(j));return N};return di(b(m.targetSnapshot.root)).pipe(Rs(),(0,_n.q)(1))}),ae(()=>this.afterPreactivation()),(0,Ct.U)(m=>{const b=function Xu(n,e,t){const r=so(n,e._root,t?t._root:void 0);return new Ti(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:b}}),(0,pr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new ao(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,pr.b)({next(){u=!0},complete(){u=!0}}),ha(()=>{u||d||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ui(m=>{if(d=!0,fu(m)){Or(m)||(this.navigated=!0,this.restoreHistory(o,!0));const b=new Fs(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(b),Or(m)){const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dc(o.source)};this.scheduleNavigation(S,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new Ca(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(b);try{o.resolve(this.errorHandler(m))}catch(S){o.reject(S)}}return ys.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(gu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:b}=r,S=o||this.routerState.root,N=b?this.currentUrlTree.fragment:d;let j=null;switch(m){case"merge":j={...this.currentUrlTree.queryParams,...u};break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=u||null}return null!==j&&(j=this.removeEmptyProps(j)),fi(S,this.currentUrlTree,t,j,N??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Hi(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Yp(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new g.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Ho}:!1===r?{...vd}:r,Hi(t))return pa(this.currentUrlTree,t,o);const u=this.parseUrl(t);return pa(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Gi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,b,S;d?(m=d.resolve,b=d.reject,S=d.promise):S=new Promise((oe,Ie)=>{m=oe,b=Ie});const N=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),j=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):j=0,this.setTransition({id:N,targetPageId:j,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:b,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new Fs(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:function(){return Zp()},providedIn:"root"}),n})();function dc(n){return"imperative"!==n}let Ed=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Mt.x,this.subscription=t.events.subscribe(u=>{u instanceof Gi&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,g.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,g.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,g.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){return!!(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(jr),g.Y36(Rr),g.Y36(w.S$))},n.\u0275dir=g.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&g.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&g.uIk("target",r.target)("href",r.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),n})();class Zh{}let py=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,dn.h)(t=>t instanceof Gi),(0,Os.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,g.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(d,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,qe.D)(o).pipe((0,Xs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Ae.of)(null);const u=o.pipe((0,Rn.z)(d=>null===d?(0,Ae.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,qe.D)([u,d]).pipe((0,Xs.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(jr),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(Zh),g.LFG(fo))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bd=new g.OlP("");let Tu=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof To?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Gi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof En&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new En(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();function dl(n,e){return{\u0275kind:n,\u0275providers:e}}function eg(n){return[{provide:ho,multi:!0,useValue:n}]}function Id(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(jr),o=n.get(Yh);1===n.get(Dd)&&r.initialNavigation(),n.get(Td,null,g.XFs.Optional)?.setUpPreloading(),n.get(bd,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Yh=new g.OlP("",{factory:()=>new Mt.x}),Dd=new g.OlP("",{providedIn:"root",factory:()=>1});const Td=new g.OlP("");function my(n){return dl(0,[{provide:Td,useExisting:py},{provide:Zh,useExisting:n}])}const hl=new g.OlP("ROUTER_FORROOT_GUARD"),ng=[w.Ye,{provide:Yu,useClass:qr},{provide:jr,useFactory:Zp},pi,{provide:Rr,useFactory:function Xp(n){return n.routerState.root},deps:[jr]},fo];function _y(){return new g.PXZ("Router",jr)}let rg=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[ng,[],eg(t),{provide:hl,useFactory:ig,deps:[[jr,new g.FiY,new g.tp0]]},{provide:Wn,useValue:r||{}},r?.useHash?{provide:w.S$,useClass:w.Do}:{provide:w.S$,useClass:w.b0},{provide:bd,useFactory:()=>{const n=(0,g.f3M)(jr),e=(0,g.f3M)(w.EM),t=(0,g.f3M)(Wn);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Tu(n,e,t)}},r?.preloadingStrategy?my(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:_y},r?.initialNavigation?sg(r):[],[{provide:og,useFactory:Id},{provide:g.tb,multi:!0,useExisting:og}]]}}static forChild(t){return{ngModule:n,providers:[eg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(hl,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[dr]}),n})();function ig(n){return"guarded"}function sg(n){return["disabled"===n.initialNavigation?dl(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(jr);return()=>{e.setUpLocationChangeListener()}}},{provide:Dd,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dl(2,[{provide:Dd,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(w.V_,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const d=e.get(jr),m=e.get(Yh);(function o(u){e.get(jr).events.pipe((0,dn.h)(m=>m instanceof Gi||m instanceof Fs||m instanceof Ca),(0,Ct.U)(m=>m instanceof Gi||m instanceof Fs&&(0===m.code||1===m.code)&&null),(0,dn.h)(m=>null!==m),(0,_n.q)(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),d.afterPreactivation=()=>(u(!0),r||m.closed?(0,Ae.of)(void 0):m),d.initialNavigation()}))}}]).\u0275providers:[]]}const og=new g.OlP("");var Qh=k(4128);let po=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),hs=(()=>{class n extends po{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const Is=new g.OlP("NgValueAccessor"),G0={provide:Is,useExisting:(0,g.Gpc)(()=>pl),multi:!0},z0=new g.OlP("CompositionEventMode");let pl=(()=>{class n extends po{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ag(){const n=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(z0,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[g._Bn([G0]),g.qOj]}),n})();function Au(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function vy(n){return null!=n&&"number"==typeof n.length}const Zr=new g.OlP("NgValidators"),$a=new g.OlP("NgAsyncValidators"),Ey=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Xh{static min(e){return function Md(n){return e=>{if(Au(e.value)||Au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ef(n){return e=>{if(Au(e.value)||Au(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function pc(n){return Au(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xd(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gl(n){return Au(n.value)||Ey.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ug(n){return e=>Au(e.value)||!vy(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Cr(n){return e=>vy(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function gc(n){if(!n)return Rd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Au(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return dg(e)}static composeAsync(e){return wy(e)}}function Rd(n){return null}function Od(n){return null!=n}function tf(n){return(0,g.QGY)(n)?(0,qe.D)(n):n}function nf(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lg(n,e){return e.map(t=>t(n))}function cg(n){return n.map(e=>function by(n){return!n.validate}(e)?e:t=>e.validate(t))}function dg(n){if(!n)return null;const e=n.filter(Od);return 0==e.length?null:function(t){return nf(lg(t,e))}}function ml(n){return null!=n?dg(cg(n)):null}function wy(n){if(!n)return null;const e=n.filter(Od);return 0==e.length?null:function(t){const r=lg(t,e).map(tf);return(0,Qh.D)(r).pipe((0,Ct.U)(nf))}}function Ga(n){return null!=n?wy(cg(n)):null}function Nd(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rf(n){return n._rawValidators}function sf(n){return n._rawAsyncValidators}function kd(n){return n?Array.isArray(n)?n:[n]:[]}function mc(n,e){return Array.isArray(n)?n.includes(e):n===e}function yc(n,e){const t=kd(e);return kd(n).forEach(o=>{mc(t,o)||t.push(o)}),t}function _c(n,e){return kd(e).filter(t=>!mc(n,t))}class vc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ml(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ga(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wi extends vc{get formDirective(){return null}get path(){return null}}class go extends vc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Go=(()=>{class n extends Pd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(go,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})(),hg=(()=>{class n extends Pd{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Wi,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g.qOj]}),n})();const xu="VALID",Ud="INVALID",qo="PENDING",Bd="DISABLED";function uf(n){return(h(n)?n.validators:n)||null}function _l(n){return Array.isArray(n)?ml(n):n||null}function lf(n,e){return(h(e)?e.asyncValidators:n)||null}function y(n){return Array.isArray(n)?Ga(n):n||null}function h(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function p(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,"");if(!r[t])throw new g.vHH(1001,"")}function v(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new g.vHH(1002,"")})}class R{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=_l(this._rawValidators),this._composedAsyncValidatorFn=y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===Ud}get pending(){return this.status==qo}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=_l(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=y(e)}addValidators(e){this.setValidators(yc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_c(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_c(e,this._rawAsyncValidators))}hasValidator(e){return mc(this._rawValidators,e)}hasAsyncValidator(e){return mc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===qo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qo,this._hasOwnPendingAsyncValidator=!0;const t=tf(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?Ud:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qo)?qo:this._anyControlsHaveStatus(Ud)?Ud:xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){h(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class V extends R{constructor(e,t,r){super(uf(t),lf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){v(this,0,e),Object.keys(e).forEach(r=>{p(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class it extends V{}function St(n,e){df(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Cy(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hf(n,e)})}(n,e),function Ay(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ty(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hf(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function cf(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function mr(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),za(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _i(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function df(n,e){const t=rf(n);null!==e.validator?n.setValidators(Nd(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sf(n);null!==e.asyncValidator?n.setAsyncValidators(Nd(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();_i(e._rawValidators,o),_i(e._rawAsyncValidators,o)}function za(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=rf(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=sf(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return _i(e._rawValidators,r),_i(e._rawAsyncValidators,r),t}function hf(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Z0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Y0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _f=class extends R{constructor(e=null,t,r){super(uf(t),lf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Y0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Z0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Z0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Y0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const Fy=new g.OlP("NgModelWithFormControlWarning"),SI={provide:Wi,useExisting:(0,g.Gpc)(()=>bg)};let bg=(()=>{class n extends Wi{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(za(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return St(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){mr(t.control||null,t,!1),function mf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function K0(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(mr(r||null,t),(n=>n instanceof _f)(o)&&(St(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function mg(n,e){df(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ff(n,e){return za(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){df(this.form,this),this._oldForm&&za(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Zr,10),g.Y36($a,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&g.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([SI]),g.qOj,g.TTD]}),n})();const WT={provide:go,useExisting:(0,g.Gpc)(()=>wg)};let wg=(()=>{class n extends go{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function gf(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===pl?t=u:function My(n){return Object.getPrototypeOf(n.constructor)===hs}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function _g(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Lt(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(g.Y36(Wi,13),g.Y36(Zr,10),g.Y36($a,10),g.Y36(Is,10),g.Y36(Fy,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([WT]),g.qOj,g.TTD]}),n})(),vl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[ky]}),n})(),Yy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[vl]}),n})(),Qy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fy,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[vl]}),n})();class sE extends R{constructor(e,t,r){super(uf(t),lf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){v(this,0,e),e.forEach((r,o)=>{p(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function oE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let aE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return oE(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new V(o,u)}record(t,r=null){const o=this._reduceControls(t);return new it(o,r)}control(t,r,o){let u={};return this.useNonNullable?(oE(r)?u=r:(u.validators=r,u.asyncValidators=o),new _f(t,{...u,nonNullable:!0})):new _f(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new sE(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof _f||t instanceof R?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:Qy}),n})();var El=k(9383);let Cg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[w.ez,El.aw]}),n})(),Tg=(()=>{class n{constructor(t){this.el=t}onMouseEnter(){this.el.nativeElement.style.border="1px solid black";let t=this.el.nativeElement;t.children.length>0&&(t.children[0].style.border="1px solid black")}onMouseLeave(){this.el.nativeElement.style.border="0px solid black";let t=this.el.nativeElement;t.children.length>0&&(t.children[0].style.border="0px solid black")}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n,selectors:[["","appHighlight",""]],hostBindings:function(t,r){1&t&&g.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{appHighlight:"appHighlight"},standalone:!0}),n})(),Xy=(()=>{class n{constructor(t){this.fb=t,this.onsubmit=new g.vpe,this.form=this.fb.group({title:["",[Xh.required,Xh.minLength(4)]],description:[""],id:[""]})}ngOnChanges(t){t.note&&t.note.currentValue&&this.form.setValue(t.note.currentValue)}ngOnInit(){this.note&&this.note.title&&this.form.setValue(this.note)}submit(){this.onsubmit.emit({id:this.form.value.id,title:this.form.value.title,description:this.form.value.description}),this.form.reset()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(aE))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-form-note"]],inputs:{note:"note"},outputs:{onsubmit:"onsubmit"},standalone:!0,features:[g.TTD,g.jDz],decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","title","placeholder","Title",1,"form-control"],["title",""],["type","text","formControlName","description","placeholder","Description",1,"form-control"],["type","hidden","formControlName","id"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,r){1&t&&(g.TgZ(0,"form",0),g.NdJ("ngSubmit",function(){return r.submit()}),g.TgZ(1,"div",1)(2,"label")(3,"b"),g._uU(4," Titulo "),g.qZA()(),g._UZ(5,"input",2,3),g.qZA(),g.TgZ(7,"div",1)(8,"label")(9,"b"),g._uU(10,"Descripcion"),g.qZA()(),g._UZ(11,"input",4),g.qZA(),g._UZ(12,"input",5),g.TgZ(13,"button",6),g._uU(14,"Guardar"),g.qZA()()),2&t&&(g.Q6J("formGroup",r.form),g.xp6(13),g.Q6J("disabled","VALID"!=r.form.status))},dependencies:[w.ez,Qy,Mi,pl,Go,hg,bg,wg,El.aw],styles:[".form-group[_ngcontent-%COMP%]{width:30%;margin-left:2%}.btn[_ngcontent-%COMP%]{margin-top:2%;margin-left:2%}"]}),n})();var Le=k(5861),wf=k(4986),si=k(5813);function wc(){return(0,Kn.e)((n,e)=>{let t,r=!1;n.subscribe((0,tr.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function cE(n,e){return n===e}var xt,Yo=k(2011),dE=(k(1277),k(3942)),Ru=k(9681),If=k(4859),Ic=k(1877),kn=k(2090),UI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wa={},e_=e_||{},jt=UI||self;function Ag(){}function Df(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var t_="closure_uid_"+(1e9*Math.random()>>>0),jI=0;function hE(n,e,t){return n.call.apply(n.bind,arguments)}function HI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Ki(n,e,t){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hE:HI).apply(null,arguments)}function Sg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Rt(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Ou(){this.s=this.s,this.o=this.o}Ou.prototype.s=!1,Ou.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function BI(n){Object.prototype.hasOwnProperty.call(n,t_)&&n[t_]||(n[t_]=++jI)}(this)},Ou.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const n_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function r_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function pE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Df(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xi.prototype.h=function(){this.defaultPrevented=!0};var $I=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",Ag,e),jt.removeEventListener("test",Ag,e)}catch{}return n}();function Tf(n){return/^[\s\xa0]*$/.test(n)}var gE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function i_(n,e){return n<e?-1:n>e?1:0}function s_(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Qo(n){return-1!=s_().indexOf(n)}function Mg(n){return Mg[" "](n),n}Mg[" "]=Ag;var Rg,n,GI=Qo("Opera"),bl=Qo("Trident")||Qo("MSIE"),xg=Qo("Edge"),o_=xg||bl,zI=Qo("Gecko")&&!(-1!=s_().toLowerCase().indexOf("webkit")&&!Qo("Edge"))&&!(Qo("Trident")||Qo("MSIE"))&&!Qo("Edge"),QT=-1!=s_().toLowerCase().indexOf("webkit")&&!Qo("Edge");function WI(){var n=jt.document;return n?n.documentMode:void 0}e:{var Og="",mE=(n=s_(),zI?/rv:([^\);]+)(\)|;)/.exec(n):xg?/Edge\/([\d\.]+)/.exec(n):bl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):QT?/WebKit\/(\S+)/.exec(n):GI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mE&&(Og=mE?mE[1]:""),bl){var a_=WI();if(null!=a_&&a_>parseFloat(Og)){Rg=String(a_);break e}}Rg=Og}var Gd={};var KI=jt.document&&bl&&(WI()||parseInt(Rg,10))||void 0;function zd(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zI){e:{try{Mg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zd.X.h.call(this)}}Rt(zd,xi);var ZI={2:"touch",3:"pen",4:"mouse"};zd.prototype.h=function(){zd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sf="closure_listenable_"+(1e6*Math.random()|0),YI=0;function QI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++YI,this.ba=this.ea=!1}function kg(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Pg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yE(n){const e={};for(const t in n)e[t]=n[t];return e}const u_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<u_.length;u++)t=u_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wd(n){this.src=n,this.g={},this.h=0}function _E(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=n_(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(kg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mf(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}Wd.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Mf(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new QI(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var c_="closure_lm_"+(1e6*Math.random()|0),vE={};function Cc(n,e,t,r,o){if(r&&r.once)return xf(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cc(n,e[u],t,r,o);return null}return t=Fg(t),n&&n[Sf]?n.N(e,t,Cf(r)?!!r.capture:!!r,o):d_(n,e,t,!1,r,o)}function d_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Cf(o)?!!o.capture:!!o,m=Jo(n);if(m||(n[c_]=m=new Wd(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function EE(){const e=h_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$I||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(bE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xf(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xf(n,e[u],t,r,o);return null}return t=Fg(t),n&&n[Sf]?n.O(e,t,Cf(r)?!!r.capture:!!r,o):d_(n,e,t,!0,r,o)}function mo(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)mo(n,e[u],t,r,o);else r=Cf(r)?!!r.capture:!!r,t=Fg(t),n&&n[Sf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mf(u=n.g[e],t,r,o))&&(kg(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Jo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mf(e,t,r,o)),(t=-1<n?e[n]:null)&&Lg(t))}function Lg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Sf])_E(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Jo(e))?(_E(t,n),0==t.h&&(t.src=null,e[c_]=null)):kg(n)}}}function bE(n){return n in vE?vE[n]:vE[n]="on"+n}function h_(n,e){if(n.ba)n=!0;else{e=new zd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Lg(n),n=t.call(r,e)}return n}function Jo(n){return(n=n[c_])instanceof Wd?n:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fg(n){return"function"==typeof n?n:(n[Rf]||(n[Rf]=function(e){return n.handleEvent(e)}),n[Rf])}function Qr(){Ou.call(this),this.i=new Wd(this),this.P=this,this.I=null}function Zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var o=e;l_(e=new xi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Of(d,r,!0,e)&&o}if(o=Of(d=e.g=n,r,!0,e)&&o,o=Of(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Of(d=e.g=t[u],r,!1,e)&&o}function Of(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,b=d.ha||d.src;d.ea&&_E(n.i,d),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Rt(Qr,Ou),Qr.prototype[Sf]=!0,Qr.prototype.removeEventListener=function(n,e,t,r){mo(this,n,e,t,r)},Qr.prototype.M=function(){if(Qr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kg(t[r]);delete n.g[e],n.h--}}this.I=null},Qr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Qr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wE=jt.JSON.stringify;function Vg(){var n=IE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var g_,Bg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new f_,n=>n.reset());class f_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function p_(n){jt.setTimeout(()=>{throw n},0)}function JI(n,e){g_||function XI(){var n=jt.Promise.resolve(void 0);g_=function(){n.then(DE)}}(),m_||(g_(),m_=!0),IE.add(n,e)}var m_=!1,IE=new class Ug{constructor(){this.h=this.g=null}add(e,t){const r=Bg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function DE(){for(var n;n=Vg();){try{n.h.call(n.g)}catch(t){p_(t)}var e=Bg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}m_=!1}function y_(n,e){Qr.call(this),this.h=n||1,this.g=e||jt,this.j=Ki(this.lb,this),this.l=Date.now()}function __(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function CE(n,e,t){if("function"==typeof n)t&&(n=Ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function v_(n){n.g=CE(()=>{n.g=null,n.i&&(n.i=!1,v_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Rt(y_,Qr),(xt=y_.prototype).ca=!1,xt.R=null,xt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Zi(this,"tick"),this.ca&&(__(this),this.start()))}},xt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xt.M=function(){y_.X.M.call(this),__(this),delete this.g};class TE extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v_(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nf(n){Ou.call(this),this.h=n,this.g={}}Rt(Nf,Ou);var jg=[];function eD(n,e,t,r){Array.isArray(t)||(t&&(jg[0]=t.toString()),t=jg);for(var o=0;o<t.length;o++){var u=Cc(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function tD(n){Pg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Lg(e)},n),n.g={}}function E_(){this.g=!0}function kf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function tA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return wE(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Nf.prototype.M=function(){Nf.X.M.call(this),tD(this)},Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},E_.prototype.Aa=function(){this.g=!1},E_.prototype.info=function(){};var qd={},nD=null;function Xo(){return nD=nD||new Qr}function Hg(n){xi.call(this,qd.Pa,n)}function Pf(n){const e=Xo();Zi(e,new Hg(e))}function b_(n,e){xi.call(this,qd.STAT_EVENT,n),this.stat=e}function Ri(n){const e=Xo();Zi(e,new b_(e,n))}function w_(n,e){xi.call(this,qd.Qa,n),this.size=e}function Tc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}qd.Pa="serverreachability",Rt(Hg,xi),qd.STAT_EVENT="statevent",Rt(b_,xi),qd.Qa="timingevent",Rt(w_,xi);var $g={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Nu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gg(){}function SE(){}Gg.prototype.h=null;var Zd,Kd={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function I_(){xi.call(this,"d")}function D_(){xi.call(this,"c")}function ku(){}function Ac(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Nf(this),this.O=C_,this.T=new y_(n=o_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Sc}function Sc(){this.i=null,this.g="",this.h=!1}Rt(I_,xi),Rt(D_,xi),Rt(ku,Gg),ku.prototype.g=function(){return new XMLHttpRequest},ku.prototype.i=function(){return{}},Zd=new ku;var C_=45e3,Yd={},Lf={};function zg(n,e,t){n.K=1,n.v=Yg(Pu(e)),n.s=t,n.P=!0,Wg(n,null)}function Wg(n,e){n.F=Date.now(),Ff(n),n.A=Pu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),uD(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Sc,n.g=Kf(n.l,t?e:null,!n.s),0<n.N&&(n.L=new TE(Ki(n.La,n,n.g),n.N)),eD(n.S,n.g,"readystatechange",n.ib),e=n.H?yE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Pf(),function JT(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),b=0;b<m.length;b++){var S=m[b].split("=");if(1<S.length){var N=S[0];S=S[1];var j=N.split("_");d=2<=j.length&&"type"==j[1]?d+(N+"=")+S+"&":d+(N+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function qg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function T_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=A_(n,t),o==Lf){4==e&&(n.o=4,Ri(14),r=!1),kf(n.j,n.m,null,"[Incomplete Response]");break}if(o==Yd){n.o=4,Ri(15),kf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}kf(n.j,n.m,o,null),Zg(n,o)}qg(n)&&o!=Lf&&o!=Yd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),k_(e),e.K=!0,Ri(11))):(kf(n.j,n.m,t,"[Invalid Chunked Response]"),Mc(n),Qd(n))}function A_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Lf:(t=Number(e.substring(t,r)),isNaN(t)?Yd:(r+=1)+t>e.length?Lf:(e=e.substr(r,t),n.C=r+t,e))}function Ff(n){n.V=Date.now()+n.O,rD(n,n.O)}function rD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tc(Ki(n.gb,n),e)}function Kg(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function Qd(n){0==n.l.G||n.I||ZE(n.l,n)}function Mc(n){Kg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,__(n.T),tD(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Zg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||th(t.h,n)))if(!n.J&&th(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ih(t),Jg(t)}Rc(t),Ri(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Tc(Ki(t.cb,t),6e3));if(1>=UE(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else na(t,11)}else if((n.J||t.g==n)&&ih(t),!Tf(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.T=S[0],S=S[1],2==t.G)if("c"==S[0]){t.I=S[1],t.ka=S[2];const N=S[3];null!=N&&(t.ma=N,t.j.info("VER="+t.ma));const j=S[4];null!=j&&(t.Ca=j,t.j.info("SVER="+t.Ca));const oe=S[5];null!=oe&&"number"==typeof oe&&0<oe&&(t.J=r=1.5*oe,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ie=n.g;if(Ie){const Fe=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fe){var u=r.h;u.g||-1==Fe.indexOf("spdy")&&-1==Fe.indexOf("quic")&&-1==Fe.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Bf(u,u.h),u.h=null))}if(r.D){const tt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;tt&&(r.za=tt,yr(r.F,r.D,tt))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Cl(r,r.H?r.ka:null,r.V),d.J){jf(r.h,d);var m=d,b=r.J;b&&m.setTimeout(b),m.B&&(Kg(m),Ff(m)),r.g=d}else yD(r);0<t.i.length&&Xg(t)}else"stop"!=S[0]&&"close"!=S[0]||na(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?na(t,7):N_(t):"noop"!=S[0]&&t.l&&t.l.wa(S),t.A=0)}Pf()}catch{}}function Ds(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Df(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function iD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Df(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ME(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Df(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(xt=Ac.prototype).setTimeout=function(n){this.O=n},xt.ib=function(n){n=n.target;const e=this.L;e&&3==Fu(n)?e.l():this.La(n)},xt.La=function(n){try{if(n==this.g)e:{const N=Fu(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>N)&&(3!=N||o_||this.g&&(this.h.h||this.g.fa()||zE(this.g)))){this.I||4!=N||7==e||Pf(),Kg(this);var t=this.g.aa();this.Y=t;t:if(qg(this)){var r=zE(this.g);n="";var o=r.length,u=4==Fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mc(this),Qd(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function XT(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,N,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tf(m)){var S=m;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Ri(12),Mc(this),Qd(this);break e}kf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zg(this,t)}this.P?(T_(this,N,d),o_&&this.i&&3==N&&(eD(this.S,this.T,"tick",this.hb),this.T.start())):(kf(this.j,this.m,d,null),Zg(this,d)),4==N&&Mc(this),this.i&&!this.I&&(4==N?ZE(this.l,this):(this.i=!1,Ff(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ri(12)):(this.o=0,Ri(13)),Mc(this),Qd(this)}}}catch{}},xt.hb=function(){if(this.g){var n=Fu(this.g),e=this.g.fa();this.C<e.length&&(Kg(this),T_(this,n,e),this.i&&4!=n&&Ff(this))}},xt.cancel=function(){this.I=!0,Mc(this)},xt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function eA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Pf(),Ri(17)),Mc(this),this.o=2,Qd(this)):rD(this,this.V-n)};var S_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jd(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jd){this.h=void 0!==e?e:n.h,Xd(this,n.j),this.s=n.s,this.g=n.g,Vf(this,n.m),this.l=n.l,e=n.i;var t=new Cs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xE(this,t),this.o=n.o}else n&&(t=String(n).match(S_))?(this.h=!!e,Xd(this,t[1]||"",!0),this.s=eh(t[2]||""),this.g=eh(t[3]||"",!0),Vf(this,t[4]),this.l=eh(t[5]||"",!0),xE(this,t[6]||"",!0),this.o=eh(t[7]||"")):(this.h=!!e,this.i=new Cs(null,this.h))}function Pu(n){return new Jd(n)}function Xd(n,e,t){n.j=t?eh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Vf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xE(n,e,t){e instanceof Cs?(n.i=e,function lD(n,e){e&&!n.j&&(qa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(PE(this,r),uD(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uf(e,kE)),n.i=new Cs(e,n.h))}function yr(n,e,t){n.i.set(e,t)}function Yg(n){return yr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,RE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uf(e,OE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uf(e,OE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uf(t,"/"==t.charAt(0)?NE:oD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uf(t,aD)),n.join("")};var OE=/[#\/\?@]/g,oD=/[#\?:]/g,NE=/[#\?]/g,kE=/[#\?@]/g,aD=/#/g;function Cs(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qa(n){n.g||(n.g=new Map,n.h=0,n.i&&function sD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function PE(n,e){qa(n),e=xc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function LE(n,e){return qa(n),e=xc(n,e),n.g.has(e)}function uD(n,e,t){PE(n,e),0<t.length&&(n.i=null,n.g.set(xc(n,e),r_(t)),n.h+=t.length)}function xc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function FE(n){this.l=n||M_,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xt=Cs.prototype).add=function(n,e){qa(this),this.i=null,n=xc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},xt.forEach=function(n,e){qa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},xt.oa=function(){qa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},xt.W=function(n){qa(this);let e=[];if("string"==typeof n)LE(this,n)&&(e=e.concat(this.g.get(xc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},xt.set=function(n,e){return qa(this),this.i=null,LE(this,n=xc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},xt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},xt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var M_=10;function VE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function UE(n){return n.h?1:n.g?n.g.size:0}function th(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Bf(n,e){n.g?n.g.add(e):n.h=e}function jf(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return r_(n.i)}function Hf(){}function nA(){this.g=new Hf}function BE(n,e,t){const r=t||"";try{Ds(n,function(o,u){let d=o;Cf(o)&&(d=wE(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function $f(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function nh(n){this.l=n.ac||null,this.j=n.jb||!1}function rh(n,e){Qr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}FE.prototype.cancel=function(){if(this.i=dD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Hf.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},Hf.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},Rt(nh,Gg),nh.prototype.g=function(){return new rh(this.l,this.j)},nh.prototype.i=function(n){return function(){return n}}({}),Rt(rh,Qr);var ea=0;function Gf(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function wl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lu(n)}function Lu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(xt=rh.prototype).open=function(n,e){if(this.readyState!=ea)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lu(this)},xt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},xt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wl(this)),this.readyState=ea},xt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lu(this)),this.g&&(this.readyState=3,Lu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gf(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},xt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wl(this):Lu(this),3==this.readyState&&Gf(this)}},xt.Va=function(n){this.g&&(this.response=this.responseText=n,wl(this))},xt.Ua=function(n){this.g&&(this.response=n,wl(this))},xt.ga=function(){this.g&&wl(this)},xt.setRequestHeader=function(n,e){this.v.append(n,e)},xt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},xt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hD=jt.JSON.parse;function _r(n){Qr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=x_,this.K=this.L=!1}Rt(_r,Qr);var x_="",fD=/^https?$/i,pD=["POST","PUT"];function HE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,gD(n),R_(n)}function gD(n){n.D||(n.D=!0,Zi(n,"complete"),Zi(n,"error"))}function $E(n){if(n.h&&typeof e_<"u"&&(!n.C[1]||4!=Fu(n)||2!=n.aa()))if(n.v&&4==Fu(n))CE(n.Ha,0,n);else if(Zi(n,"readystatechange"),4==Fu(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(S_)[1]||null;if(!o&&jt.self&&jt.self.location){var u=jt.self.location.protocol;o=u.substr(0,u.length-1)}r=!fD.test(o?o.toLowerCase():"")}t=r}if(t)Zi(n,"complete"),Zi(n,"success");else{n.m=6;try{var d=2<Fu(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",gD(n)}}finally{R_(n)}}}function R_(n,e){if(n.g){GE(n);const t=n.g,r=n.C[0]?Ag:null;n.g=null,n.C=null,e||Zi(n,"ready");try{t.onreadystatechange=r}catch{}}}function GE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function Fu(n){return n.g?n.g.readyState:0}function zE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case x_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function O_(n){let e="";return Pg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Wf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=O_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yr(n,e,t))}function qf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Qg(n){this.Ca=0,this.i=[],this.j=new E_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=qf("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=qf("baseRetryDelayMs",5e3,n),this.bb=qf("retryDelaySeedMs",1e4,n),this.$a=qf("forwardChannelMaxRetries",2,n),this.ta=qf("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new FE(n&&n.concurrentRequestLimit),this.Fa=new nA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function N_(n){if(WE(n),3==n.G){var e=n.U++,t=Pu(n.F);yr(t,"SID",n.I),yr(t,"RID",e),yr(t,"TYPE","terminate"),Il(n,t),(e=new Ac(n,n.j,e,void 0)).K=2,e.v=Yg(Pu(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Kf(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ff(e)}Oi(n)}function Jg(n){n.g&&(k_(n),n.g.cancel(),n.g=null)}function WE(n){Jg(n),n.u&&(jt.clearTimeout(n.u),n.u=null),ih(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Xg(n){VE(n.h)||n.m||(n.m=!0,JI(n.Ja,n),n.C=0)}function qE(n,e){var t;t=e?e.m:n.U++;const r=Pu(n.F);yr(r,"SID",n.I),yr(r,"RID",t),yr(r,"AID",n.T),Il(n,r),n.o&&n.s&&Wf(r,n.o,n.s),t=new Ac(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Dl(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Bf(n.h,t),zg(t,r,e)}function Il(n,e){n.ia&&Pg(n.ia,function(t,r){yr(e,r,t)}),n.l&&Ds({},function(t,r){yr(e,r,t)})}function Dl(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Ki(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let b=0;b<t;b++){let S=o[b].h;const N=o[b].g;if(S-=u,0>S)u=Math.max(0,o[b].h-100),m=!1;else try{BE(N,d,"req"+S+"_")}catch{r&&r(N)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function yD(n){n.g||n.u||(n.Z=1,JI(n.Ia,n),n.A=0)}function Rc(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Tc(Ki(n.Ia,n),ta(n,n.A)),n.A++,0))}function k_(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function KE(n){n.g=new Ac(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Pu(n.sa);yr(e,"RID","rpc"),yr(e,"SID",n.I),yr(e,"CI",n.L?"0":"1"),yr(e,"AID",n.T),yr(e,"TYPE","xmlhttp"),Il(n,e),n.o&&n.s&&Wf(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Yg(Pu(e)),t.s=null,t.P=!0,Wg(t,n)}function ih(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function ZE(n,e){var t=null;if(n.g==e){ih(n),k_(n),n.g=null;var r=2}else{if(!th(n.h,e))return;t=e.D,jf(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Zi(r=Xo(),new w_(r,t)),Xg(n)}else yD(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function mD(n,e){return!(UE(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Tc(Ki(n.Ja,n,e),ta(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rc(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:na(n,5);break;case 4:na(n,10);break;case 3:na(n,6);break;default:na(n,2)}}function ta(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function na(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Ki(n.kb,n);t||(t=new Jd("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||Xd(t,"https"),Yg(t)),function jE(n,e){const t=new E_;if(jt.Image){const r=new Image;r.onload=Sg($f,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sg($f,t,r,"TestLoadImage: error",!1,e),r.onabort=Sg($f,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sg($f,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ri(2);n.G=0,n.l&&n.l.va(e),Oi(n),WE(n)}function Oi(n){if(n.G=0,n.la=[],n.l){const e=dD(n.h);(0!=e.length||0!=n.i.length)&&(pE(n.la,e),pE(n.la,n.i),n.h.i.length=0,r_(n.i),n.i.length=0),n.l.ua()}}function Cl(n,e,t){var r=t instanceof Jd?Pu(t):new Jd(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Vf(r,r.m);else{var o=jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Jd(null,void 0);r&&Xd(u,r),e&&(u.g=e),o&&Vf(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&yr(r,t,e),yr(r,"VER",n.ma),Il(n,r),r}function Kf(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _r(t&&n.Da&&!n.ra?new nh({jb:!0}):n.ra)).Ka(n.H),e}function zs(){}function sh(){if(bl&&!(10<=Number(KI)))throw Error("Environmental error: no available transport.")}function vi(n,e){Qr.call(this),this.g=new Qg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Tf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ra(this)}function Oc(n){I_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Nc(){D_.call(this),this.status=1}function ra(n){this.g=n}(xt=_r.prototype).Ka=function(n){this.L=n},xt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zd.g(),this.C=function AE(n){return n.h||(n.h=n.i())}(this.u?this.u:Zd),this.g.onreadystatechange=Ki(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void HE(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=jt.FormData&&n instanceof jt.FormData,!(0<=n_(pD,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GE(this),0<this.B&&((this.K=function zf(n){return bl&&function qI(){return function Dc(n){var e=Gd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=gE(String(Rg)).split("."),t=gE("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=i_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||i_(0==o[2].length,0==u[2].length)||i_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.qa,this)):this.A=CE(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){HE(this,u)}},xt.qa=function(){typeof e_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zi(this,"timeout"),this.abort(8))},xt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zi(this,"complete"),Zi(this,"abort"),R_(this))},xt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),R_(this,!0)),_r.X.M.call(this)},xt.Ha=function(){this.s||(this.F||this.v||this.l?$E(this):this.fb())},xt.fb=function(){$E(this)},xt.aa=function(){try{return 2<Fu(this)?this.g.status:-1}catch{return-1}},xt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},xt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hD(e)}},xt.Ea=function(){return this.m},xt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xt=Qg.prototype).ma=8,xt.G=1,xt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Ac(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=yE(u),l_(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Dl(this,o,e),yr(t=Pu(this.F),"RID",n),yr(t,"CVER",22),this.D&&yr(t,"X-HTTP-Session-Id",this.D),Il(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(O_(u)))+"&"+e:this.o&&Wf(t,this.o,u)),Bf(this.h,o),this.Ya&&yr(t,"TYPE","init"),this.O?(yr(t,"$req",e),yr(t,"SID","null"),o.Z=!0,zg(o,t,null)):zg(o,t,e),this.G=2}}else 3==this.G&&(n?qE(this,n):0==this.i.length||VE(this.h)||qE(this))},xt.Ia=function(){if(this.u=null,KE(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Tc(Ki(this.eb,this),n)}},xt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ri(10),Jg(this),KE(this))},xt.cb=function(){null!=this.v&&(this.v=null,Jg(this),Rc(this),Ri(19))},xt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ri(2)):(this.j.info("Failed to ping google.com"),Ri(1))},(xt=zs.prototype).xa=function(){},xt.wa=function(){},xt.va=function(){},xt.ua=function(){},xt.Ra=function(){},sh.prototype.g=function(n,e){return new vi(n,e)},Rt(vi,Qr),vi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ri(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Cl(n,null,n.V),Xg(n)},vi.prototype.close=function(){N_(this.g)},vi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wE(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Xg(e)},vi.prototype.M=function(){this.g.l=null,delete this.j,N_(this.g),delete this.g,vi.X.M.call(this)},Rt(Oc,I_),Rt(Nc,D_),Rt(ra,zs),ra.prototype.xa=function(){Zi(this.g,"a")},ra.prototype.wa=function(n){Zi(this.g,new Oc(n))},ra.prototype.va=function(n){Zi(this.g,new Nc)},ra.prototype.ua=function(){Zi(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,vi.prototype.send=vi.prototype.u,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,$g.NO_ERROR=0,$g.TIMEOUT=8,$g.HTTP_ERROR=6,Nu.COMPLETE="complete",SE.EventType=Kd,Kd.OPEN="a",Kd.CLOSE="b",Kd.ERROR="c",Kd.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,_r.prototype.listenOnce=_r.prototype.O,_r.prototype.getLastError=_r.prototype.Oa,_r.prototype.getLastErrorCode=_r.prototype.Ea,_r.prototype.getStatus=_r.prototype.aa,_r.prototype.getResponseJson=_r.prototype.Sa,_r.prototype.getResponseText=_r.prototype.fa,_r.prototype.send=_r.prototype.da,_r.prototype.setWithCredentials=_r.prototype.Ka;var oh=Wa.createWebChannelTransport=function(){return new sh},ah=Wa.getStatEventTarget=function(){return Xo()},Tl=Wa.ErrorCode=$g,uh=Wa.EventType=Nu,lh=Wa.Event=qd,P_=Wa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},YE=Wa.FetchXmlHttpFactory=nh,Zf=Wa.WebChannel=SE,QE=Wa.XhrIo=_r;const L_="@firebase/firestore";class oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");let kc="9.13.0";const Vu=new Ic.Yd("@firebase/firestore");function em(){return Vu.logLevel}function Xe(n,...e){if(Vu.logLevel<=Ic.in.DEBUG){const t=e.map(tm);Vu.debug(`Firestore (${kc}): ${n}`,...t)}}function kr(n,...e){if(Vu.logLevel<=Ic.in.ERROR){const t=e.map(tm);Vu.error(`Firestore (${kc}): ${n}`,...t)}}function Pc(n,...e){if(Vu.logLevel<=Ic.in.WARN){const t=e.map(tm);Vu.warn(`Firestore (${kc}): ${n}`,...t)}}function tm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Tt(n="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+n;throw kr(e),new Error(e)}function Wt(n,e){n||Tt()}function gt(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends kn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(oi.UNAUTHENTICATED))}shutdown(){}}class JE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class XE{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let d=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ai,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const S=d;e.enqueueRetryable((0,Le.Z)(function*(){yield S.promise,yield u(r.currentUser)}))},b=S=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(S=>b(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?b(S):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ai)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt("string"==typeof r.accessToken),new nm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wt(null===e||"string"==typeof e),new oi(e)}}class V_{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Wt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class eb{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new V_(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B_{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.A;return this.A=u.token,Xe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Wt("string"==typeof t.token),this.A=t.token,new U_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class j_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=bD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function Lc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function H_(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new vr(0,0))}static max(){return new qt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ch{constructor(e,t,r){void 0===t?t=0:t>e.length&&Tt(),void 0===r?r=e.length-t:r>e.length-t&&Tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ch.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ch?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends ch{construct(e,t,r){return new xn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const $_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends ch{construct(e,t,r){return new Tr(e,t,r)}static isValidIdentifier(e){return $_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ze(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(t)}static emptyPath(){return new Tr([])}}class mt{constructor(e){this.path=e}static fromPath(e){return new mt(xn.fromString(e))}static fromName(e){return new mt(xn.fromString(e).popFirst(5))}static empty(){return new mt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new xn(e.slice()))}}class Yf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function rm(n){return n.fields.find(e=>2===e.kind)}function Al(n){return n.fields.filter(e=>2!==e.kind)}Yf.UNKNOWN_ID=-1;class Qf{constructor(e,t){this.fieldPath=e,this.kind=t}}class im{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new im(0,Ts.min())}}function rb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=qt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new Ts(o,mt.empty(),e)}function ib(n){return new Ts(n.readTime,n.key,-1)}class Ts{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ts(qt.min(),mt.empty(),-1)}static max(){return new Ts(qt.max(),mt.empty(),-1)}}function G_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mt.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}const Jr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sl(n){return W_.apply(this,arguments)}function W_(){return W_=(0,Le.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==Jr)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),W_.apply(this,arguments)}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},b=>r(b))}),d=!0,u===o&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(o=>o?we.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new we((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let b=0;b<u;b++){const S=b;t(e[S]).next(N=>{d[S]=N,++m,m===u&&r(d)},N=>o(N))}})}static doWhile(e,t){return new we((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class sm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ai,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ka(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=om(r.target.error);this.P.reject(new Ka(e,o))}}static open(e,t,r,o){try{return new sm(t,e.transaction(o,r))}catch(u){throw new Ka(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new wD(t)}}class yo{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===yo.D((0,kn.z$)())&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),xl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,kn.hl)())return!1;if(yo.N())return!0;const e=(0,kn.z$)(),t=yo.D(e),r=0<t&&t<10,o=yo.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,Le.Z)(function*(){return t.db||(Xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new Ka(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ze(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ze(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Ka(e,m))},u.onupgradeneeded=d=>{Xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.S.$(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Le.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const b=sm.open(u.db,e,d?"readonly":"readwrite",r),S=o(b).next(N=>(b.V(),N)).catch(N=>(b.abort(N),we.reject(N))).toPromise();return S.catch(()=>{}),yield b.v,S}catch(b){const S=b,N="FirebaseError"!==S.name&&m<3;if(Xe("SimpleDb","Transaction failed with error:",S.message,"Retrying:",N),u.close(),!N)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sb{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return xl(this.U.delete())}}class Ka extends Ze{constructor(e,t){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ml(n){return"IndexedDbTransactionError"===n.name}class wD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xl(r)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),xl(this.store.add(e))}get(e){return xl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),xl(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),xl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new we((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new we((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Y(e,t){Xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new we((r,o)=>{t.onerror=u=>{const d=om(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}H(e,t){const r=[];return new we((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const b=new sb(m),S=t(m.primaryKey,m.value,b);if(S instanceof we){const N=S.catch(j=>(b.done(),we.reject(j)));r.push(N)}b.isDone?o():null===b.G?m.continue():m.continue(b.G)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xl(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=om(r.target.error);t(o)}})}let ob=!1;function om(n){const e=yo.D((0,kn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ob||(ob=!0,setTimeout(()=>{throw r},0)),r}}return n}class rA{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Xe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Le.Z)(function*(){t.task=null;try{Xe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ml(r)?Xe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Sl(r)}yield t.nt(6e4)}))}}class ab{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Le.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return we.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Xe("IndexBackiller",`Processing collection: ${d}`),this.rt(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.ot(o,u)).next(m=>(Xe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=ib(u);G_(d,r)>0&&(r=d)}),new Ts(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Yi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ia(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Yi.at=-1;class Bn{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new Bn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Bn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new As(this.root,e,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new As(this.root,e,this.comparator,!0)}}class As{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Xn.RED,this.left=o??Xn.EMPTY,this.right=u??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Xn(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new Bn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}class Ws{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new qn(Tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ui(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ui.EMPTY_BYTE_STRING=new ui("");const Z_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(n){if(Wt(!!n),"string"==typeof n){let e=0;const t=Z_.exec(n);if(Wt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pr(n.seconds),nanos:Pr(n.nanos)}}function Pr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rl(n){return"string"==typeof n?ui.fromBase64String(n):ui.fromUint8Array(n)}function Y_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Q_(n){const e=n.mapValue.fields.__previous_value__;return Y_(e)?Q_(e):e}function hh(n){const e=_o(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class am{constructor(e,t,r,o,u,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}function fh(n){return null==n}function ph(n){return 0===n&&1/n==-1/0}function um(n){return"number"==typeof n&&Number.isInteger(n)&&!ph(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jf={nullValue:"NULL_VALUE"};function Nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Y_(n)?4:cb(n)?9007199254740991:10:Tt()}function sa(n,e){if(n===e)return!0;const t=Nl(n);if(t!==Nl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=_o(r.timestampValue),d=_o(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Rl(n.bytesValue).isEqual(Rl(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Pr(r.geoPointValue.latitude)===Pr(o.geoPointValue.latitude)&&Pr(r.geoPointValue.longitude)===Pr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Pr(r.integerValue)===Pr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Pr(r.doubleValue),d=Pr(o.doubleValue);return u===d?ph(u)===ph(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Lc(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(ia(u)!==ia(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!sa(u[m],d[m])))return!1;return!0}(n,e);default:return Tt()}var o}function gh(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function Uu(n,e){if(n===e)return 0;const t=Nl(n),r=Nl(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Pr(o.integerValue||o.doubleValue),m=Pr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return J_(n.timestampValue,e.timestampValue);case 4:return J_(hh(n),hh(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Rl(o),m=Rl(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let b=0;b<d.length&&b<m.length;b++){const S=tn(d[b],m[b]);if(0!==S)return S}return tn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=tn(Pr(o.latitude),Pr(u.latitude));return 0!==d?d:tn(Pr(o.longitude),Pr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let b=0;b<d.length&&b<m.length;++b){const S=Uu(d[b],m[b]);if(S)return S}return tn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Za.mapValue&&u===Za.mapValue)return 0;if(o===Za.mapValue)return 1;if(u===Za.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),b=u.fields||{},S=Object.keys(b);m.sort(),S.sort();for(let N=0;N<m.length&&N<S.length;++N){const j=tn(m[N],S[N]);if(0!==j)return j;const oe=Uu(d[m[N]],b[S[N]]);if(0!==oe)return oe}return tn(m.length,S.length)}(n.mapValue,e.mapValue);default:throw Tt()}}function J_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=_o(n),r=_o(e),o=tn(t.seconds,r.seconds);return 0!==o?o:tn(t.nanos,r.nanos)}function Vc(n){return lm(n)}function lm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=_o(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rl(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=lm(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${lm(r.fields[m])}`;return u+"}"}(n.mapValue):Tt();var e}function Uc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function X_(n){return!!n&&"integerValue"in n}function Xf(n){return!!n&&"arrayValue"in n}function ub(n){return!!n&&"nullValue"in n}function lb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cm(n){return!!n&&"mapValue"in n}function ep(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ep(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ep(n.arrayValue.values[t]);return e}return Object.assign({},n)}function cb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DD(n){return"nullValue"in n?Jf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Uc(Ol.empty(),mt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Tt()}function CD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Uc(Ol.empty(),mt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Za:Tt()}function db(n,e){const t=Uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hb(n,e){const t=Uu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(t)}setAll(e){let t=Tr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=ep(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];cm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Fc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ni(ep(this.value))}}function fb(n){const e=[];return Fc(n.fields,(t,r)=>{const o=new Tr([t]);if(cm(r)){const u=fb(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Ws(e)}class ir{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new ir(e,0,qt.min(),qt.min(),Ni.empty(),0)}static newFoundDocument(e,t,r){return new ir(e,1,t,qt.min(),r,0)}static newNoDocument(e,t){return new ir(e,2,t,qt.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new ir(e,3,t,qt.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ir(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class TD{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ht=null}}function pb(n,e=null,t=[],r=[],o=null,u=null,d=null){return new TD(n,e,t,r,o,u,d)}function Bc(n){const e=gt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Vc(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vc(r)).join(",")),e.ht=t}return e.ht}function mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!iA(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sv(n.startAt,e.startAt)&&sv(n.endAt,e.endAt)}function tp(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function np(n,e){return n.filters.filter(t=>t instanceof Ei&&t.field.isEqual(e))}function ev(n,e,t){let r=Jf,o=!0;for(const u of np(n,e)){let d=Jf,m=!0;switch(u.op){case"<":case"<=":d=DD(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Jf}db({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];db({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function tv(n,e,t){let r=Za,o=!0;for(const u of np(n,e)){let d=Za,m=!0;switch(u.op){case">=":case">":d=CD(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Za}hb({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];hb({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Ei extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new mb(e,t,r):"array-contains"===t?new jc(e,r):"in"===t?new AD(e,r):"not-in"===t?new SD(e,r):"array-contains-any"===t?new yh(e,r):new Ei(e,t,r)}static lt(e,t,r){return"in"===t?new yb(e,r):new nv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Uu(t,this.value)):null!==t&&Nl(this.value)===Nl(t)&&this.ft(Uu(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mb extends Ei{constructor(e,t,r){super(e,t,r),this.key=mt.fromName(r.referenceValue)}matches(e){const t=mt.comparator(e.key,this.key);return this.ft(t)}}class yb extends Ei{constructor(e,t){super(e,"in",t),this.keys=rv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nv extends Ei{constructor(e,t){super(e,"not-in",t),this.keys=rv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>mt.fromName(r.referenceValue))}class jc extends Ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xf(t)&&gh(t.arrayValue,this.value)}}class AD extends Ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gh(this.value.arrayValue,t)}}class SD extends Ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gh(this.value.arrayValue,t)}}class yh extends Ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gh(this.value.arrayValue,r))}}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}class kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function iA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?mt.comparator(mt.fromName(d.referenceValue),t.key):Uu(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function sv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class Pl{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=b,this._t=null,this.wt=null}}function $t(n,e,t,r,o,u,d,m){return new Pl(n,e,t,r,o,u,d,m)}function _h(n){return new Pl(n)}function _b(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ov(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ll(n){for(const e of n.filters)if(e.dt())return e.field;return null}function av(n){return null!==n.collectionGroup}function Bu(n){const e=gt(n);if(null===e._t){e._t=[];const t=Ll(e),r=ov(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new kl(t)),e._t.push(new kl(Tr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new kl(Tr.keyField(),u))}}}return e._t}function bi(n){const e=gt(n);if(!e.wt)if("F"===e.limitType)e.wt=pb(e.path,e.collectionGroup,Bu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Bu(e))t.push(new kl(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Hc(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Hc(e.startAt.position,e.startAt.inclusive):null;e.wt=pb(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function hr(n,e,t){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dm(n,e){return mh(bi(n),bi(e))&&n.limitType===e.limitType}function uv(n){return`${Bc(bi(n))}|lt:${n.limitType}`}function hm(n){return`Query(target=${function gb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vc(r.value)}`;var r}).join(", ")}]`),fh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vc(t)).join(",")),`Target(${e})`}(bi(n))}; limitType=${n.limitType})`}function lv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):mt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=iv(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Bu(t),r)||t.endAt&&!function(o,u,d){const m=iv(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Bu(t),r)));var t,r}function cv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dv(n){return(e,t)=>{let r=!1;for(const o of Bu(n)){const u=vb(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function vb(n,e,t){const r=n.field.isKeyField()?mt.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),b=d.data.field(o);return null!==m&&null!==b?Uu(m,b):Tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Tt()}}function hv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function Eb(n){return{integerValue:""+n}}function bb(n,e){return um(e)?Eb(e):hv(n,e)}class fm{constructor(){this._=void 0}}function rp(n,e,t){return n instanceof vh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Ya?fv(n,e):n instanceof Fl?pv(n,e):function(r,o){const u=wb(r,o),d=bh(u)+bh(r.yt);return X_(u)&&X_(r.yt)?Eb(d):hv(r.It,d)}(n,e)}function MD(n,e,t){return n instanceof Ya?fv(n,e):n instanceof Fl?pv(n,e):t}function wb(n,e){return n instanceof Eh?X_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class vh extends fm{}class Ya extends fm{constructor(e){super(),this.elements=e}}function fv(n,e){const t=wh(e);for(const r of n.elements)t.some(o=>sa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Fl extends fm{constructor(e){super(),this.elements=e}}function pv(n,e){let t=wh(e);for(const r of n.elements)t=t.filter(o=>!sa(o,r));return{arrayValue:{values:t}}}class Eh extends fm{constructor(e,t){super(),this.It=e,this.yt=t}}function bh(n){return Pr(n.integerValue||n.doubleValue)}function wh(n){return Xf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class RD{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class op{}function Ib(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ih(n.key,fr.none()):new up(n.key,n.data,fr.none());{const t=n.data,r=Ni.empty();let o=new qn(Tr.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new Vl(n.key,r,new Ws(o.toArray()),fr.none())}}function Db(n,e,t){n instanceof up?function(r,o,u){const d=r.value.clone(),m=gv(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Vl?function(r,o,u){if(!sp(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=gv(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(kD(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ap(n,e,t,r){return n instanceof up?function(o,u,d,m){if(!sp(o.precondition,u))return d;const b=o.value.clone(),S=lp(o.fieldTransforms,m,u);return b.setAll(S),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vl?function(o,u,d,m){if(!sp(o.precondition,u))return d;const b=lp(o.fieldTransforms,m,u),S=u.data;return S.setAll(kD(o)),S.setAll(b),u.convertToFoundDocument(u.version,S).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(N=>N.field))}(n,e,t,r):(d=t,sp(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function OD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=wb(r.transform,o||null);null!=u&&(null===t&&(t=Ni.empty()),t.set(r.field,u))}return t||null}function ND(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Lc(t,r,(o,u)=>function xD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ya&&r instanceof Ya||t instanceof Fl&&r instanceof Fl?Lc(t.elements,r.elements,sa):t instanceof Eh&&r instanceof Eh?sa(t.yt,r.yt):t instanceof vh&&r instanceof vh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class up extends op{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vl extends op{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gv(n,e,t){const r=new Map;Wt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,MD(d,m,t[o]))}return r}function lp(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,rp(u,d,e))}return r}class Ih extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mv extends op{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cb{constructor(e){this.count=e}}var Er,On;function Tb(n){switch(n){default:return Tt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function Ab(n){if(void 0===n)return kr("GRPC error has no .code"),Se.UNKNOWN;switch(n){case Er.OK:return Se.OK;case Er.CANCELLED:return Se.CANCELLED;case Er.UNKNOWN:return Se.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Se.INTERNAL;case Er.UNAVAILABLE:return Se.UNAVAILABLE;case Er.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Er.NOT_FOUND:return Se.NOT_FOUND;case Er.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Er.ABORTED:return Se.ABORTED;case Er.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Er.DATA_LOSS:return Se.DATA_LOSS;default:return Tt()}}(On=Er||(Er={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";class Ul{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return q_(this.inner)}size(){return this.innerSize}}const PD=new Bn(mt.comparator);function gs(){return PD}const Sb=new Bn(mt.comparator);function cp(...n){let e=Sb;for(const t of n)e=e.insert(t.key,t);return e}function Dh(n){let e=Sb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Qa(){return dp()}function yv(){return dp()}function dp(){return new Ul(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mb=new Bn(mt.comparator),LD=new qn(mt.comparator);function sn(...n){let e=LD;for(const t of n)e=e.add(t);return e}const FD=new qn(tn);function Ch(){return FD}class hp{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hp(qt.min(),o,Ch(),gs(),sn())}}class Th{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Th(r,t,sn(),sn(),sn())}}class fp{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class xb{constructor(e,t){this.targetId=e,this.At=t}}class Rb{constructor(e,t,r=ui.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Ob{constructor(){this.Rt=0,this.bt=vv(),this.Pt=ui.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=sn(),t=sn(),r=sn();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Tt()}}),new Th(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=vv()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class _v{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=gs(),this.qt=Nb(),this.Kt=new qn(tn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(tp(u))if(0===r){const d=new mt(u.path);this.jt(t,d,ir.newNoDocument(d,qt.min()))}else Wt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,d)=>{const m=this.Xt(d);if(m){if(u.current&&tp(m.target)){const b=new mt(m.target.path);null!==this.Ut.get(b)||this.ee(d,b)||this.jt(d,b,ir.newNoDocument(b,e))}u.Dt&&(t.set(d,u.xt()),u.Nt())}});let r=sn();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(b=>{const S=this.Xt(b);return!S||2===S.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,d)=>d.setReadTime(e));const o=new hp(e,t,this.Kt,this.Ut,r);return this.Ut=gs(),this.qt=Nb(),this.Kt=new qn(tn),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new Ob,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new qn(tn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Ob),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Nb(){return new Bn(mt.comparator)}function vv(){return new Bn(mt.comparator)}const VD={asc:"ASCENDING",desc:"DESCENDING"},UD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class BD{constructor(e,t){this.databaseId=e,this.gt=t}}function pp(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kb(n,e){return n.gt?e.toBase64():e.toUint8Array()}function jD(n,e){return pp(n,e.toTimestamp())}function wi(n){return Wt(!!n),qt.fromTimestamp(function(e){const t=_o(e);return new vr(t.seconds,t.nanos)}(n))}function Ev(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bv(n){const e=xn.fromString(n);return Wt(xv(e)),e}function Ah(n,e){return Ev(n.databaseId,e.path)}function Ja(n,e){const t=bv(e);if(t.get(1)!==n.databaseId.projectId)throw new Ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mt(Pb(t))}function wv(n,e){return Ev(n.databaseId,e)}function Iv(n){const e=bv(n);return 4===e.length?xn.emptyPath():Pb(e)}function gp(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pb(n){return Wt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Lb(n,e,t){return{name:Ah(n,e),fields:t.value.mapValue.fields}}function pm(n,e,t){const r=Ja(n,e.name),o=wi(e.updateTime),u=new Ni({mapValue:{fields:e.fields}}),d=ir.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function $c(n,e){let t;if(e instanceof up)t={update:Lb(n,e.key,e.value)};else if(e instanceof Ih)t={delete:Ah(n,e.key)};else if(e instanceof Vl)t={update:Lb(n,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof mv))return Tt();t={verify:Ah(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof vh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ya)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Eh)return{fieldPath:u.field.canonicalString(),increment:d.yt};throw Tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:jD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Tt()),t;var o}function Cv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?fr.updateTime(wi(o.updateTime)):void 0!==o.exists?fr.exists(o.exists):fr.none():fr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Wt("REQUEST_TIME"===d.setToServerValue),m=new vh):"appendMissingElements"in d?m=new Ya(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Fl(d.removeAllFromArray.values||[]):"increment"in d?m=new Eh(u,d.increment):Tt();const b=Tr.fromServerFormat(d.fieldPath);return new ip(b,m)}(n,o)):[];var o;if(e.update){const o=Ja(n,e.update.name),u=new Ni({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ws((e.updateMask.fieldPaths||[]).map(S=>Tr.fromServerFormat(S)));return new Vl(o,u,d,t,r)}return new up(o,u,t,r)}if(e.delete){const o=Ja(n,e.delete);return new Ih(o,t)}if(e.verify){const o=Ja(n,e.verify);return new mv(o,t)}return Tt()}function gm(n,e){return{documents:[wv(n,e.path)]}}function Tv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(b){if(0===b.length)return;const S=b.map(N=>function(j){if("=="===j.op){if(lb(j.value))return{unaryFilter:{field:Gc(j.field),op:"IS_NAN"}};if(ub(j.value))return{unaryFilter:{field:Gc(j.field),op:"IS_NULL"}}}else if("!="===j.op){if(lb(j.value))return{unaryFilter:{field:Gc(j.field),op:"IS_NOT_NAN"}};if(ub(j.value))return{unaryFilter:{field:Gc(j.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gc(j.field),op:sA(j.op),value:j.value}}}(N));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(b){if(0!==b.length)return b.map(S=>{return{field:Gc((N=S).field),direction:$D(N.dir)};var N})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(S=e.limit,n.gt||fh(S)?S:{value:S});var S,m,b;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function Av(n){let e=Iv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Wt(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let u=[];t.where&&(u=Sv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(N=>{return new kl(Bl((j=N).field),function(oe){switch(oe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction));var j}));let m=null;t.limit&&(m=function(N){let j;return j="object"==typeof N?N.value:N,fh(j)?null:j}(t.limit));let b=null;var N;t.startAt&&(b=new Hc((N=t.startAt).values||[],!!N.before));let S=null;return t.endAt&&(S=function(N){return new Hc(N.values||[],!N.before)}(t.endAt)),$t(e,o,d,u,m,"F",b,S)}function Sv(n){return n?void 0!==n.unaryFilter?[Mv(n)]:void 0!==n.fieldFilter?[GD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Sv(e)).reduce((e,t)=>e.concat(t)):Tt():[]}function $D(n){return VD[n]}function sA(n){return UD[n]}function Gc(n){return{fieldPath:n.canonicalString()}}function Bl(n){return Tr.fromServerFormat(n.fieldPath)}function GD(n){return Ei.create(Bl(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Mv(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Bl(n.unaryFilter.field);return Ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Bl(n.unaryFilter.field);return Ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bl(n.unaryFilter.field);return Ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bl(n.unaryFilter.field);return Ei.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}function zD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rv(e)),e=Vb(n.get(t),e);return Rv(e)}function Vb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Rv(n){return n+"\x01\x01"}function oa(n){const e=n.length;if(Wt(e>=2),2===e)return Wt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&Tt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:Tt()}u=d+2}return new xn(r)}const Ov=["userId","batchId"];function mm(n,e){return[n,ki(e)]}function Ub(n,e,t){return[n,ki(e),t]}const WD={},qD=["prefixPath","collectionGroup","readTime","documentId"],Bb=["prefixPath","collectionGroup","documentId"],oA=["collectionGroup","readTime","prefixPath","documentId"],jb=["canonicalId","targetId"],KD=["targetId","path"],ZD=["path","targetId"],aA=["collectionId","parent"],uA=["indexId","uid"],YD=["uid","sequenceNumber"],QD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Hb=["indexId","uid","orderedDocumentKey"],$b=["userId","collectionPath","documentId"],JD=["userId","collectionPath","largestBatchId"],XD=["userId","collectionGroup","largestBatchId"],Gb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eC=[...Gb,"documentOverlays"],zb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wb=zb,tC=[...Wb,"indexConfiguration","indexState","indexEntries"];class Nv extends z_{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Lr(n,e){const t=gt(n);return yo.M(t.ie,e)}class ym{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Db(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ap(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ap(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=yv();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const b=Ib(d,m);null!==b&&r.set(o.key,b),d.isValidDocument()||d.convertToNoDocument(qt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),sn())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,(t,r)=>ND(t,r))&&Lc(this.baseMutations,e.baseMutations,(t,r)=>ND(t,r))}}class _m{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Wt(e.mutations.length===r.length);let o=Mb;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new _m(e,t,r,o)}}class vm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ju{constructor(e,t,r,o,u=qt.min(),d=qt.min(),m=ui.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kv{constructor(e){this.re=e}}function qb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Pv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ah(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:pp(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zc(e.version)};else{if(!e.isUnknownDocument())return Tt();r.unknownDocument={path:t.path.toArray(),version:zc(e.version)}}var o,u;return r}function Pv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wc(n){const e=new vr(n.seconds,n.nanoseconds);return qt.fromTimestamp(e)}function qc(n,e){const t=(e.baseMutations||[]).map(u=>Cv(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Cv(n.re,u)),o=vr.fromMillis(e.localWriteTimeMs);return new ym(e.batchId,o,t,r)}function mp(n){const e=Wc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Wc(n.lastLimboFreeSnapshotVersion):qt.min();let r;var o;return void 0!==n.query.documents?(Wt(1===(o=n.query).documents.length),r=bi(_h(Iv(o.documents[0])))):r=bi(Av(n.query)),new ju(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ui.fromBase64String(n.resumeToken))}function Kb(n,e){const t=zc(e.snapshotVersion),r=zc(e.lastLimboFreeSnapshotVersion);let o;o=tp(e.target)?gm(n.re,e.target):Tv(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Bc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Kc(n){const e=Av({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?hr(e,e.limit,"L"):e}function Lv(n,e){return new vm(e.largestBatchId,Cv(n.re,e.overlayMutation))}function Em(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}function aa(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zc(r.readTime),documentKey:ki(r.documentKey.path),largestBatchId:r.largestBatchId}}class rC{getBundleMetadata(e,t){return bm(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Wc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return bm(e).put({bundleId:(r=t).id,createTime:zc(wi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Mh(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Kc(o.bundledQuery),readTime:Wc(o.readTime)};var o})}saveNamedQuery(e,t){return Mh(e).put({name:(r=t).name,readTime:zc(wi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function bm(n){return Lr(n,"bundles")}function Mh(n){return Lr(n,"namedQueries")}class wm{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new wm(e,t.uid||"")}getOverlay(e,t){return yp(e).get(Em(this.userId,t)).next(r=>r?Lv(this.It,r):null)}getOverlays(e,t){const r=Qa();return we.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new vm(t,d);o.push(this.ue(e,m))}),we.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(ki(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(yp(e).Y("collectionPathOverlayIndex",m))}),we.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Qa(),u=ki(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return yp(e).W("collectionPathOverlayIndex",d).next(m=>{for(const b of m){const S=Lv(this.It,b);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Qa();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yp(e).Z({index:"collectionGroupOverlayIndex",range:m},(b,S,N)=>{const j=Lv(this.It,S);u.size()<o||j.largestBatchId===d?(u.set(j.getKey(),j),d=j.largestBatchId):N.done()}).next(()=>u)}ue(e,t){return yp(e).put(function(r,o,u){const[d,m,b]=Em(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:b,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:$c(r.re,u.mutation)}}(this.It,this.userId,t))}}function yp(n){return Lr(n,"documentOverlays")}class Zc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Pr(e.integerValue));else if("doubleValue"in e){const r=Pr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),ph(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Rl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?cb(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Tt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),mt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function Im(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function _p(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=Im(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Zc.Te=new Zc;class iC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=_p(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=_p(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class sC{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class Zb{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class xh{constructor(){this.Be=new iC,this.Le=new sC(this.Be),this.Ue=new Zb(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Hu{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Hu(this.indexId,this.documentKey,this.arrayValue,r)}}function jl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Yb(n.arrayValue,e.arrayValue),0!==t?t:(t=Yb(n.directionalValue,e.directionalValue),0!==t?t:mt.comparator(n.documentKey,e.documentKey)))}function Yb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class oC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=rm(e);if(void 0!==t&&!this.ze(t))return!1;const r=Al(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const d=r[o];if(!this.He(this.je,d)||!this.Je(this.Ge[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],d))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class lA{constructor(){this.Ye=new vp}addToCollectionParentIndex(e,t){return this.Ye.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(Ts.min())}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class vp{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qn(xn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qn(xn.comparator)).toArray()}}const Rh=new Uint8Array(0);class Qb{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new vp,this.Ze=new Ul(r=>Bc(r),(r,o)=>mh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:ki(o)};return Dm(e).put(u)}return we.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[H_(t),""],!1,!0);return Dm(e).W(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(oa(d.parent))}return r})}addFieldIndex(e,t){const r=Cm(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=Ep(e);return u.next(m=>{d.put(aa(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Cm(e),o=Ep(e),u=Yc(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Yc(e);let o=!0;const u=new Map;return we.forEach(this.tn(t),d=>this.en(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=sn();const m=[];return we.forEach(u,(b,S)=>{var N;Xe("IndexedDbIndexManager",`Using index ${N=b,`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map(wn=>`${wn.fieldPath}:${wn.kind}`).join(",")}`} to execute ${Bc(t)}`);const j=function(wn,pn){const hn=rm(pn);if(void 0===hn)return null;for(const In of np(wn,hn.fieldPath))switch(In.op){case"array-contains-any":return In.value.arrayValue.values||[];case"array-contains":return[In.value]}return null}(S,b),oe=function(wn,pn){const hn=new Map;for(const In of Al(pn))for(const Li of np(wn,In.fieldPath))switch(Li.op){case"==":case"in":hn.set(In.fieldPath.canonicalString(),Li.value);break;case"not-in":case"!=":return hn.set(In.fieldPath.canonicalString(),Li.value),Array.from(hn.values())}return null}(S,b),Ie=function(wn,pn){const hn=[];let In=!0;for(const Li of Al(pn)){const V0=0===Li.kind?ev(wn,Li.fieldPath,wn.startAt):tv(wn,Li.fieldPath,wn.startAt);hn.push(V0.value),In&&(In=V0.inclusive)}return new Hc(hn,In)}(S,b),Fe=function(wn,pn){const hn=[];let In=!0;for(const Li of Al(pn)){const V0=0===Li.kind?tv(wn,Li.fieldPath,wn.endAt):ev(wn,Li.fieldPath,wn.endAt);hn.push(V0.value),In&&(In=V0.inclusive)}return new Hc(hn,In)}(S,b),tt=this.nn(b,S,Ie),ot=this.nn(b,S,Fe),ln=this.sn(b,S,oe),bn=this.rn(b.indexId,j,tt,Ie.inclusive,ot,Fe.inclusive,ln);return we.forEach(bn,wn=>r.J(wn,t.limit).next(pn=>{pn.forEach(hn=>{const In=mt.fromSegments(hn.documentKey);d.has(In)||(d=d.add(In),m.push(In))})}))}).next(()=>m)}return we.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,d,m){const b=(null!=t?t.length:1)*Math.max(r.length,u.length),S=b/(null!=t?t.length:1),N=[];for(let j=0;j<b;++j){const oe=t?this.on(t[j/S]):Rh,Ie=this.un(e,oe,r[j%S],o),Fe=this.cn(e,oe,u[j%S],d),tt=m.map(ot=>this.un(e,oe,ot,!0));N.push(...this.createRange(Ie,Fe,tt))}return N}un(e,t,r,o){const u=new Hu(e,mt.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new Hu(e,mt.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new oC(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.We(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return we.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new qn(Tr.comparator),b=!1;for(const S of d.filters){const N=S;N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?b=!0:m=m.add(N.field))}for(const S of d.orderBy)S.field.isKeyField()||(m=m.add(S.field));return m.size+(b?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new xh;for(const o of Al(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.qe(o.kind);Zc.Te.ce(u,d)}return r.$e()}on(e){const t=new xh;return Zc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new xh;return Zc.Te.ce(Uc(this.databaseId,t),r.qe(function(o){const u=Al(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new xh);let u=0;for(const d of Al(e)){const m=r[u++];for(const b of o)if(this.ln(t,d.fieldPath)&&Xf(m))o=this.fn(o,d,m);else{const S=b.qe(d.kind);Zc.Te.ce(m,S)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const b=new xh;b.seed(m.$e()),Zc.Te.ce(d,b.qe(t.kind)),u.push(b)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof Ei&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Cm(e),o=Ep(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const d=[];return we.forEach(u,m=>o.get([m.indexId,this.uid]).next(b=>{d.push(function(S,N){const j=N?new im(N.sequenceNumber,new Ts(Wc(N.readTime),new mt(oa(N.documentKey)),N.largestBatchId)):im.empty(),oe=S.fields.map(([Ie,Fe])=>new Qf(Tr.fromServerFormat(Ie),Fe));return new Yf(S.indexId,S.collectionGroup,oe,j)}(m,b))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:tn(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Cm(e),u=Ep(e);return this._n(e).next(d=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>we.forEach(m,b=>u.put(aa(b.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return we.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?we.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),we.forEach(m,b=>this.wn(e,o,b).next(S=>{const N=this.mn(u,b);return S.isEqual(N)?we.resolve():this.gn(e,u,b,S,N)}))))})}yn(e,t,r,o){return Yc(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Yc(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Yc(e);let u=new qn(jl);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(d,m)=>{u=u.add(new Hu(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new qn(jl);const o=this.an(t,e);if(null==o)return r;const u=rm(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Xf(d))for(const m of d.arrayValue.values||[])r=r.add(new Hu(t.indexId,e.key,this.on(m),o))}else r=r.add(new Hu(t.indexId,e.key,Rh,o));return r}gn(e,t,r,o,u){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,b,S,N,j){const oe=m.getIterator(),Ie=b.getIterator();let Fe=dh(oe),tt=dh(Ie);for(;Fe||tt;){let ot=!1,ln=!1;if(Fe&&tt){const bn=S(Fe,tt);bn<0?ln=!0:bn>0&&(ot=!0)}else null!=Fe?ln=!0:ot=!0;ot?(N(tt),tt=dh(Ie)):ln?(j(Fe),Fe=dh(oe)):(Fe=dh(oe),tt=dh(Ie))}}(o,u,jl,m=>{d.push(this.yn(e,t,r,m))},m=>{d.push(this.pn(e,t,r,m))}),we.waitFor(d)}_n(e){let t=1;return Ep(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>jl(d,m)).filter((d,m,b)=>!m||0!==jl(d,b[m-1]));const o=[];o.push(e);for(const d of r){const m=jl(d,e),b=jl(d,t);if(0===m)o[0]=e.Ke();else if(m>0&&b<0)o.push(d),o.push(d.Ke());else if(b>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Rh,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Rh,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Jb)}getMinOffset(e,t){return we.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||Tt())).next(Jb)}}function Dm(n){return Lr(n,"collectionParents")}function Yc(n){return Lr(n,"indexEntries")}function Cm(n){return Lr(n,"indexConfiguration")}function Ep(n){return Lr(n,"indexState")}function Jb(n){Wt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;G_(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ts(e.readTime,e.documentKey,t)}const Xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ms{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tm(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const b=r.Z({range:d},(N,j,oe)=>(m++,oe.delete()));u.push(b.next(()=>{Wt(1===m)}));const S=[];for(const N of t.mutations){const j=Ub(e,N.key.path,t.batchId);u.push(o.delete(j)),S.push(N.key)}return we.waitFor(u).next(()=>S)}function bp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Tt();e=n.noDocument}return JSON.stringify(e).length}ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(41943040,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);class wp{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){Wt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new wp(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Oh(e),d=$u(e);return d.add({}).next(m=>{Wt("number"==typeof m);const b=new ym(m,t,r,o),S=function(oe,Ie,Fe){const tt=Fe.baseMutations.map(ln=>$c(oe.re,ln)),ot=Fe.mutations.map(ln=>$c(oe.re,ln));return{userId:Ie,batchId:Fe.batchId,localWriteTimeMs:Fe.localWriteTime.toMillis(),baseMutations:tt,mutations:ot}}(this.It,this.userId,b),N=[];let j=new qn((oe,Ie)=>tn(oe.canonicalString(),Ie.canonicalString()));for(const oe of o){const Ie=Ub(this.userId,oe.key.path,m);j=j.add(oe.key.path.popLast()),N.push(d.put(S)),N.push(u.put(Ie,WD))}return j.forEach(oe=>{N.push(this.indexManager.addToCollectionParentIndex(e,oe))}),e.addOnCommittedListener(()=>{this.In[m]=b.keys()}),we.waitFor(N).next(()=>b)})}lookupMutationBatch(e,t){return $u(e).get(t).next(r=>r?(Wt(r.userId===this.userId),qc(this.It,r)):null)}Tn(e,t){return this.In[t]?we.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return $u(e).Z({index:"userMutationsIndex",range:o},(d,m,b)=>{m.userId===this.userId&&(Wt(m.batchId>=r),u=qc(this.It,m)),b.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $u(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $u(e).W("userMutationsIndex",t).next(r=>r.map(o=>qc(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=mm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Oh(e).Z({range:o},(d,m,b)=>{const[S,N,j]=d,oe=oa(N);if(S===this.userId&&t.path.isEqual(oe))return $u(e).get(j).next(Ie=>{if(!Ie)throw Tt();Wt(Ie.userId===this.userId),u.push(qc(this.It,Ie))});b.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(tn);const o=[];return t.forEach(u=>{const d=mm(this.userId,u.path),m=IDBKeyRange.lowerBound(d),b=Oh(e).Z({range:m},(S,N,j)=>{const[oe,Ie,Fe]=S,tt=oa(Ie);oe===this.userId&&u.path.isEqual(tt)?r=r.add(Fe):j.done()});o.push(b)}),we.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=mm(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new qn(tn);return Oh(e).Z({range:d},(b,S,N)=>{const[j,oe,Ie]=b,Fe=oa(oe);j===this.userId&&r.isPrefixOf(Fe)?Fe.length===o&&(m=m.add(Ie)):N.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push($u(e).get(u).next(d=>{if(null===d)throw Tt();Wt(d.userId===this.userId),r.push(qc(this.It,d))}))}),we.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Tm(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),we.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Oh(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const b=oa(u[1]);o.push(b)}else m.done()}).next(()=>{Wt(0===o.length)})})}containsKey(e,t){return Fv(e,this.userId,t)}Rn(e){return Vv(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fv(n,e,t){const r=mm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Oh(n).Z({range:u,X:!0},(m,b,S)=>{const[N,j,oe]=m;N===e&&j===o&&(d=!0),S.done()}).next(()=>d)}function $u(n){return Lr(n,"mutations")}function Oh(n){return Lr(n,"documentMutations")}function Vv(n){return Lr(n,"mutationQueues")}class Hl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Hl(0)}static vn(){return new Hl(-1)}}class aC{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Hl(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>qt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Wt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Qc(e).Z((d,m)=>{const b=mp(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,u.push(this.removeTargetData(e,b)))}).next(()=>we.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Qc(e).Z((r,o)=>{const u=mp(o);t(u)})}Vn(e){return ew(e).get("targetGlobalKey").next(t=>(Wt(null!==t),t))}Sn(e,t){return ew(e).put("targetGlobalKey",t)}Dn(e,t){return Qc(e).put(Kb(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Qc(e).Z({range:o,index:"queryTargetsIndex"},(d,m,b)=>{const S=mp(m);mh(t,S.target)&&(u=S,b.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Fr(e);return t.forEach(d=>{const m=ki(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),we.waitFor(o)}removeMatchingKeys(e,t,r){const o=Fr(e);return we.forEach(t,u=>{const d=ki(u.path);return we.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Fr(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Fr(e);let u=sn();return o.Z({range:r,X:!0},(d,m,b)=>{const S=oa(d[1]),N=new mt(S);u=u.add(N)}).next(()=>u)}containsKey(e,t){const r=ki(t.path),o=IDBKeyRange.bound([r],[H_(r)],!1,!0);let u=0;return Fr(e).Z({index:"documentTargetsIndex",X:!0,range:o},([d,m],b,S)=>{0!==d&&(u++,S.done())}).next(()=>u>0)}se(e,t){return Qc(e).get(t).next(r=>r?mp(r):null)}}function Qc(n){return Lr(n,"targets")}function ew(n){return Lr(n,"targetGlobal")}function Fr(n){return Lr(n,"targetDocuments")}function Jc([n,e],[t,r]){const o=tn(n,t);return 0===o?tn(e,r):o}class uC{constructor(e){this.xn=e,this.buffer=new qn(Jc),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jc(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Xe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Le.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ml(r)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Sl(r)}yield t.Fn(3e5)}))}}class cA{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve(Yi.at);const r=new uC(t);return this.$n.forEachTarget(e,o=>r.On(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.On(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(Xb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xb):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,d,m,b,S;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),o=this.params.maximumSequenceNumbersToCollect):o=j,d=Date.now(),this.nthSequenceNumber(e,o))).next(j=>(r=j,m=Date.now(),this.removeTargets(e,r,t))).next(j=>(u=j,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(j=>(S=Date.now(),em()<=Ic.in.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-N}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(b-m)+`ms\n\tRemoved ${j} documents in `+(S-b)+`ms\nTotal Duration: ${S-N}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:j})))}}class dA{constructor(e,t){this.db=e,this.garbageCollector=new cA(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return Ip(e,r)}removeReference(e,t,r){return Ip(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ip(e,t)}Gn(e,t){return function(r,o){let u=!1;return Vv(r).tt(d=>Fv(r,d,o).next(m=>(m&&(u=!0),we.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(d,m)=>{if(m<=t){const b=this.Gn(e,d).next(S=>{if(!S)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,qt.min()),Fr(e).delete([0,ki(d.path)])))});o.push(b)}}).next(()=>we.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ip(e,t)}Kn(e,t){const r=Fr(e);let o,u=Yi.at;return r.Z({index:"documentTargetsIndex"},([d,m],{path:b,sequenceNumber:S})=>{0===d?(u!==Yi.at&&t(new mt(oa(o)),u),u=S,o=b):u=Yi.at}).next(()=>{u!==Yi.at&&t(new mt(oa(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ip(n,e){return Fr(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class Uv{constructor(){this.changes=new Ul(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dp{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return $l(e).put(r)}removeEntry(e,t,r){return $l(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Pv(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=ir.newInvalidDocument(t);return $l(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cp(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:ir.newInvalidDocument(t)};return $l(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Cp(t))},(o,u)=>{r={document:this.jn(t,u),size:bp(u)}}).next(()=>r)}getEntries(e,t){let r=gs();return this.zn(e,t,(o,u)=>{const d=this.jn(o,u);r=r.insert(o,d)}).next(()=>r)}Hn(e,t){let r=gs(),o=new Bn(mt.comparator);return this.zn(e,t,(u,d)=>{const m=this.jn(u,d);r=r.insert(u,m),o=o.insert(u,bp(d))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return we.resolve();let o=new qn(iw);t.forEach(b=>o=o.add(b));const u=IDBKeyRange.bound(Cp(o.first()),Cp(o.last())),d=o.getIterator();let m=d.getNext();return $l(e).Z({index:"documentKeyIndex",range:u},(b,S,N)=>{const j=mt.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;m&&iw(m,j)<0;)r(m,null),m=d.getNext();m&&m.isEqual(j)&&(r(m,S),m=d.hasNext()?d.getNext():null),m?N.j(Cp(m)):N.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Pv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $l(e).W(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=gs();for(const b of d){const S=this.jn(mt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(S.key,S)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=gs();const d=rw(t,r),m=rw(t,Ts.max());return $l(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(b,S,N)=>{const j=this.jn(mt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);u=u.insert(j.key,j),u.size===o&&N.done()}).next(()=>u)}newChangeBuffer(e){return new Bv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nw(e).get("remoteDocumentGlobalKey").next(t=>(Wt(!!t),t))}Qn(e,t){return nw(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function nC(n,e){let t;if(e.document)t=pm(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=mt.fromSegments(e.noDocument.path),o=Wc(e.noDocument.readTime);t=ir.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Tt();{const r=mt.fromSegments(e.unknownDocument.path),o=Wc(e.unknownDocument.version);t=ir.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new vr(r[0],r[1]);return qt.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(qt.min()))return r}return ir.newInvalidDocument(e)}}function tw(n){return new Dp(n)}class Bv extends Uv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ul(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new qn((u,d)=>tn(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const b=qb(this.Yn.It,d);o=o.add(u.path.popLast()),r+=bp(b)-m.size,t.push(this.Yn.addEntry(e,u,b))}else if(r-=m.size,this.trackRemovals){const b=qb(this.Yn.It,d.convertToNoDocument(qt.min()));t.push(this.Yn.addEntry(e,u,b))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,d)=>{this.Xn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function nw(n){return Lr(n,"remoteDocumentGlobal")}function $l(n){return Lr(n,"remoteDocumentsV14")}function Cp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rw(n,e){const t=e.documentKey.path.toArray();return[n,Pv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iw(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=tn(t[u],r[u]),o)return o;return o=tn(t.length,r.length),o||(o=tn(t[t.length-2],r[r.length-2]),o||tn(t[t.length-1],r[r.length-1]))}class jv{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hv{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&ap(r.mutation,o,Ws.empty(),vr.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,sn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=sn()){const o=Qa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=cp();return u.forEach((m,b)=>{d=d.insert(m,b.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Qa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,sn()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=gs();const d=dp(),m=dp();return t.forEach((b,S)=>{const N=r.get(S.key);o.has(S.key)&&(void 0===N||N.mutation instanceof Vl)?u=u.insert(S.key,S):void 0!==N&&(d.set(S.key,N.mutation.getFieldMask()),ap(N.mutation,S,N.mutation.getFieldMask(),vr.now()))}),this.recalculateAndSaveOverlays(e,u).next(b=>(b.forEach((S,N)=>d.set(S,N)),t.forEach((S,N)=>{var j;return m.set(S,new jv(N,null!==(j=d.get(S))&&void 0!==j?j:null))}),m))}recalculateAndSaveOverlays(e,t){const r=dp();let o=new Bn((d,m)=>d-m),u=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(b=>{const S=t.get(b);if(null===S)return;let N=r.get(b)||Ws.empty();N=m.applyToLocalView(S,N),r.set(b,N);const j=(o.get(m.batchId)||sn()).add(b);o=o.insert(m.batchId,j)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const b=m.getNext(),S=b.key,N=b.value,j=yv();N.forEach(oe=>{if(!u.has(oe)){const Ie=Ib(t.get(oe),r.get(oe));null!==Ie&&j.set(oe,Ie),u=u.add(oe)}}),d.push(this.documentOverlayCache.saveOverlays(e,S,j))}return we.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return mt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):av(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):we.resolve(Qa());let m=-1,b=u;return d.next(S=>we.forEach(S,(N,j)=>(m<j.largestBatchId&&(m=j.largestBatchId),u.get(N)?we.resolve():this.getBaseDocument(e,N,j).next(oe=>{b=b.insert(N,oe)}))).next(()=>this.populateOverlays(e,S,u)).next(()=>this.computeViews(e,b,S,sn())).next(N=>({batchId:m,changes:Dh(N)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mt(t)).next(r=>{let o=cp();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=cp();return this.indexManager.getCollectionParents(e,o).next(d=>we.forEach(d,m=>{const b=(S=t,N=m.child(o),new Pl(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(S=>{S.forEach((N,j)=>{u=u.insert(N,j)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,b)=>{const S=b.getKey();null===o.get(S)&&(o=o.insert(S,ir.newInvalidDocument(S)))});let d=cp();return o.forEach((m,b)=>{const S=u.get(m);void 0!==S&&ap(S.mutation,b,Ws.empty(),vr.now()),lv(t,b)&&(d=d.insert(m,b))}),d})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):we.resolve(ir.newInvalidDocument(t))}}class sw{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return we.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:wi(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Kc(r.bundledQuery),readTime:wi(r.readTime)}),we.resolve();var r}}class Am{constructor(){this.overlays=new Bn(mt.comparator),this.es=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qa();return we.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),we.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const o=Qa(),u=t.length+1,d=new mt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const b=m.getNext().value,S=b.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===u&&b.largestBatchId>r&&o.set(b.getKey(),b)}return we.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Bn((S,N)=>S-N);const d=this.overlays.getIterator();for(;d.hasNext();){const S=d.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let N=u.get(S.largestBatchId);null===N&&(N=Qa(),u=u.insert(S.largestBatchId,N)),N.set(S.getKey(),S)}}const m=Qa(),b=u.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((S,N)=>m.set(S,N)),!(m.size()>=o)););return we.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new vm(t,r));let u=this.es.get(t);void 0===u&&(u=sn(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class Tp{constructor(){this.ns=new qn(Pi.ss),this.rs=new qn(Pi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Pi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Pi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new mt(new xn([])),r=new Pi(t,e),o=new Pi(t,e+1),u=[];return this.rs.forEachInRange([r,o],d=>{this.cs(d),u.push(d.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new mt(new xn([])),r=new Pi(t,e),o=new Pi(t,e+1);let u=sn();return this.rs.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Pi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return mt.comparator(e.key,t.key)||tn(e._s,t._s)}static os(e,t){return tn(e._s,t._s)||mt.comparator(e.key,t.key)}}class ow{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new qn(Pi.ss)}checkEmpty(e){return we.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new ym(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this.gs=this.gs.add(new Pi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return we.resolve(d)}lookupMutationBatch(e,t){return we.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return we.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pi(t,0),o=new Pi(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],d=>{const m=this.ys(d._s);u.push(m)}),we.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(tn);return t.forEach(o=>{const u=new Pi(o,0),d=new Pi(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,d],m=>{r=r.add(m._s)})}),we.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;mt.isDocumentKey(u)||(u=u.child(""));const d=new Pi(new mt(u),0);let m=new qn(tn);return this.gs.forEachWhile(b=>{const S=b.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(m=m.add(b._s)),!0)},d),we.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Wt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return we.forEach(t.mutations,o=>{const u=new Pi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Pi(t,0),o=this.gs.firstAfterOrEqual(r);return we.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return we.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cC{constructor(e){this.Es=e,this.docs=new Bn(mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():ir.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ir.newInvalidDocument(o))}),we.resolve(r)}getAllFromCollection(e,t,r){let o=gs();const u=new mt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||G_(ib(b),r)<=0||(o=o.insert(b.key,b.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Tt()}As(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new aw(this)}getSize(e){return we.resolve(this.size)}}class aw extends Uv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class Nh{constructor(e){this.persistence=e,this.Rs=new Ul(t=>Bc(t),mh),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Tp,this.targetCount=0,this.vs=Hl.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),we.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Hl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Dn(t),we.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),we.waitFor(u).next(()=>o)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),we.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.Ps.containsKey(t))}}class uw{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Yi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Nh(this),this.indexManager=new lA,this.remoteDocumentCache=new cC(r=>this.referenceDelegate.xs(r)),this.It=new kv(t),this.Ns=new sw(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Am,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new ow(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Xe("MemoryPersistence","Starting transaction:",e);const o=new lw(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Os(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ms(e,t){return we.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class lw extends z_{constructor(e){super(),this.currentSequenceNumber=e}}class kh{constructor(e){this.persistence=e,this.Fs=new Tp,this.$s=null}static Bs(e){return new kh(e)}get Ls(){if(this.$s)return this.$s;throw Tt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),we.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Ls,r=>{const o=mt.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,qt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return we.or([()=>we.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class hA{constructor(e){this.It=e}$(e,t,r,o){const u=new sm("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ov,{unique:!0}),m.createObjectStore("documentMutations"),cw(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=we.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),cw(e)),d=d.next(()=>function(m){const b=m.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qt.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",S)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,b){return b.store("mutations").W().next(S=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ov,{unique:!0});const N=b.store("mutations"),j=S.map(oe=>N.put(oe));return we.waitFor(j)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(d=d.next(()=>this.Gs(u))),r<8&&o>=8&&(d=d.next(()=>this.Qs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.js(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:$b});b.createIndex("collectionPathOverlayIndex",JD,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",XD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:qD});b.createIndex("documentKeyIndex",Bb),b.createIndex("collectionGroupIndex",oA)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.zs(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:uA}).createIndex("sequenceNumberIndex",YD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:QD}).createIndex("documentKeyIndex",Hb,{unique:!1})}(e))),d}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=bp(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>we.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",d).next(m=>we.forEach(m,b=>{Wt(b.userId===u.userId);const S=qc(this.It,b);return Tm(e,u.userId,S).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const b=new xn(d),S=[0,ki(b)];u.push(t.get(S).next(N=>N?we.resolve():t.put({targetId:0,path:ki(b),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>we.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:aA});const r=t.store("collectionParents"),o=new vp,u=d=>{if(o.add(d)){const m=d.lastSegment(),b=d.popLast();return r.put({collectionId:m,parent:ki(b)})}};return t.store("remoteDocuments").Z({X:!0},(d,m)=>{const b=new xn(d);return u(b.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([d,m,b],S)=>{const N=oa(m);return u(N.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=mp(o),d=Kb(this.It,u);return t.put(d)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),b=(S=d,S.document?new mt(xn.fromString(S.document.name).popFirst(5)):S.noDocument?mt.fromSegments(S.noDocument.path):S.unknownDocument?mt.fromSegments(S.unknownDocument.path):Tt()).path.toArray();var S;const N={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(N))}).next(()=>we.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=tw(this.It),u=new uw(kh.Bs,this.It.re);return r.W().next(d=>{const m=new Map;return d.forEach(b=>{var S;let N=null!==(S=m.get(b.userId))&&void 0!==S?S:sn();qc(this.It,b).keys().forEach(j=>N=N.add(j)),m.set(b.userId,N)}),we.forEach(m,(b,S)=>{const N=new oi(S),j=wm.oe(this.It,N),oe=u.getIndexManager(N),Ie=wp.oe(N,this.It,oe,u.referenceDelegate);return new Hv(o,Ie,j,oe).recalculateAndSaveOverlaysForDocumentKeys(new Nv(t,Yi.at),b).next()})})}}function cw(n){n.createObjectStore("targetDocuments",{keyPath:KD}).createIndex("documentTargetsIndex",ZD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jb,{unique:!0}),n.createObjectStore("targetGlobal")}const dw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $v{constructor(e,t,r,o,u,d,m,b,S,N,j=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=d,this.document=m,this.Js=S,this.Ys=N,this.Xs=j,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=oe=>Promise.resolve(),!$v.C())throw new Ze(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dA(this,o),this.ii=t+"main",this.It=new kv(b),this.ri=new yo(this.ii,this.Xs,new hA(this.It)),this.Cs=new aC(this.referenceDelegate,this.It),this.remoteDocumentCache=tw(this.It),this.Ns=new rC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===N&&kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ze(Se.FAILED_PRECONDITION,dw);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Yi(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,Le.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Le.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Le.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ml(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ap(e).get("owner").next(t=>we.resolve(this.mi(t)))}gi(e){return Sm(e).delete(this.clientId)}yi(){var e=this;return(0,Le.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Lr(r,"clientMetadata");return o.W().next(u=>{const d=e.Ii(u,18e5),m=u.filter(b=>-1===d.indexOf(b));return we.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?we.resolve(!0):Ap(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ze(Se.FAILED_PRECONDITION,dw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sm(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Le.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Nv(t,Yi.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Sm(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return wp.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qb(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return wm.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Xe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Xs)?tC:14===d?Wb:13===d?zb:12===d?eC:11===d?Gb:void Tt();var d;let m;return this.ri.runTransaction(e,o,u,b=>(m=new Nv(b,this.Ss?this.Ss.next():Yi.at),"readwrite-primary"===t?this.fi(m).next(S=>!!S||this.di(m)).next(S=>{if(!S)throw kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ze(Se.FAILED_PRECONDITION,Jr);return r(m)}).next(S=>this.wi(m).next(()=>S)):this.Vi(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}Vi(e){return Ap(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ze(Se.FAILED_PRECONDITION,dw)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ap(e).put("owner",t)}static C(){return yo.C()}_i(e){const t=Ap(e);return t.get("owner").next(r=>this.mi(r)?(Xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):we.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(kr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,kn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return kr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){kr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ap(n){return Lr(n,"owner")}function Sm(n){return Lr(n,"clientMetadata")}function Mm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class xm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=sn(),o=sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xm(e,t.fromCache,r,o)}}class hw{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Oi(e,t,o,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(_b(t))return we.resolve(null);let r=bi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=hr(t,null,"F"),r=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=sn(...u);return this.Ni.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(b=>{const S=this.Fi(t,m);return this.$i(t,S,d,b.readTime)?this.ki(e,hr(t,null,"F")):this.Bi(e,S,t,b)}))})))}Oi(e,t,r,o){return _b(t)||o.isEqual(qt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const d=this.Fi(t,u);return this.$i(t,d,r,o)?this.Mi(e,t):(em()<=Ic.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hm(t)),this.Bi(e,d,t,rb(o,-1)))})}Fi(e,t){let r=new qn(dv(e));return t.forEach((o,u)=>{lv(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mi(e,t){return em()<=Ic.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",hm(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ts.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class fw{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Bn(tn),this.qi=new Ul(u=>Bc(u),mh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Gv(n,e,t,r){return new fw(n,e,t,r)}function pw(n,e){return zv.apply(this,arguments)}function zv(){return zv=(0,Le.Z)(function*(n,e){const t=gt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let b=sn();for(const S of o){d.push(S.batchId);for(const N of S.mutations)b=b.add(N.key)}for(const S of u){m.push(S.batchId);for(const N of S.mutations)b=b.add(N.key)}return t.localDocuments.getDocuments(r,b).next(S=>({ji:S,removedBatchIds:d,addedBatchIds:m}))})})}),zv.apply(this,arguments)}function gw(n,e){const t=gt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(d,m,b,S){const N=b.batch,j=N.keys();let oe=we.resolve();return j.forEach(Ie=>{oe=oe.next(()=>S.getEntry(m,Ie)).next(Fe=>{const tt=b.docVersions.get(Ie);Wt(null!==tt),Fe.version.compareTo(tt)<0&&(N.applyToRemoteDocument(Fe,b),Fe.isValidDocument()&&(Fe.setReadTime(b.commitVersion),S.addEntry(Fe)))})}),oe.next(()=>d.mutationQueue.removeMutationBatch(m,N))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=sn();for(let b=0;b<d.mutationResults.length;++b)d.mutationResults[b].transformResults.length>0&&(m=m.add(d.batch.mutations[b].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function mw(n){const e=gt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function yw(n,e){const t=gt(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((N,j)=>{const oe=o.get(j);if(!oe)return;m.push(t.Cs.removeMatchingKeys(u,N.removedDocuments,j).next(()=>t.Cs.addMatchingKeys(u,N.addedDocuments,j)));let Ie=oe.withSequenceNumber(u.currentSequenceNumber);var Fe,tt,ot;e.targetMismatches.has(j)?Ie=Ie.withResumeToken(ui.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):N.resumeToken.approximateByteSize()>0&&(Ie=Ie.withResumeToken(N.resumeToken,r)),o=o.insert(j,Ie),tt=Ie,ot=N,(0===(Fe=oe).resumeToken.approximateByteSize()||tt.snapshotVersion.toMicroseconds()-Fe.snapshotVersion.toMicroseconds()>=3e8||ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,Ie))});let b=gs(),S=sn();if(e.documentUpdates.forEach(N=>{e.resolvedLimboDocuments.has(N)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,N))}),m.push(Wv(u,d,e.documentUpdates).next(N=>{b=N.Wi,S=N.zi})),!r.isEqual(qt.min())){const N=t.Cs.getLastRemoteSnapshotVersion(u).next(j=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(N)}return we.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,b,S)).next(()=>b)}).then(u=>(t.Ui=o,u))}function Wv(n,e,t){let r=sn(),o=sn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=gs();return t.forEach((m,b)=>{const S=u.get(m);b.isFoundDocument()!==S.isFoundDocument()&&(o=o.add(m)),b.isNoDocument()&&b.version.isEqual(qt.min())?(e.removeEntry(m,b.readTime),d=d.insert(m,b)):!S.isValidDocument()||b.version.compareTo(S.version)>0||0===b.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(b),d=d.insert(m,b)):Xe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",S.version," Watch version:",b.version)}),{Wi:d,zi:o}})}function _w(n,e){const t=gt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xc(n,e){const t=gt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,we.resolve(o)):t.Cs.allocateTargetId(r).next(d=>(o=new ju(e,d,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ph(n,e,t){return qv.apply(this,arguments)}function qv(){return qv=(0,Le.Z)(function*(n,e,t){const r=gt(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ml(d))throw d;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),qv.apply(this,arguments)}function Kv(n,e,t){const r=gt(n);let o=qt.min(),u=sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,b,S){const N=gt(m),j=N.qi.get(S);return void 0!==j?we.resolve(N.Ui.get(j)):N.Cs.getTargetData(b,S)}(r,d,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(d,m.targetId).next(b=>{u=b})}).next(()=>r.Li.getDocumentsMatchingQuery(d,e,t?o:qt.min(),t?u:sn())).next(m=>(hC(r,cv(e),m),{documents:m,Hi:u})))}function Zv(n,e){const t=gt(n),r=gt(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(d=>d?d.target:null))}function dC(n,e){const t=gt(n),r=t.Ki.get(e)||qt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,rb(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(hC(t,e,o),o))}function hC(n,e,t){let r=n.Ki.get(e)||qt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function vw(){return vw=(0,Le.Z)(function*(n,e,t,r){const o=gt(n);let u=sn(),d=gs();for(const S of t){const N=e.Ji(S.metadata.name);S.document&&(u=u.add(N));const j=e.Yi(S);j.setReadTime(e.Xi(S.metadata.readTime)),d=d.insert(N,j)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),b=yield Xc(o,(S=r,bi(_h(xn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>Wv(S,m,d).next(N=>(m.apply(S),N)).next(N=>o.Cs.removeMatchingKeysForTargetId(S,b.targetId).next(()=>o.Cs.addMatchingKeys(S,u,b.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(S,N.Wi,N.zi)).next(()=>N.Wi)))}),vw.apply(this,arguments)}function pA(n,e){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,Le.Z)(function*(n,e,t=sn()){const r=yield Xc(n,bi(Kc(e.bundledQuery))),o=gt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=wi(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(ui.EMPTY_BYTE_STRING,d);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),Ew.apply(this,arguments)}function fC(n,e){return`firestore_clients_${n}_${e}`}function pC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Lh(n,e){return`firestore_targets_${n}_${e}`}class Yv{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ze(o.error.code,o.error.message))),d?new Yv(e,t,o.state,u):(kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ze(r.error.code,r.error.message))),u?new Fh(e,r.state,o):(kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ed{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Ch();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=um(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new ed(e,u):(kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Rm{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Rm(t.clientId,t.onlineState):(kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Om{constructor(){this.activeTargetIds=Ch()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bw{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Bn(tn),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=fC(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Om),this.lr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Le.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(fC(e.persistenceKey,o));if(u){const d=ed.Zi(o,u);d&&(e.ur=e.ur.insert(d.clientId,d))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Lh(this.persistenceKey,e));if(r){const o=Fh.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lh(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xe("SharedClientState","READ",e,t),t}setItem(e,t){Xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Le.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let d=Yi.at;if(null!=u)try{const m=JSON.parse(u);Wt("number"==typeof m),d=m}catch(m){kr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Yi.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Mr(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new Yv(this.currentUser,e,t,r),u=pC(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=pC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=Lh(this.persistenceKey,e),u=new Fh(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return ed.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return Yv.Zi(new oi(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Fh.Zi(o,t)}yr(e){return Rm.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Le.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),d=[],m=[];return u.forEach(b=>{o.has(b)||d.push(b)}),o.forEach(b=>{u.has(b)||m.push(b)}),this.syncEngine.Br(d,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Ch();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Nm{constructor(){this.Lr=new Om,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Om,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ww{qr(e){}shutdown(){}}class Iw{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gA{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class gC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,o,u){const d=this.ho(e,t);Xe("RestConnection","Sending: ",d,r);const m={};return this.lo(m,o,u),this.fo(e,d,m,r).then(b=>(Xe("RestConnection","Received: ",b),b),b=>{throw Pc("RestConnection",`${e} failed with error: `,b,"url: ",d,"request:",r),b})}_o(e,t,r,o,u,d){return this.ao(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+kc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.oo}/v1/${t}:${Dw[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const m=new QE;m.setWithCredentials(!0),m.listenOnce(uh.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Tl.NO_ERROR:const S=m.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(S)),u(S);break;case Tl.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),d(new Ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const N=m.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',N,"response text:",m.getResponseText()),N>0){const j=m.getResponseJson().error;if(j&&j.status&&j.message){const oe=function(Ie){const Fe=Ie.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Fe)>=0?Fe:Se.UNKNOWN}(j.status);d(new Ze(oe,j.message))}else d(new Ze(Se.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ze(Se.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}wo(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oh(),d=ah(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new YE({})),this.lo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=o.join("");Xe("Connection","Creating WebChannel: "+b,m);const S=u.createWebChannel(b,m);let N=!1,j=!1;const oe=new gA({Hr:Fe=>{j?Xe("Connection","Not sending because WebChannel is closed:",Fe):(N||(Xe("Connection","Opening WebChannel transport."),S.open(),N=!0),Xe("Connection","WebChannel sending:",Fe),S.send(Fe))},Jr:()=>S.close()}),Ie=(Fe,tt,ot)=>{Fe.listen(tt,ln=>{try{ot(ln)}catch(bn){setTimeout(()=>{throw bn},0)}})};return Ie(S,Zf.EventType.OPEN,()=>{j||Xe("Connection","WebChannel transport opened.")}),Ie(S,Zf.EventType.CLOSE,()=>{j||(j=!0,Xe("Connection","WebChannel transport closed"),oe.io())}),Ie(S,Zf.EventType.ERROR,Fe=>{j||(j=!0,Pc("Connection","WebChannel transport errored:",Fe),oe.io(new Ze(Se.UNAVAILABLE,"The operation could not be completed")))}),Ie(S,Zf.EventType.MESSAGE,Fe=>{var tt;if(!j){const ot=Fe.data[0];Wt(!!ot);const ln=ot,bn=ln.error||(null===(tt=ln[0])||void 0===tt?void 0:tt.error);if(bn){Xe("Connection","WebChannel received error:",bn);const wn=bn.status;let pn=function(In){const Li=Er[In];if(void 0!==Li)return Ab(Li)}(wn),hn=bn.message;void 0===pn&&(pn=Se.INTERNAL,hn="Unknown error status: "+wn+" with message "+bn.message),j=!0,oe.io(new Ze(pn,hn)),S.close()}else Xe("Connection","WebChannel received:",ot),oe.ro(ot)}}),Ie(d,lh.STAT_EVENT,Fe=>{Fe.stat===P_.PROXY?Xe("Connection","Detected buffering proxy"):Fe.stat===P_.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{oe.so()},0),oe}}function Cw(){return typeof window<"u"?window:null}function km(){return typeof document<"u"?document:null}function Gl(n){return new BD(n,!0)}class Qv{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class mC{constructor(e,t,r,o,u,d,m,b){this.Hs=e,this.vo=r,this.Vo=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Qv(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Le.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Le.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,Le.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===Se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new Ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Le.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mA extends mC{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.It=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Fb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Tt(),o=e.targetChange.targetIds||[],u=function(b,S){return b.gt?(Wt(void 0===S||"string"==typeof S),ui.fromBase64String(S||"")):(Wt(void 0===S||S instanceof Uint8Array),ui.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(b){const S=void 0===b.code?Se.UNKNOWN:Ab(b.code);return new Ze(S,b.message||"")}(d);t=new Rb(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ja(n,r.document.name),u=wi(r.document.updateTime),d=new Ni({mapValue:{fields:r.document.fields}}),m=ir.newFoundDocument(o,u,d);t=new fp(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ja(n,r.document),u=r.readTime?wi(r.readTime):qt.min(),d=ir.newNoDocument(o,u);t=new fp([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Ja(n,r.document);t=new fp([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Tt();{const r=e.filter,u=new Cb(r.count||0);t=new xb(r.targetId,u)}}var b;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return qt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qt.min():u.readTime?wi(u.readTime):qt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=gp(this.It),t.addTarget=function(o,u){let d;const m=u.target;return d=tp(m)?{documents:gm(o,m)}:{query:Tv(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=kb(o,u.resumeToken):u.snapshotVersion.compareTo(qt.min())>0&&(d.readTime=pp(o,u.snapshotVersion.toTimestamp())),d}(this.It,e);const r=function Sh(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=gp(this.It),t.removeTarget=e,this.Bo(t)}}class yA extends mC{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function HD(n,e){return n&&n.length>0?(Wt(void 0!==e),n.map(t=>function(r,o){let u=wi(r.updateTime?r.updateTime:o);return u.isEqual(qt.min())&&(u=wi(o)),new RD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wi(e.commitTime);return this.listener.Zo(r,t)}return Wt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$c(this.It,r))};this.Bo(t)}}class yC extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new Ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.ao(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Se.UNKNOWN,o.toString())})}_o(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection._o(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ze(Se.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class _A{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(kr(t),this.ou=!1):Xe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class vC{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(m=>{r.enqueueAndForget((0,Le.Z)(function*(){var b;Gu(d)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Le.Z)(function*(S){const N=gt(S);N._u.add(4),yield Sp(N),N.gu.set("Unknown"),N._u.delete(4),yield Vh(N)}),function(S){return b.apply(this,arguments)})(d))}))}),this.gu=new _A(r,o)}}function Vh(n){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Le.Z)(function*(n){if(Gu(n))for(const e of n.wu)yield e(!0)}),Pm.apply(this,arguments)}function Sp(n){return qs.apply(this,arguments)}function qs(){return qs=(0,Le.Z)(function*(n){for(const e of n.wu)yield e(!1)}),qs.apply(this,arguments)}function Lm(n,e){const t=gt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Mp(t)?e0(t):nd(t).ko()&&Xv(t,e))}function td(n,e){const t=gt(n),r=nd(t);t.du.delete(e),r.ko()&&Ks(t,e),0===t.du.size&&(r.ko()?r.Fo():Gu(t)&&t.gu.set("Unknown"))}function Xv(n,e){n.yu.Mt(e.targetId),nd(n).zo(e)}function Ks(n,e){n.yu.Mt(e),nd(n).Ho(e)}function e0(n){n.yu=new _v({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),nd(n).start(),n.gu.uu()}function Mp(n){return Gu(n)&&!nd(n).No()&&n.du.size>0}function Gu(n){return 0===gt(n)._u.size}function Tw(n){n.yu=void 0}function t0(n){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,Le.Z)(function*(n){n.du.forEach((e,t)=>{Xv(n,e)})}),Fm.apply(this,arguments)}function Aw(n,e){return n0.apply(this,arguments)}function n0(){return n0=(0,Le.Z)(function*(n,e){Tw(n),Mp(n)?(n.gu.hu(e),e0(n)):n.gu.set("Unknown")}),n0.apply(this,arguments)}function Sw(n,e,t){return Vm.apply(this,arguments)}function Vm(){return Vm=(0,Le.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Rb&&2===e.state&&e.cause)try{yield(r=(0,Le.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.du.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.du.delete(m),o.yu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Um(n,r)}else if(e instanceof fp?n.yu.Gt(e):e instanceof xb?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(qt.min()))try{const r=yield mw(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.yu.te(u);return d.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const S=o.du.get(b);S&&o.du.set(b,S.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const b=o.du.get(m);if(!b)return;o.du.set(m,b.withResumeToken(ui.EMPTY_BYTE_STRING,b.snapshotVersion)),Ks(o,m);const S=new ju(b.target,m,1,b.sequenceNumber);Xv(o,S)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),yield Um(n,r)}var r}),Vm.apply(this,arguments)}function Um(n,e,t){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,Le.Z)(function*(n,e,t){if(!Ml(e))throw e;n._u.add(1),yield Sp(n),n.gu.set("Offline"),t||(t=()=>mw(n.localStore)),n.asyncQueue.enqueueRetryable((0,Le.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Vh(n)}))}),Bm.apply(this,arguments)}function Mw(n,e){return e().catch(t=>Um(n,t,e))}function zl(n){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,Le.Z)(function*(n){const e=gt(n),t=zu(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xw(e);)try{const o=yield _w(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,r0(e,o)}catch(o){yield Um(e,o)}eu(e)&&Rw(e)}),Xa.apply(this,arguments)}function xw(n){return Gu(n)&&n.fu.length<10}function r0(n,e){n.fu.push(e);const t=zu(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function eu(n){return Gu(n)&&!zu(n).No()&&n.fu.length>0}function Rw(n){zu(n).start()}function vA(n){return s0.apply(this,arguments)}function s0(){return s0=(0,Le.Z)(function*(n){zu(n).eu()}),s0.apply(this,arguments)}function EC(n){return o0.apply(this,arguments)}function o0(){return o0=(0,Le.Z)(function*(n){const e=zu(n);for(const t of n.fu)e.Xo(t.mutations)}),o0.apply(this,arguments)}function bC(n,e,t){return jm.apply(this,arguments)}function jm(){return jm=(0,Le.Z)(function*(n,e,t){const r=n.fu.shift(),o=_m.from(r,e,t);yield Mw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield zl(n)}),jm.apply(this,arguments)}function EA(n,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,Le.Z)(function*(n,e){var t;e&&zu(n).Yo&&(yield(t=(0,Le.Z)(function*(r,o){if(Tb(u=o.code)&&u!==Se.ABORTED){const d=r.fu.shift();zu(r).Mo(),yield Mw(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield zl(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),eu(n)&&Rw(n)}),Hm.apply(this,arguments)}function Ow(n,e){return $m.apply(this,arguments)}function $m(){return $m=(0,Le.Z)(function*(n,e){const t=gt(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Gu(t);t._u.add(3),yield Sp(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Vh(t)}),$m.apply(this,arguments)}function Nw(n,e){return xp.apply(this,arguments)}function xp(){return xp=(0,Le.Z)(function*(n,e){const t=gt(n);e?(t._u.delete(2),yield Vh(t)):e||(t._u.add(2),yield Sp(t),t.gu.set("Unknown"))}),xp.apply(this,arguments)}function nd(n){return n.pu||(n.pu=function(e,t,r){const o=gt(e);return o.su(),new mA(t,o.connection,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:t0.bind(null,n),Zr:Aw.bind(null,n),Wo:Sw.bind(null,n)}),n.wu.push(function(){var e=(0,Le.Z)(function*(t){t?(n.pu.Mo(),Mp(n)?e0(n):n.gu.set("Unknown")):(yield n.pu.stop(),Tw(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function zu(n){return n.Iu||(n.Iu=function(e,t,r){const o=gt(e);return o.su(),new yA(t,o.connection,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:vA.bind(null,n),Zr:EA.bind(null,n),tu:EC.bind(null,n),Zo:bC.bind(null,n)}),n.wu.push(function(){var e=(0,Le.Z)(function*(t){t?(n.Iu.Mo(),yield zl(n)):(yield n.Iu.stop(),n.fu.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Gm{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new Gm(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ze(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rd(n,e){if(kr("AsyncQueue",`${e}: ${n}`),Ml(n))return new Ze(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class id{constructor(e){this.comparator=e?(t,r)=>e(t,r)||mt.comparator(t.key,r.key):(t,r)=>mt.comparator(t.key,r.key),this.keyedMap=cp(),this.sortedSet=new Bn(this.comparator)}static emptySet(e){return new id(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof id)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new id;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Rp{constructor(){this.Tu=new Bn(mt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Tt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wu{constructor(e,t,r,o,u,d,m,b,S){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=b,this.hasCachedResults=S}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Wu(e,t,id.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class kw{constructor(){this.Au=void 0,this.listeners=[]}}class wC{constructor(){this.queries=new Ul(e=>uv(e),dm),this.onlineState="Unknown",this.Ru=new Set}}function zm(n,e){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,Le.Z)(function*(n,e){const t=gt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new kw),o)try{u.Au=yield t.onListen(r)}catch(d){const m=rd(d,`Initialization of query '${hm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&qm(t)}),Wm.apply(this,arguments)}function a0(n,e){return u0.apply(this,arguments)}function u0(){return u0=(0,Le.Z)(function*(n,e){const t=gt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),u0.apply(this,arguments)}function bA(n,e){const t=gt(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Pu(o)&&(r=!0);d.Au=o}}r&&qm(t)}function wA(n,e,t){const r=gt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function qm(n){n.Ru.forEach(e=>{e.next()})}class l0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class IC{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Pw{constructor(e){this.It=e}Ji(e){return Ja(this.It,e)}Yi(e){return e.metadata.exists?pm(this.It,e.document,!1):ir.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return wi(e)}}class IA{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DC(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=xn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Pw(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||sn()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,Le.Z)(function*(){const t=yield function fA(n,e,t,r){return vw.apply(this,arguments)}(e.localStore,new Pw(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const o of e.queries)yield pA(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function DC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class CC{constructor(e){this.key=e}}class TC{constructor(e){this.key=e}}class AC{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=sn(),this.mutatedKeys=sn(),this.Gu=dv(e),this.Qu=new id(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new Rp,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const b="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,S="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,j)=>{const oe=o.get(N),Ie=lv(this.query,j)?j:null,Fe=!!oe&&this.mutatedKeys.has(oe.key),tt=!!Ie&&(Ie.hasLocalMutations||this.mutatedKeys.has(Ie.key)&&Ie.hasCommittedMutations);let ot=!1;oe&&Ie?oe.data.isEqual(Ie.data)?Fe!==tt&&(r.track({type:3,doc:Ie}),ot=!0):this.Hu(oe,Ie)||(r.track({type:2,doc:Ie}),ot=!0,(b&&this.Gu(Ie,b)>0||S&&this.Gu(Ie,S)<0)&&(m=!0)):!oe&&Ie?(r.track({type:0,doc:Ie}),ot=!0):oe&&!Ie&&(r.track({type:1,doc:oe}),ot=!0,(b||S)&&(m=!0)),ot&&(Ie?(d=d.add(Ie),u=tt?u.add(N):u.delete(N)):(d=d.delete(N),u=u.delete(N)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const N="F"===this.query.limitType?d.last():d.first();d=d.delete(N.key),u=u.delete(N.key),r.track({type:1,doc:N})}return{Qu:d,zu:r,$i:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((S,N)=>function(j,oe){const Ie=Fe=>{switch(Fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return Ie(j)-Ie(oe)}(S.type,N.type)||this.Gu(S.doc,N.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,b=m!==this.qu;return this.qu=m,0!==u.length||b?{snapshot:new Wu(this.query,e.Qu,o,u,e.mutatedKeys,0===m,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:d}:{Xu:d}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Rp,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new TC(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new CC(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Wu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class SC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Km{constructor(e){this.key=e,this.nc=!1}}class MC{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sc={},this.ic=new Ul(m=>uv(m),dm),this.rc=new Map,this.oc=new Set,this.uc=new Bn(mt.comparator),this.cc=new Map,this.ac=new Tp,this.hc={},this.lc=new Map,this.fc=Hl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function xC(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,Le.Z)(function*(n,e){const t=Ww(n);let r,o;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ec();else{const d=yield Xc(t.localStore,bi(e));t.isPrimaryClient&&Lm(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield qu(t,e,r,"current"===m,d.resumeToken)}return o}),Zm.apply(this,arguments)}function qu(n,e,t,r,o){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,Le.Z)(function*(n,e,t,r,o){n._c=(j,oe,Ie)=>{return(Fe=(0,Le.Z)(function*(tt,ot,ln,bn){let wn=ot.view.Wu(ln);wn.$i&&(wn=yield Kv(tt.localStore,ot.query,!1).then(({documents:In})=>ot.view.Wu(In,wn)));const pn=bn&&bn.targetChanges.get(ot.targetId),hn=ot.view.applyChanges(wn,tt.isPrimaryClient,pn);return f0(tt,ot.targetId,hn.Xu),hn.snapshot}),function(tt,ot,ln,bn){return Fe.apply(this,arguments)})(n,j,oe,Ie);var Fe};const u=yield Kv(n.localStore,e,!0),d=new AC(e,u.Hi),m=d.Wu(u.documents),b=Th.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),S=d.applyChanges(m,n.isPrimaryClient,b);f0(n,t,S.Xu);const N=new SC(e,t,d);return n.ic.set(e,N),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),S.snapshot}),Ym.apply(this,arguments)}function c0(n,e){return Op.apply(this,arguments)}function Op(){return Op=(0,Le.Z)(function*(n,e){const t=gt(n),r=t.ic.get(e),o=t.rc.get(r.targetId);if(o.length>1)return t.rc.set(r.targetId,o.filter(u=>!dm(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ph(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),td(t.remoteStore,r.targetId),sd(t,r.targetId)}).catch(Sl))):(sd(t,r.targetId),yield Ph(t.localStore,r.targetId,!0))}),Op.apply(this,arguments)}function Np(){return Np=(0,Le.Z)(function*(n,e,t){const r=i(n);try{const o=yield function(u,d){const m=gt(u),b=vr.now(),S=d.reduce((oe,Ie)=>oe.add(Ie.key),sn());let N,j;return m.persistence.runTransaction("Locally write mutations","readwrite",oe=>{let Ie=gs(),Fe=sn();return m.Gi.getEntries(oe,S).next(tt=>{Ie=tt,Ie.forEach((ot,ln)=>{ln.isValidDocument()||(Fe=Fe.add(ot))})}).next(()=>m.localDocuments.getOverlayedDocuments(oe,Ie)).next(tt=>{N=tt;const ot=[];for(const ln of d){const bn=OD(ln,N.get(ln.key).overlayedDocument);null!=bn&&ot.push(new Vl(ln.key,bn,fb(bn.value.mapValue),fr.exists(!0)))}return m.mutationQueue.addMutationBatch(oe,b,ot,d)}).next(tt=>{j=tt;const ot=tt.applyToLocalDocumentSet(N,Fe);return m.documentOverlayCache.saveOverlays(oe,tt.batchId,ot)})}).then(()=>({batchId:j.batchId,changes:Dh(N)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let b=u.hc[u.currentUser.toKey()];b||(b=new Bn(tn)),b=b.insert(d,m),u.hc[u.currentUser.toKey()]=b}(r,o.batchId,t),yield Wl(r,o.changes),yield zl(r.remoteStore)}catch(o){const u=rd(o,"Failed to persist write");t.reject(u)}}),Np.apply(this,arguments)}function Qm(n,e){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,Le.Z)(function*(n,e){const t=gt(n);try{const r=yield yw(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.cc.get(u);d&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.nc=!0:o.modifiedDocuments.size>0?Wt(d.nc):o.removedDocuments.size>0&&(Wt(d.nc),d.nc=!1))}),yield Wl(t,r,e)}catch(r){yield Sl(r)}}),Uh.apply(this,arguments)}function OC(n,e,t){const r=gt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ic.forEach((u,d)=>{const m=d.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=gt(u);m.onlineState=d;let b=!1;m.queries.forEach((S,N)=>{for(const j of N.listeners)j.bu(d)&&(b=!0)}),b&&qm(m)}(r.eventManager,e),o.length&&r.sc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DA(n,e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,Le.Z)(function*(n,e,t){const r=gt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.cc.get(e),u=o&&o.key;if(u){let d=new Bn(mt.comparator);d=d.insert(u,ir.newNoDocument(u,qt.min()));const m=sn().add(u),b=new hp(qt.min(),new Map,new qn(tn),d,m);yield Qm(r,b),r.uc=r.uc.remove(u),r.cc.delete(e),kp(r)}else yield Ph(r.localStore,e,!1).then(()=>sd(r,e,t)).catch(Sl)}),Lw.apply(this,arguments)}function CA(n,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Le.Z)(function*(n,e){const t=gt(n),r=e.batch.batchId;try{const o=yield gw(t.localStore,e);ey(t,r,null),Xm(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wl(t,o)}catch(o){yield Sl(o)}}),Jm.apply(this,arguments)}function NC(n,e,t){return d0.apply(this,arguments)}function d0(){return d0=(0,Le.Z)(function*(n,e,t){const r=gt(n);try{const o=yield function(u,d){const m=gt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let S;return m.mutationQueue.lookupMutationBatch(b,d).next(N=>(Wt(null!==N),S=N.keys(),m.mutationQueue.removeMutationBatch(b,N))).next(()=>m.mutationQueue.performConsistencyCheck(b)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(b,S,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,S)).next(()=>m.localDocuments.getDocuments(b,S))})}(r.localStore,e);ey(r,e,t),Xm(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wl(r,o)}catch(o){yield Sl(o)}}),d0.apply(this,arguments)}function h0(){return h0=(0,Le.Z)(function*(n,e){const t=gt(n);Gu(t.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=gt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.lc.get(r)||[];o.push(e),t.lc.set(r,o)}catch(r){const o=rd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),h0.apply(this,arguments)}function Xm(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function ey(n,e,t){const r=gt(n);let o=r.hc[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.hc[r.currentUser.toKey()]=o}}function sd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||Fw(n,r)})}function Fw(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(td(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),kp(n))}function f0(n,e,t){for(const r of t)r instanceof CC?(n.ac.addReference(r.key,e),Vw(n,r)):r instanceof TC?(Xe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||Fw(n,r.key)):Tt()}function Vw(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Xe("SyncEngine","New document in limbo: "+t),n.oc.add(r),kp(n))}function kp(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new mt(xn.fromString(e)),r=n.fc.next();n.cc.set(r,new Km(t)),n.uc=n.uc.insert(t,r),Lm(n.remoteStore,new ju(bi(_h(t.path)),r,2,Yi.at))}}function Wl(n,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,Le.Z)(function*(n,e,t){const r=gt(n),o=[],u=[],d=[];var m;r.ic.isEmpty()||(r.ic.forEach((m,b)=>{d.push(r._c(b,e,t).then(S=>{if((S||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,S?.fromCache?"not-current":"current"),S){o.push(S);const N=xm.Ci(b.targetId,S);u.push(N)}}))}),yield Promise.all(d),r.sc.Wo(o),yield(m=(0,Le.Z)(function*(b,S){const N=gt(b);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>we.forEach(S,oe=>we.forEach(oe.Si,Ie=>N.persistence.referenceDelegate.addReference(j,oe.targetId,Ie)).next(()=>we.forEach(oe.Di,Ie=>N.persistence.referenceDelegate.removeReference(j,oe.targetId,Ie)))))}catch(j){if(!Ml(j))throw j;Xe("LocalStore","Failed to update sequence numbers: "+j)}for(const j of S){const oe=j.targetId;if(!j.fromCache){const Ie=N.Ui.get(oe),tt=Ie.withLastLimboFreeSnapshotVersion(Ie.snapshotVersion);N.Ui=N.Ui.insert(oe,tt)}}}),function(b,S){return m.apply(this,arguments)})(r.localStore,u))}),ty.apply(this,arguments)}function p0(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,Le.Z)(function*(n,e){const t=gt(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=yield pw(t.localStore,e);t.currentUser=e,(o=t).lc.forEach(d=>{d.forEach(m=>{m.reject(new Ze(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wl(t,r.ji)}var o}),g0.apply(this,arguments)}function PC(n,e){const t=gt(n),r=t.cc.get(e);if(r&&r.nc)return sn().add(r.key);{let o=sn();const u=t.rc.get(e);if(!u)return o;for(const d of u){const m=t.ic.get(d);o=o.unionWith(m.view.ju)}return o}}function TA(n,e){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,Le.Z)(function*(n,e){const t=gt(n),r=yield Kv(t.localStore,e.query,!0),o=e.view.tc(r);return t.isPrimaryClient&&f0(t,e.targetId,o.Xu),o}),Uw.apply(this,arguments)}function LC(n,e){return m0.apply(this,arguments)}function m0(){return m0=(0,Le.Z)(function*(n,e){const t=gt(n);return dC(t.localStore,e).then(r=>Wl(t,r))}),m0.apply(this,arguments)}function FC(n,e,t,r){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,Le.Z)(function*(n,e,t,r){const o=gt(n),u=yield function(d,m){const b=gt(d),S=gt(b.mutationQueue);return b.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Tn(N,m).next(j=>j?b.localDocuments.getDocuments(N,j):we.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield zl(o.remoteStore):"acknowledged"===t||"rejected"===t?(ey(o,e,r||null),Xm(o,e),m=e,gt(gt(o.localStore).mutationQueue).An(m)):Tt(),yield Wl(o,u)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Bw.apply(this,arguments)}function jw(){return jw=(0,Le.Z)(function*(n,e){const t=gt(n);if(Ww(t),i(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield VC(t,r.toArray());t.dc=!0,yield Nw(t.remoteStore,!0);for(const u of o)Lm(t.remoteStore,u)}else if(!1===e&&!1!==t.dc){const r=[];let o=Promise.resolve();t.rc.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(sd(t,d),Ph(t.localStore,d,!0))),td(t.remoteStore,d)}),yield o,yield VC(t,r),function(u){const d=gt(u);d.cc.forEach((m,b)=>{td(d.remoteStore,b)}),d.ac.fs(),d.cc=new Map,d.uc=new Bn(mt.comparator)}(t),t.dc=!1,yield Nw(t.remoteStore,!1)}}),jw.apply(this,arguments)}function VC(n,e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,Le.Z)(function*(n,e,t){const r=gt(n),o=[],u=[];for(const d of e){let m;const b=r.rc.get(d);if(b&&0!==b.length){m=yield Xc(r.localStore,bi(b[0]));for(const S of b){const N=r.ic.get(S),j=yield TA(r,N);j.snapshot&&u.push(j.snapshot)}}else{const S=yield Zv(r.localStore,d);m=yield Xc(r.localStore,S),yield qu(r,$w(S),d,!1,m.resumeToken)}o.push(m)}return r.sc.Wo(u),o}),Hw.apply(this,arguments)}function $w(n){return $t(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function SA(n){const e=gt(n);return gt(gt(e.localStore).persistence).vi()}function MA(n,e,t,r){return Gw.apply(this,arguments)}function Gw(){return Gw=(0,Le.Z)(function*(n,e,t,r){const o=gt(n);if(o.dc)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const u=o.rc.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield dC(o.localStore,cv(u[0])),m=hp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ui.EMPTY_BYTE_STRING);yield Wl(o,d,m);break}case"rejected":yield Ph(o.localStore,e,!0),sd(o,e,r);break;default:Tt()}}),Gw.apply(this,arguments)}function xA(n,e,t){return zw.apply(this,arguments)}function zw(){return zw=(0,Le.Z)(function*(n,e,t){const r=Ww(n);if(r.dc){for(const o of e){if(r.rc.has(o)){Xe("SyncEngine","Adding an already active target "+o);continue}const u=yield Zv(r.localStore,o),d=yield Xc(r.localStore,u);yield qu(r,$w(u),d.targetId,!1,d.resumeToken),Lm(r.remoteStore,d)}for(const o of t)r.rc.has(o)&&(yield Ph(r.localStore,o,!1).then(()=>{td(r.remoteStore,o),sd(r,o)}).catch(Sl))}}),zw.apply(this,arguments)}function Ww(n){const e=gt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DA.bind(null,e),e.sc.Wo=bA.bind(null,e.eventManager),e.sc.wc=wA.bind(null,e.eventManager),e}function i(n){const e=gt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class a{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Le.Z)(function*(){t.It=Gl(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Gv(this.persistence,new hw,e.initialUser,this.It)}yc(e){return new uw(kh.Bs,this.It)}gc(e){return new Nm}terminate(){var e=this;return(0,Le.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class l extends a{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Le.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield i(r.Ac.syncEngine),yield zl(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Gv(this.persistence,new hw,e.initialUser,this.It)}Tc(e,t){return new lC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new ab(t,this.persistence);return new rA(e.asyncQueue,r)}yc(e){const t=Mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new $v(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Cw(),km(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Nm}}class c extends l{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Le.Z)(function*(){yield t().call(r,e);const o=r.Ac.syncEngine;r.sharedClientState instanceof bw&&(r.sharedClientState.syncEngine={Fr:FC.bind(null,o),$r:MA.bind(null,o),Br:xA.bind(null,o),vi:SA.bind(null,o),Mr:LC.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,Le.Z)(function*(d){yield function AA(n,e){return jw.apply(this,arguments)}(r.Ac.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}gc(e){const t=Cw();if(!bw.C(t))throw new Ze(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Mm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class f{initialize(e,t){var r=this;return(0,Le.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>OC(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=p0.bind(null,r.syncEngine),yield Nw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wC}createDatastore(e){const t=Gl(e.databaseInfo.databaseId),r=new gC(e.databaseInfo);return new yC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>OC(this.syncEngine,m,0),d=Iw.C()?new Iw:new ww,new vC(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,b,S){const N=new MC(r,o,u,d,m,b);return S&&(N.dc=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Le.Z)(function*(t){const r=gt(t);Xe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Sp(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _(n,e,t){if(!t)throw new Ze(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E(n,e,t,r){if(!0===e&&!0===r)throw new Ze(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function I(n){if(!mt.isDocumentKey(n))throw new Ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x(n){if(mt.isDocumentKey(n))throw new Ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function L(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Tt()}function B(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=L(n);throw new Ze(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function X(n,e){if(e<=0)throw new Ze(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const ge=new Map;class je{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,E("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class et{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new je({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new je(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new F_;switch(t.type){case"gapi":return new eb(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ge.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),ge.delete(e),t.terminate())}(this),Promise.resolve()}}class st{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ze(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}}class It{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new It(this.firestore,e,this._query)}}class ze extends It{constructor(e,t,r){super(e,t,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new mt(e))}withConverter(e){return new ze(this.firestore,e,this._path)}}function Kt(n,e,...t){if(n=(0,kn.m9)(n),_("collection","path",e),n instanceof et){const r=xn.fromString(e,...t);return x(r),new ze(n,null,r)}{if(!(n instanceof st||n instanceof ze))throw new Ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return x(r),new ze(n.firestore,null,r)}}function er(n,e,...t){if(n=(0,kn.m9)(n),1===arguments.length&&(e=j_.R()),_("doc","path",e),n instanceof et){const r=xn.fromString(e,...t);return I(r),new st(n,null,new mt(r))}{if(!(n instanceof st||n instanceof ze))throw new Ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return I(r),new st(n.firestore,n instanceof ze?n.converter:null,new mt(r))}}function ql(n,e){return n=(0,kn.m9)(n),e=(0,kn.m9)(e),(n instanceof st||n instanceof ze)&&(e instanceof st||e instanceof ze)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Pp(n,e){return n=(0,kn.m9)(n),e=(0,kn.m9)(e),n instanceof It&&e instanceof It&&n.firestore===e.firestore&&dm(n._query,e._query)&&n.converter===e.converter}function ny(n,e=10240){let t=0;return{read:()=>(0,Le.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Le.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Bh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class y0{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ai,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Le.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Le.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Le.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),o=Number(r);isNaN(o)&&e.Dc(`length string (${r}) is not valid number`);const u=yield e.Cc(o);return new IC(JSON.parse(u),t.length+o)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Le.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,Le.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Le.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class E0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Le.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ze(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Le.Z)(function*(u,d){const m=gt(u),b=gp(m.It)+"/documents",S={documents:d.map(Ie=>Ah(m.It,Ie))},N=yield m._o("BatchGetDocuments",b,S,d.length),j=new Map;N.forEach(Ie=>{const Fe=function Dv(n,e){return"found"in e?function(t,r){Wt(!!r.found);const o=Ja(t,r.found.name),u=wi(r.found.updateTime),d=new Ni({mapValue:{fields:r.found.fields}});return ir.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Wt(!!r.missing),Wt(!!r.readTime);const o=Ja(t,r.missing),u=wi(r.readTime);return ir.newNoDocument(o,u)}(n,e):Tt()}(m.It,Ie);j.set(Fe.key.toString(),Fe)});const oe=[];return d.forEach(Ie=>{const Fe=j.get(Ie.toString());Wt(!!Fe),oe.push(Fe)}),oe}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Le.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=mt.fromPath(o);e.mutations.push(new mv(u,e.precondition(u)))}),yield(r=(0,Le.Z)(function*(o,u){const d=gt(o),m=gp(d.It)+"/documents",b={writes:u.map(S=>$c(d.It,S))};yield d.ao("Commit",m,b)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tt();t=qt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ze(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(qt.min())?fr.exists(!1):fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qt.min()))throw new Ze(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class b0{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.kc=r.maxAttempts,this.xo=new Qv(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Le.Z)(function*(){const t=new E0(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Fc(u)}))}).catch(o=>{e.Fc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Tb(t)}return!1}}class NM{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=oi.UNAUTHENTICATED,this.clientId=j_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Le.Z)(function*(m){Xe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Xe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=rd(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function RA(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,Le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Le.Z)(function*(u){r.isEqual(u)||(yield pw(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),UC.apply(this,arguments)}function OA(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,Le.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jC(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Ow(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Ow(e.remoteStore,u)),n.onlineComponents=e}),BC.apply(this,arguments)}function jC(n){return HC.apply(this,arguments)}function HC(){return HC=(0,Le.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield RA(n,new a)),n.offlineComponents}),HC.apply(this,arguments)}function Kw(n){return $C.apply(this,arguments)}function $C(){return $C=(0,Le.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield OA(n,new f)),n.onlineComponents}),$C.apply(this,arguments)}function NA(n){return jC(n).then(e=>e.persistence)}function Zw(n){return jC(n).then(e=>e.localStore)}function GC(n){return Kw(n).then(e=>e.remoteStore)}function zC(n){return Kw(n).then(e=>e.syncEngine)}function ry(n){return WC.apply(this,arguments)}function WC(){return WC=(0,Le.Z)(function*(n){const e=yield Kw(n),t=e.eventManager;return t.onListen=xC.bind(null,e.syncEngine),t.onUnlisten=c0.bind(null,e.syncEngine),t}),WC.apply(this,arguments)}function PA(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(o,u,d,m,b){const S=new Bh({next:j=>{u.enqueueAndForget(()=>a0(o,N));const oe=j.docs.has(d);!oe&&j.fromCache?b.reject(new Ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):oe&&j.fromCache&&m&&"server"===m.source?b.reject(new Ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(j)},error:j=>b.reject(j)}),N=new l0(_h(d.path),S,{includeMetadataChanges:!0,Nu:!0});return zm(o,N)}(yield ry(n),n.asyncQueue,e,t,r)})),r.promise}function LA(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function(o,u,d,m,b){const S=new Bh({next:j=>{u.enqueueAndForget(()=>a0(o,N)),j.fromCache&&"server"===m.source?b.reject(new Ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(j)},error:j=>b.reject(j)}),N=new l0(d,S,{includeMetadataChanges:!0,Nu:!0});return zm(o,N)}(yield ry(n),n.asyncQueue,e,t,r)})),r.promise}class jM{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Qv(this,"async_queue_retry"),this.Wc=()=>{const t=km();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=km();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=km();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ai;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Le.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Ml(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,kr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const o=Gm.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.qc.push(o),o}zc(){this.Kc&&Tt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Le.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function qC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class HM{constructor(){this._progressObserver={},this._taskCompletionResolver=new ai,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ar extends et{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FA(this),this._firestoreClient.terminate()}}function li(n){return n._firestoreClient||FA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FA(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new am(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new NM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function VA(n,e,t){const r=new ai;return n.asyncQueue.enqueue((0,Le.Z)(function*(){try{yield RA(n,t),yield OA(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(d=u).name?d.code===Se.FAILED_PRECONDITION||d.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;Pc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var d})).then(()=>r.promise)}function UA(n){if(n._initialized||n._terminated)throw new Ze(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(ui.fromBase64String(e))}catch(t){throw new Ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class od{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lp{constructor(e){this._methodName=e}}class Yw{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const JM=/^__.*__$/;class XM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new up(e,this.data,t,this.fieldTransforms)}}class BA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Qw{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Qw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.ua(e),o}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.ia({path:r,oa:!1});return o.na(),o}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return eI(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(jA(this.sa)&&JM.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class ex{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Gl(e)}da(e,t,r,o=!1){return new Qw({sa:e,methodName:t,fa:r,path:Tr.emptyPath(),oa:!1,la:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fp(n){const e=n._freezeSettings(),t=Gl(n._databaseId);return new ex(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jw(n,e,t,r,o,u={}){const d=n.da(u.merge||u.mergeFields?2:0,e,t,o);QC("Data must be an object, but it was:",d,r);const m=GA(r,d);let b,S;if(u.merge)b=new Ws(d.fieldMask),S=d.fieldTransforms;else if(u.mergeFields){const N=[];for(const j of u.mergeFields){const oe=JC(e,j,t);if(!d.contains(oe))throw new Ze(Se.INVALID_ARGUMENT,`Field '${oe}' is specified in your field mask but missing from your input data.`);WA(N,oe)||N.push(oe)}b=new Ws(N),S=d.fieldTransforms.filter(j=>b.covers(j.field))}else b=null,S=d.fieldTransforms;return new XM(new Ni(m),b,S)}class w0 extends Lp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof w0}}function HA(n,e,t){return new Qw({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class KC extends Lp{_toFieldTransform(e){return new ip(e.path,new vh)}isEqual(e){return e instanceof KC}}class tx extends Lp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=HA(this,e,!0),r=this._a.map(u=>Vp(u,t)),o=new Ya(r);return new ip(e.path,o)}isEqual(e){return this===e}}class nx extends Lp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=HA(this,e,!0),r=this._a.map(u=>Vp(u,t)),o=new Fl(r);return new ip(e.path,o)}isEqual(e){return this===e}}class rx extends Lp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new Eh(e.It,bb(e.It,this.wa));return new ip(e.path,t)}isEqual(e){return this===e}}function ZC(n,e,t,r){const o=n.da(1,e,t);QC("Data must be an object, but it was:",o,r);const u=[],d=Ni.empty();Fc(r,(b,S)=>{const N=Xw(e,b,t);S=(0,kn.m9)(S);const j=o.ca(N);if(S instanceof w0)u.push(N);else{const oe=Vp(S,j);null!=oe&&(u.push(N),d.set(N,oe))}});const m=new Ws(u);return new BA(d,m,o.fieldTransforms)}function YC(n,e,t,r,o,u){const d=n.da(1,e,t),m=[JC(e,r,t)],b=[o];if(u.length%2!=0)throw new Ze(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let oe=0;oe<u.length;oe+=2)m.push(JC(e,u[oe])),b.push(u[oe+1]);const S=[],N=Ni.empty();for(let oe=m.length-1;oe>=0;--oe)if(!WA(S,m[oe])){const Ie=m[oe];let Fe=b[oe];Fe=(0,kn.m9)(Fe);const tt=d.ca(Ie);if(Fe instanceof w0)S.push(Ie);else{const ot=Vp(Fe,tt);null!=ot&&(S.push(Ie),N.set(Ie,ot))}}const j=new Ws(S);return new BA(N,j,d.fieldTransforms)}function $A(n,e,t,r=!1){return Vp(t,n.da(r?4:3,e))}function Vp(n,e){if(zA(n=(0,kn.m9)(n)))return QC("Unsupported field value:",e,n),GA(n,e);if(n instanceof Lp)return function(t,r){if(!jA(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Vp(d,r.aa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,kn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return bb(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=vr.fromDate(t);return{timestampValue:pp(r.It,o)}}if(t instanceof vr){const o=new vr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:pp(r.It,o)}}if(t instanceof Yw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kl)return{bytesValue:kb(r.It,t._byteString)};if(t instanceof st){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ev(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${L(t)}`)}(n,e)}function GA(n,e){const t={};return q_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fc(n,(r,o)=>{const u=Vp(o,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function zA(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof Yw||n instanceof Kl||n instanceof st||n instanceof Lp)}function QC(n,e,t){if(!zA(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=L(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function JC(n,e,t){if((e=(0,kn.m9)(e))instanceof od)return e._internalPath;if("string"==typeof e)return Xw(n,e);throw eI("Field path arguments must be of type string or ",n,!1,void 0,t)}const ix=new RegExp("[~\\*/\\[\\]]");function Xw(n,e,t){if(e.search(ix)>=0)throw eI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new od(...e.split("."))._internalPath}catch{throw eI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(u||d)&&(b+=" (found",u&&(b+=` in field ${r}`),d&&(b+=` in document ${o}`),b+=")"),new Ze(Se.INVALID_ARGUMENT,m+n+b)}function WA(n,e){return n.some(t=>t.isEqual(e))}class I0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sx extends I0{data(){return super.data()}}function tI(n,e){return"string"==typeof e?Xw(n,e):e instanceof od?e._internalPath:e._delegate._internalPath}function qA(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}function jh(n,...e){for(const t of e)n=t._apply(n);return n}class ox extends D0{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=Fp(e.firestore),r=function(o,u,d,m,b,S,N){let j;if(b.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){XA(N,S);const Ie=[];for(const Fe of N)Ie.push(JA(m,o,Fe));j={arrayValue:{values:Ie}}}else j=JA(m,o,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||XA(N,S),j=$A(d,"where",N,"in"===S||"not-in"===S);const oe=Ei.create(b,S,j);return function(Ie,Fe){if(Fe.dt()){const ot=Ll(Ie);if(null!==ot&&!ot.isEqual(Fe.field))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ot.toString()}' and '${Fe.field.toString()}'`);const ln=ov(Ie);null!==ln&&eS(0,Fe.field,ln)}const tt=function(ot,ln){for(const bn of ot.filters)if(ln.indexOf(bn.op)>=0)return bn.op;return null}(Ie,function(ot){switch(ot){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Fe.op));if(null!==tt)throw new Ze(Se.INVALID_ARGUMENT,tt===Fe.op?`Invalid query. You cannot use more than one '${Fe.op.toString()}' filter.`:`Invalid query. You cannot use '${Fe.op.toString()}' filters with '${tt.toString()}' filters.`)}(o,oe),oe}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new It(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new Pl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class ux extends D0{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new kl(o,u);return function(m,b){if(null===ov(m)){const S=Ll(m);null!==S&&eS(0,S,b.field)}}(r,d),d}(e._query,this.ma,this.pa);return new It(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Pl(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class KA extends D0{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new It(e.firestore,e.converter,hr(e._query,this.Ia,this.Ta))}}class ZA extends D0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=QA(e,this.type,this.Ea,this.Aa);return new It(e.firestore,e.converter,(o=t,new Pl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class YA extends D0{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=QA(e,this.type,this.Ea,this.Aa);return new It(e.firestore,e.converter,(o=t,new Pl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function QA(n,e,t,r){if(t[0]=(0,kn.m9)(t[0]),t[0]instanceof I0)return function(o,u,d,m,b){if(!m)throw new Ze(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const S=[];for(const N of Bu(o))if(N.field.isKeyField())S.push(Uc(u,m.key));else{const j=m.data.field(N.field);if(Y_(j))throw new Ze(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){const oe=N.field.canonicalString();throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${oe}' (used as the orderBy) does not exist.`)}S.push(j)}return new Hc(S,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Fp(n.firestore);return function(u,d,m,b,S,N){const j=u.explicitOrderBy;if(S.length>j.length)throw new Ze(Se.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const oe=[];for(let Ie=0;Ie<S.length;Ie++){const Fe=S[Ie];if(j[Ie].field.isKeyField()){if("string"!=typeof Fe)throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Fe}`);if(!av(u)&&-1!==Fe.indexOf("/"))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${Fe}' contains a slash.`);const tt=u.path.child(xn.fromString(Fe));if(!mt.isDocumentKey(tt))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${tt}' is not because it contains an odd number of segments.`);const ot=new mt(tt);oe.push(Uc(d,ot))}else{const tt=$A(m,b,Fe);oe.push(tt)}}return new Hc(oe,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function JA(n,e,t){if("string"==typeof(t=(0,kn.m9)(t))){if(""===t)throw new Ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!av(e)&&-1!==t.indexOf("/"))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xn.fromString(t));if(!mt.isDocumentKey(r))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uc(n,new mt(r))}if(t instanceof st)return Uc(n,t._key);throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${L(t)}.`)}function XA(n,e){if(!Array.isArray(n)||0===n.length)throw new Ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ze(Se.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eS(n,e,t){if(!t.isEqual(e))throw new Ze(Se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class XC{convertValue(e,t="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tt()}}convertObject(e,t){const r={};return Fc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Yw(Pr(e.latitude),Pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Q_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const t=_o(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xn.fromString(e);Wt(xv(r));const o=new Ol(r.get(1),r.get(3)),u=new mt(r.popFirst(5));return o.isEqual(t)||kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function nI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class mx extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}}class Up{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ad extends I0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new C0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class C0 extends ad{data(e={}){return super.data(e)}}class Hh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Up(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new C0(this._firestore,this._userDataWriter,r.key,r,new Up(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new C0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Up(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new C0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Up(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,S=-1;return 0!==d.type&&(b=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),S=u.indexOf(d.doc.key)),{type:yx(d.type),doc:m,oldIndex:b,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function yx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}function tS(n,e){return n instanceof ad&&e instanceof ad?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hh&&e instanceof Hh&&n._firestore===e._firestore&&Pp(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class $h extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,t)}}function nS(n,e,t){n=B(n,st);const r=B(n.firestore,Ar),o=nI(n.converter,e,t);return iy(r,[Jw(Fp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,fr.none())])}function rS(n,e,t,...r){n=B(n,st);const o=B(n.firestore,Ar),u=Fp(o);let d;return d="string"==typeof(e=(0,kn.m9)(e))||e instanceof od?YC(u,"updateDoc",n._key,e,t,r):ZC(u,"updateDoc",n._key,e),iy(o,[d.toMutation(n._key,fr.exists(!0))])}function iS(n,...e){var t,r,o;n=(0,kn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||qC(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(qC(e[d])){const j=e[d];e[d]=null===(t=j.next)||void 0===t?void 0:t.bind(j),e[d+1]=null===(r=j.error)||void 0===r?void 0:r.bind(j),e[d+2]=null===(o=j.complete)||void 0===o?void 0:o.bind(j)}let b,S,N;if(n instanceof st)S=B(n.firestore,Ar),N=_h(n._key.path),b={next:j=>{e[d]&&e[d](eT(S,n,j))},error:e[d+1],complete:e[d+2]};else{const j=B(n,It);S=B(j.firestore,Ar),N=j._query;const oe=new $h(S);b={next:Ie=>{e[d]&&e[d](new Hh(S,oe,j,Ie))},error:e[d+1],complete:e[d+2]},qA(n._query)}return function(j,oe,Ie,Fe){const tt=new Bh(Fe),ot=new l0(oe,tt,Ie);return j.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return zm(yield ry(j),ot)})),()=>{tt.bc(),j.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return a0(yield ry(j),ot)}))}}(li(S),N,m,b)}function iy(n,e){return function(t,r){const o=new ai;return t.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function RC(n,e,t){return Np.apply(this,arguments)}(yield zC(t),r,o)})),o.promise}(li(n),e)}function eT(n,e,t){const r=t.docs.get(e._key),o=new $h(n);return new ad(n,o,e._key,r,new Up(t.hasPendingWrites,t.fromCache),e.converter)}const Ax={maxAttempts:5};class sS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fp(e)}set(e,t,r){this._verifyNotCommitted();const o=Gh(e,this._firestore),u=nI(o.converter,t,r),d=Jw(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,fr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Gh(e,this._firestore);let d;return d="string"==typeof(t=(0,kn.m9)(t))||t instanceof od?YC(this._dataReader,"WriteBatch.update",u._key,t,r,o):ZC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gh(e,this._firestore);return this._mutations=this._mutations.concat(new Ih(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ze(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gh(n,e){if((n=(0,kn.m9)(n)).firestore!==e)throw new Ze(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Sx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fp(e)}get(e){const t=Gh(e,this._firestore),r=new mx(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Tt();const u=o[0];if(u.isFoundDocument())return new I0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new I0(this._firestore,r,t._key,null,t.converter);throw Tt()})}set(e,t,r){const o=Gh(e,this._firestore),u=nI(o.converter,t,r),d=Jw(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Gh(e,this._firestore);let d;return d="string"==typeof(t=(0,kn.m9)(t))||t instanceof od?YC(this._dataReader,"Transaction.update",u._key,t,r,o):ZC(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Gh(e,this._firestore),r=new $h(this._firestore);return super.get(e).then(o=>new ad(this._firestore,r,t._key,o._document,new Up(!1,!1),t.converter))}}function tT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ze("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function aS(){if(typeof Uint8Array>"u")throw new Ze("unimplemented","Uint8Arrays are not available in this environment.")}function uS(){if(!function ID(){return typeof atob<"u"}())throw new Ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){kc=Ru.SDK_VERSION,(0,Ru._registerComponent)(new If.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Ar(new XE(t.getProvider("auth-internal")),new B_(t.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(m.options.projectId,b)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Ru.registerVersion)(L_,"3.7.2",n),(0,Ru.registerVersion)(L_,"3.7.2","esm2017")}();class T0{constructor(e){this._delegate=e}static fromBase64String(e){return uS(),new T0(Kl.fromBase64String(e))}static fromUint8Array(e){return aS(),new T0(Kl.fromUint8Array(e))}toBase64(){return uS(),this._delegate.toBase64()}toUint8Array(){return aS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nT(n){return function Fx(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Vx{enableIndexedDbPersistence(e,t){return function GM(n,e){UA(n=B(n,Ar));const t=li(n),r=n._freezeSettings(),o=new f;return VA(t,o,new l(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zM(n){UA(n=B(n,Ar));const e=li(n),t=n._freezeSettings(),r=new f;return VA(e,r,new c(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function WM(n){if(n._initialized&&!n._terminated)throw new Ze(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ai;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{yield(t=(0,Le.Z)(function*(r){if(!yo.C())return Promise.resolve();const o=r+"main";yield yo.delete(o)}),function(r){return t.apply(this,arguments)})(Mm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ft(n,e,t,r={}){var o;const u=(n=B(n,et))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Pc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=oi.MOCK_USER;else{d=(0,kn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ze(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new oi(b)}n._authCredentials=new JE(new nm(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function KM(n){return function kM(n){return n.asyncQueue.enqueue((0,Le.Z)(function*(){const e=yield NA(n),t=yield GC(n);return e.setNetworkEnabled(!0),function(r){const o=gt(r);return o._u.delete(0),Vh(o)}(t)}))}(li(n=B(n,Ar)))}(this._delegate)}disableNetwork(){return function ZM(n){return function PM(n){return n.asyncQueue.enqueue((0,Le.Z)(function*(){const e=yield NA(n),t=yield GC(n);return e.setNetworkEnabled(!1),(r=(0,Le.Z)(function*(o){const u=gt(o);u._u.add(0),yield Sp(u),u.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(li(n=B(n,Ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,E("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qM(n){return function(e){const t=new ai;return e.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return function kC(n,e){return h0.apply(this,arguments)}(yield zC(e),t)})),t.promise}(li(n=B(n,Ar)))}(this._delegate)}onSnapshotsInSync(e){return function Tx(n,e){return function VM(n,e){const t=new Bh(e);return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return r=yield ry(n),o=t,gt(r).Ru.add(o),void o.next();var r,o})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return r=yield ry(n),o=t,void gt(r).Ru.delete(o);var r,o}))}}(li(n=B(n,Ar)),qC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sy(this,Kt(this._delegate,e))}catch(t){throw Zs(t,"collection()","Firestore.collection()")}}doc(e){try{return new tu(this,er(this._delegate,e))}catch(t){throw Zs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function jn(n,e){if(n=B(n,et),_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ze(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(n,null,(t=e,new Pl(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Zs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mx(n,e,t){n=B(n,Ar);const r=Object.assign(Object.assign({},Ax),t);return function(o){if(o.maxAttempts<1)throw new Ze(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new ai;return o.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){const b=yield function kA(n){return Kw(n).then(e=>e.datastore)}(o);new b0(o.asyncQueue,b,d,u,m).run()})),m.promise}(li(n),o=>e(new Sx(n,o)),r)}(this._delegate,t=>e(new cS(this,t)))}batch(){return li(this._delegate),new dS(new sS(this._delegate,e=>iy(this._delegate,e)))}loadBundle(e){return function YM(n,e){const t=li(n=B(n,Ar)),r=new HM;return function UM(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,b=function(b,S){if(b instanceof Uint8Array)return ny(b,S);if(b instanceof ArrayBuffer)return ny(new Uint8Array(b),S);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new y0(b,d);var b}(t,Gl(e));n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){!function s(n,e,t){const r=gt(n);var o;(o=(0,Le.Z)(function*(u,d,m){try{const b=yield d.getMetadata();if(yield function(oe,Ie){const Fe=gt(oe),tt=wi(Ie.createTime);return Fe.persistence.runTransaction("hasNewerBundle","readonly",ot=>Fe.Ns.getBundleMetadata(ot,Ie.id)).then(ot=>!!ot&&ot.createTime.compareTo(tt)>=0)}(u.localStore,b))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(oe=b).totalDocuments,bytesLoaded:oe.totalBytes,totalDocuments:oe.totalDocuments,totalBytes:oe.totalBytes}),Promise.resolve(new Set);m._updateProgress(DC(b));const S=new IA(b,u.localStore,d.It);let N=yield d.mc();for(;N;){const oe=yield S.Fu(N);oe&&m._updateProgress(oe),N=yield d.mc()}const j=yield S.complete();return yield Wl(u,j.Lu,void 0),yield function(oe,Ie){const Fe=gt(oe);return Fe.persistence.runTransaction("Save bundle","readwrite",tt=>Fe.Ns.saveBundleMetadata(tt,Ie))}(u.localStore,b),m._completeWith(j.progress),Promise.resolve(j.Bu)}catch(b){return Pc("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var oe}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield zC(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function QM(n,e){return function BM(n,e){return n.asyncQueue.enqueue((0,Le.Z)(function*(){return function(t,r){const o=gt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield Zw(n),e)}))}(li(n=B(n,Ar)),e).then(t=>t?new It(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class rI extends XC{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new Kl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tu.forKey(t,this.firestore,null)}}class cS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}get(e){const t=jp(e);return this._delegate.get(t).then(r=>new A0(this._firestore,new ad(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=jp(e);return r?(tT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}}class dS{constructor(e){this._delegate=e}set(e,t,r){const o=jp(e);return r?(tT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=jp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=jp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new C0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Bp(e,new rI(e),t),o.set(t,u)),u}}Bp.INSTANCES=new WeakMap;class tu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new tu(t,new st(t._delegate,r,new mt(e)))}static forKey(e,t,r){return new tu(t,new st(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sy(this.firestore,Kt(this._delegate,e))}catch(t){throw Zs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,kn.m9)(e))instanceof st&&ql(this._delegate,e)}set(e,t){t=tT("DocumentReference.set",t);try{return t?nS(this._delegate,e,t):nS(this._delegate,e)}catch(r){throw Zs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?rS(this._delegate,e):rS(this._delegate,e,t,...r)}catch(o){throw Zs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Dx(n){return iy(B(n.firestore,Ar),[new Ih(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=hS(e),r=fS(e,o=>new A0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return iS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function vx(n){n=B(n,st);const e=B(n.firestore,Ar),t=li(e),r=new $h(e);return function LM(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(r=(0,Le.Z)(function*(o,u,d){try{const m=yield function(b,S){const N=gt(b);return N.persistence.runTransaction("read document","readonly",j=>N.localDocuments.getDocument(j,S))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ze(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=rd(m,`Failed to get document '${u} from cache`);d.reject(b)}}),function(o,u,d){return r.apply(this,arguments)})(yield Zw(n),e,t);var r})),t.promise}(t,n._key).then(o=>new ad(e,r,n._key,o,new Up(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Ex(n){n=B(n,st);const e=B(n.firestore,Ar);return PA(li(e),n._key,{source:"server"}).then(t=>eT(e,n,t))}(this._delegate):function _x(n){n=B(n,st);const e=B(n.firestore,Ar);return PA(li(e),n._key).then(t=>eT(e,n,t))}(this._delegate),t.then(r=>new A0(this.firestore,new ad(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new tu(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function Zs(n,e,t){return n.message=n.message.replace(e,t),n}function hS(n){for(const e of n)if("object"==typeof e&&!nT(e))return e;return{}}function fS(n,e){var t,r;let o;return o=nT(n[0])?n[0]:nT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class A0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tS(this._delegate,e._delegate)}}class S0 extends A0{data(e){const t=this._delegate.data(e);return function vD(n,e){n||Tt()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rI(e)}where(e,t,r){try{return new Ys(this.firestore,jh(this._delegate,function ax(n,e,t){const r=e,o=tI("where",n);return new ox(o,r,t)}(e,t,r)))}catch(o){throw Zs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,jh(this._delegate,function lx(n,e="asc"){const t=e,r=tI("orderBy",n);return new ux(r,t)}(e,t)))}catch(r){throw Zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,jh(this._delegate,function cx(n){return X("limit",n),new KA("limit",n,"F")}(e)))}catch(t){throw Zs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,jh(this._delegate,function dx(n){return X("limitToLast",n),new KA("limitToLast",n,"L")}(e)))}catch(t){throw Zs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,jh(this._delegate,function hx(...n){return new ZA("startAt",n,!0)}(...e)))}catch(t){throw Zs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,jh(this._delegate,function fx(...n){return new ZA("startAfter",n,!1)}(...e)))}catch(t){throw Zs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,jh(this._delegate,function px(...n){return new YA("endBefore",n,!1)}(...e)))}catch(t){throw Zs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,jh(this._delegate,function gx(...n){return new YA("endAt",n,!0)}(...e)))}catch(t){throw Zs(t,"endAt()","Query.endAt()")}}isEqual(e){return Pp(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function wx(n){n=B(n,It);const e=B(n.firestore,Ar),t=li(e),r=new $h(e);return function FM(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((0,Le.Z)(function*(){return(r=(0,Le.Z)(function*(o,u,d){try{const m=yield Kv(o,u,!0),b=new AC(u,m.Hi),S=b.Wu(m.documents),N=b.applyChanges(S,!1);d.resolve(N.snapshot)}catch(m){const b=rd(m,`Failed to execute query '${u} against cache`);d.reject(b)}}),function(o,u,d){return r.apply(this,arguments)})(yield Zw(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Hh(e,r,n,o))}(this._delegate):"server"===e?.source?function Ix(n){n=B(n,It);const e=B(n.firestore,Ar),t=li(e),r=new $h(e);return LA(t,n._query,{source:"server"}).then(o=>new Hh(e,r,n,o))}(this._delegate):function bx(n){n=B(n,It);const e=B(n.firestore,Ar),t=li(e),r=new $h(e);return qA(n._query),LA(t,n._query).then(o=>new Hh(e,r,n,o))}(this._delegate),t.then(r=>new rT(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=hS(e),r=fS(e,o=>new rT(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return iS(this._delegate,t,r)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}class Bx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new S0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class rT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new S0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Bx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new S0(this._firestore,r))})}isEqual(e){return tS(this._delegate,e._delegate)}}class sy extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tu(this.firestore,e):null}doc(e){try{return new tu(this.firestore,void 0===e?er(this._delegate):er(this._delegate,e))}catch(t){throw Zs(t,"doc()","CollectionReference.doc()")}}add(e){return function Cx(n,e){const t=B(n.firestore,Ar),r=er(n),o=nI(n.converter,e);return iy(t,[Jw(Fp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new tu(this.firestore,t))}isEqual(e){return ql(this._delegate,e._delegate)}withConverter(e){return new sy(this.firestore,this._delegate.withConverter(e?Bp.getInstance(this.firestore,e):null))}}function jp(n){return B(n,st)}class iT{constructor(...e){this._delegate=new od(...e)}static documentId(){return new iT(Tr.keyField().canonicalString())}isEqual(e){return(e=(0,kn.m9)(e))instanceof od&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Rx(){return new KC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function xx(){return new w0("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function Ox(...n){return new tx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function Nx(...n){return new nx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function kx(n){return new rx("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jx={Firestore:lS,GeoPoint:Yw,Timestamp:vr,Blob:T0,Transaction:cS,WriteBatch:dS,DocumentReference:tu,DocumentSnapshot:A0,Query:Ys,QueryDocumentSnapshot:S0,QuerySnapshot:rT,CollectionReference:sy,FieldPath:iT,FieldValue:Hp,setLogLevel:function Ux(n){!function _D(n){Vu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function $x(n){(function Hx(n,e){n.INTERNAL.registerComponent(new If.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},jx)))})(n,(e,t)=>new lS(e,t,new Vx)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(dE.Z);var sT=k(6451),iI=k(5363),pS=k(4782);function gS(n,e){return(0,zr.m)(e)?(0,yn.w)(()=>n,e):(0,yn.w)(()=>n)}var oT=k(9468);k(5867);const yS=new Map,Kx={activated:!1,tokenObservers:[]},Zx={initialized:!1,enabled:!1};function Qi(n){return yS.get(n)||Kx}function nu(n,e){yS.set(n,e)}function oI(){return Zx}class eR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Le.Z)(function*(){t.stop();try{t.pending=new kn.BH,yield function tR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new kn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qs=new kn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vS(n){if(!Qi(n).activated)throw Qs.create("use-before-activation",{appName:n.name})}function cT(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Le.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const Ie=yield d.getHeartbeatsHeader();Ie&&(u["X-Firebase-Client"]=Ie)}const m={method:"POST",body:JSON.stringify(e),headers:u};let b,S;try{b=yield fetch(n,m)}catch(Ie){throw Qs.create("fetch-network-error",{originalErrorMessage:null===(r=Ie)||void 0===r?void 0:r.message})}if(200!==b.status)throw Qs.create("fetch-status-error",{httpStatus:b.status});try{S=yield b.json()}catch(Ie){throw Qs.create("fetch-parse-error",{originalErrorMessage:null===(o=Ie)||void 0===o?void 0:o.message})}const N=S.ttl.match(/^([\d.]+)(s)$/);if(!N||!N[2]||isNaN(Number(N[1])))throw Qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${S.ttl}`});const j=1e3*Number(N[1]),oe=Date.now();return{token:S.token,expireTimeMillis:oe+j,issuedAtTimeMillis:oe}}),dT.apply(this,arguments)}function sR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const M0="firebase-app-check-store";let lI=null;function bS(){return lI||(lI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(Qs.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(M0,{keyPath:"compositeKey"})}}catch(r){e(Qs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),lI)}function hT(){return hT=(0,Le.Z)(function*(n,e){const r=(yield bS()).transaction(M0,"readwrite"),u=r.objectStore(M0).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=b=>{d()},r.onerror=b=>{var S;m(Qs.create("storage-set",{originalErrorMessage:null===(S=b.target.error)||void 0===S?void 0:S.message}))}})}),hT.apply(this,arguments)}const x0=new Ic.Yd("@firebase/app-check");function gT(n,e){return(0,kn.hl)()?function lR(n,e){return function wS(n,e){return hT.apply(this,arguments)}(function DS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{x0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function CS(){return oI().enabled}function TS(){return yT.apply(this,arguments)}function yT(){return yT=(0,Le.Z)(function*(){const n=oI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),yT.apply(this,arguments)}const gR={error:"UNKNOWN_ERROR"};function mR(n){return kn.US.encodeString(JSON.stringify(n),!1)}function cI(n){return _T.apply(this,arguments)}function _T(){return _T=(0,Le.Z)(function*(n,e=!1){const t=n.app;vS(t);const r=Qi(t);let u,o=r.token;if(o&&!oy(o)&&(nu(t,Object.assign(Object.assign({},r),{token:void 0})),o=void 0),!o){const b=yield r.cachedTokenPromise;b&&(oy(b)?o=b:yield gT(t,void 0))}if(!e&&o&&oy(o))return{token:o.token};let m,d=!1;if(CS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cT(sR(t,yield TS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const b=yield r.exchangeTokenPromise;return yield gT(t,b),nu(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?x0.warn(b.message):x0.error(b),u=b}return o?u?m=oy(o)?{token:o.token,internalError:u}:MS(u):(m={token:o.token},nu(t,Object.assign(Object.assign({},r),{token:o})),yield gT(t,o)):m=MS(u),d&&SS(t,m),m}),_T.apply(this,arguments)}function ET(n,e){const t=Qi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),nu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function AS(n){const{app:e}=n,t=Qi(e);let r=t.tokenRefresher;r||(r=function yR(n){const{app:e}=n;return new eR((0,Le.Z)(function*(){let r;if(r=Qi(e).token?yield cI(n,!0):yield cI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Qi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),nu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function SS(n,e){const t=Qi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function oy(n){return n.expireTimeMillis-Date.now()>0}function MS(n){return{token:mR(gR),error:n}}class _R{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Qi(this.app);for(const t of e)ET(this.app,t.next);return Promise.resolve()}}const FS="app-check-internal";!function OR(){(0,Ru._registerComponent)(new If.wA("app-check",n=>function vR(n,e){return new _R(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FS).initialize()})),(0,Ru._registerComponent)(new If.wA(FS,n=>function ER(n){return{getToken:e=>cI(n,e),addTokenListener:e=>function vT(n,e,t,r){const{app:o}=n,u=Qi(o),d={next:t,error:r,type:e};if(nu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&oy(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),AS(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>AS(n))}(n,"INTERNAL",e),removeTokenListener:e=>ET(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ru.registerVersion)("@firebase/app-check","0.5.16")}();class DT{constructor(){return(0,si.vb)("app-check")}}typeof window<"u"&&window;var FR=k(127);const US=new g.OlP("angularfire2.auth.use-emulator"),BS=new g.OlP("angularfire2.auth.settings"),jS=new g.OlP("angularfire2.auth.tenant-id"),HS=new g.OlP("angularfire2.auth.langugage-code"),$S=new g.OlP("angularfire2.auth.use-device-language"),GS=new g.OlP("angularfire.auth.persistence"),zS=(n,e,t,r,o,u,d,m)=>(0,Yo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,u&&b.useDeviceLanguage(),d)for(const[S,N]of Object.entries(d))b.settings[S]=N;return m&&b.setPersistence(m),b},[t,r,o,u,d,m]);let WS=(()=>{class n{constructor(t,r,o,u,d,m,b,S,N,j,oe,Ie){const Fe=new Mt.x,tt=(0,Ae.of)(void 0).pipe((0,iI.Q)(d.outsideAngular),(0,yn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1277)))),(0,Ct.U)(()=>(0,Yo.on)(t,u,r)),(0,Ct.U)(ot=>zS(ot,u,m,S,N,j,b,oe)),(0,pS.d)({bufferSize:1,refCount:!1}));if((0,w.PM)(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{tt.pipe(zn()).subscribe();const ln=tt.pipe((0,yn.w)(pn=>pn.getRedirectResult().then(hn=>hn,()=>null)),si.iC,(0,pS.d)({bufferSize:1,refCount:!1})),bn=tt.pipe((0,yn.w)(pn=>new or.y(hn=>({unsubscribe:u.runOutsideAngular(()=>pn.onAuthStateChanged(In=>hn.next(In),In=>hn.error(In),()=>hn.complete()))})))),wn=tt.pipe((0,yn.w)(pn=>new or.y(hn=>({unsubscribe:u.runOutsideAngular(()=>pn.onIdTokenChanged(In=>hn.next(In),In=>hn.error(In),()=>hn.complete()))}))));this.authState=ln.pipe(gS(bn),(0,oT.R)(d.outsideAngular),(0,iI.Q)(d.insideAngular)),this.user=ln.pipe(gS(wn),(0,oT.R)(d.outsideAngular),(0,iI.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,yn.w)(pn=>pn?(0,qe.D)(pn.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,yn.w)(pn=>pn?(0,qe.D)(pn.getIdTokenResult()):(0,Ae.of)(null))),this.credential=(0,sT.T)(ln,Fe,this.authState.pipe((0,dn.h)(pn=>!pn))).pipe((0,Ct.U)(pn=>pn?.user?pn:null),(0,oT.R)(d.outsideAngular),(0,iI.Q)(d.insideAngular))}return(0,Yo.pX)(this,tt,u,{spy:{apply:(ot,ln,bn)=>{(ot.startsWith("signIn")||ot.startsWith("createUser"))&&bn.then(wn=>Fe.next(wn))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Yo.Dh),g.LFG(Yo.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(si.HU),g.LFG(US,8),g.LFG(BS,8),g.LFG(jS,8),g.LFG(HS,8),g.LFG($S,8),g.LFG(GS,8),g.LFG(DT,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function qS(n,e){return function UR(n,e=wf.z){return new or.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function TT(n,e){return qS(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function hI(n,e){return TT(n,e).pipe(xs(void 0),wc(),(0,Ct.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const b=o.find(N=>N.doc.ref.isEqual(d.ref)),S=t?.payload.docs.find(N=>N.ref.isEqual(d.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(d.metadata)||!b&&S&&JSON.stringify(S.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function KS(n,e,t){return hI(n,t).pipe(Zn((r,o)=>function jR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function HR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return AT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return AT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function lE(n,e=ci.y){return n=n??cE,(0,Kn.e)((t,r)=>{let o,u=!0;t.subscribe((0,tr.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,Ct.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function AT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function ZS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class YS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=hI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(xs(void 0),wc(),(0,dn.h)(([r,o])=>o.length>0||!r),(0,Ct.U)(([r,o])=>o),si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZS(e);return KS(this.query,t,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return TT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),si.iC)}get(e){return(0,qe.D)(this.query.get(e)).pipe(si.iC)}add(e){return this.ref.add(e)}doc(e){return new QS(this.ref.doc(e),this.afs)}}class QS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=eM(r,t);return new YS(o,u,this.afs)}snapshotChanges(){return function BR(n,e){return qS(n,e).pipe(xs(void 0),wc(),(0,Ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,qe.D)(this.ref.get(e)).pipe(si.iC)}}class $R{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,dn.h)(t=>t.length>0),si.iC):hI(this.query,this.afs.schedulers.outsideAngular).pipe(si.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zn((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ZS(e);return KS(this.query,t,this.afs.schedulers.outsideAngular).pipe(si.iC)}valueChanges(e={}){return TT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),si.iC)}get(e){return(0,qe.D)(this.query.get(e)).pipe(si.iC)}}const JS=new g.OlP("angularfire2.enableFirestorePersistence"),XS=new g.OlP("angularfire2.firestore.persistenceSettings"),GR=new g.OlP("angularfire2.firestore.settings"),zR=new g.OlP("angularfire2.firestore.use-emulator");function eM(n,e=(t=>t)){return{query:e(n),ref:n}}let ST=(()=>{class n{constructor(t,r,o,u,d,m,b,S,N,j,oe,Ie,Fe,tt,ot,ln,bn){this.schedulers=b;const wn=(0,Yo.on)(t,m,r),pn=N;j&&zS(wn,m,oe,Fe,tt,ot,Ie,ln),[this.firestore,this.persistenceEnabled$]=(0,Yo.cc)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const hn=m.runOutsideAngular(()=>wn.firestore());if(u&&hn.settings(u),pn&&hn.useEmulator(...pn),o&&!(0,w.PM)(d)){const In=()=>{try{return(0,qe.D)(hn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Li){return typeof console<"u"&&console.warn(Li),(0,Ae.of)(!1)}};return[hn,m.runOutsideAngular(In)]}return[hn,(0,Ae.of)(!1)]},[u,pn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=eM(o,r),m=this.schedulers.ngZone.run(()=>u);return new YS(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new $R(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new QS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Yo.Dh),g.LFG(Yo.xv,8),g.LFG(JS,8),g.LFG(GR,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(si.HU),g.LFG(XS,8),g.LFG(zR,8),g.LFG(WS,8),g.LFG(US,8),g.LFG(BS,8),g.LFG(jS,8),g.LFG(HS,8),g.LFG($S,8),g.LFG(GS,8),g.LFG(DT,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),WR=(()=>{class n{constructor(){FR.Z.registerVersion("angularfire",si.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:JS,useValue:!0},{provide:XS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ST]}),n})();function fI(n){return(0,dn.h)((e,t)=>n<=t)}var qR=k(4707);class KR extends Mt.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:o,thrownError:u,isStopped:d,_isComplete:m}=this;t?e.error(u):(d||m)&&(r&&e.next(o),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}var ZR=k(5191);class QR{}const JR={oneTapEnabled:!0};let R0=(()=>{class n extends class YR{constructor(){}loadScript(e,t,r,o=null){if(typeof document<"u"&&!document.getElementById(e)){let u=document.createElement("script");u.async=!0,u.src=t,u.onload=r,o||(o=document.head),o.appendChild(u)}}}{constructor(t,r){super(),this.clientId=t,this.initOptions=r,this.changeUser=new g.vpe,this._socialUser=new Tn(null),this._accessToken=new Tn(null),this._receivedAccessToken=new g.vpe,this.initOptions={...JR,...this.initOptions},this._socialUser.pipe(fI(1)).subscribe(this.changeUser),this._accessToken.pipe(fI(1)).subscribe(this._receivedAccessToken)}initialize(t){return new Promise((r,o)=>{try{this.loadScript(n.PROVIDER_ID,"https://accounts.google.com/gsi/client",()=>{if(google.accounts.id.initialize({client_id:this.clientId,auto_select:t,callback:({credential:u})=>{const d=this.createSocialUser(u);this._socialUser.next(d)},prompt_parent_id:this.initOptions?.prompt_parent_id,itp_support:this.initOptions.oneTapEnabled}),this.initOptions.oneTapEnabled&&this._socialUser.pipe((0,dn.h)(u=>null===u)).subscribe(()=>google.accounts.id.prompt(console.debug)),this.initOptions.scopes){const u=this.initOptions.scopes instanceof Array?this.initOptions.scopes.filter(d=>d).join(" "):this.initOptions.scopes;this._tokenClient=google.accounts.oauth2.initTokenClient({client_id:this.clientId,scope:u,prompt:this.initOptions.prompt,callback:d=>{d.error?this._accessToken.error({code:d.error,description:d.error_description,uri:d.error_uri}):this._accessToken.next(d.access_token)}})}r()})}catch(u){o(u)}})}getLoginStatus(){return new Promise((t,r)=>{this._socialUser.value?t(this._socialUser.value):r(`No user is currently logged in with ${n.PROVIDER_ID}`)})}refreshToken(){return new Promise((t,r)=>{google.accounts.id.revoke(this._socialUser.value.id,o=>{o.error?r(o.error):t(this._socialUser.value)})})}getAccessToken(){return new Promise((t,r)=>{this._tokenClient?(this._tokenClient.requestAccessToken({hint:this._socialUser.value?.email}),this._receivedAccessToken.pipe((0,_n.q)(1)).subscribe(t)):r(this._socialUser.value?"No token client was instantiated, you should specify some scopes.":"You should be logged-in first.")})}revokeAccessToken(){return new Promise((t,r)=>{this._tokenClient?this._accessToken.value?google.accounts.oauth2.revoke(this._accessToken.value,()=>{this._accessToken.next(null),t()}):r("No access token to revoke"):r("No token client was instantiated, you should specify some scopes.")})}signIn(){return Promise.reject('You should not call this method directly for Google, use "<asl-google-signin-button>" wrapper or generate the button yourself with "google.accounts.id.renderButton()" (https://developers.google.com/identity/gsi/web/guides/display-button#javascript)')}signOut(){var t=this;return(0,Le.Z)(function*(){google.accounts.id.disableAutoSelect(),t._socialUser.next(null)})()}createSocialUser(t){const r=new QR;r.idToken=t;const o=this.decodeJwt(t);return r.id=o.sub,r.name=o.name,r.email=o.email,r.photoUrl=o.picture,r.firstName=o.given_name,r.lastName=o.family_name,r}decodeJwt(t){const o=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),u=decodeURIComponent(window.atob(o).split("").map(function(d){return"%"+("00"+d.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(u)}}return n.PROVIDER_ID="GOOGLE",n})(),pI=(()=>{class n{constructor(t,r,o){this._ngZone=r,this._injector=o,this.providers=new Map,this.autoLogin=!1,this._user=null,this._authState=new qR.t(1),this.initialized=!1,this._initState=new KR,t instanceof Promise?t.then(u=>{this.initialize(u)}):this.initialize(t)}get authState(){return this._authState.asObservable()}get initState(){return this._initState.asObservable()}initialize(t){this.autoLogin=void 0!==t.autoLogin&&t.autoLogin;const{onError:r=console.error}=t;t.providers.forEach(o=>{this.providers.set(o.id,"prototype"in o.provider?this._injector.get(o.provider):o.provider)}),Promise.all(Array.from(this.providers.values()).map(o=>o.initialize(this.autoLogin))).then(()=>{if(this.autoLogin){const o=[];let u=!1;this.providers.forEach((d,m)=>{const b=d.getLoginStatus();o.push(b),b.then(S=>{this.setUser(S,m),u=!0}).catch(console.debug)}),Promise.all(o).catch(()=>{u||(this._user=null,this._authState.next(null))})}this.providers.forEach((o,u)=>{(0,ZR.b)(o.changeUser)&&o.changeUser.subscribe(d=>{this._ngZone.run(()=>{this.setUser(d,u)})})})}).catch(o=>{r(o)}).finally(()=>{this.initialized=!0,this._initState.next(this.initialized),this._initState.complete()})}getAccessToken(t){var r=this;return(0,Le.Z)(function*(){const o=r.providers.get(t);if(!r.initialized)throw n.ERR_NOT_INITIALIZED;if(!o)throw n.ERR_LOGIN_PROVIDER_NOT_FOUND;if(!(o instanceof R0))throw n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN;return yield o.getAccessToken()})()}refreshAuthToken(t){return new Promise((r,o)=>{if(this.initialized){const u=this.providers.get(t);u?"function"!=typeof u.refreshToken?o(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN):u.refreshToken().then(d=>{this.setUser(d,t),r()}).catch(d=>{o(d)}):o(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(n.ERR_NOT_INITIALIZED)})}refreshAccessToken(t){return new Promise((r,o)=>{if(this.initialized)if(t!==R0.PROVIDER_ID)o(n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN);else{const u=this.providers.get(t);u instanceof R0?u.revokeAccessToken().then(r).catch(o):o(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(n.ERR_NOT_INITIALIZED)})}signIn(t,r){return new Promise((o,u)=>{if(this.initialized){let d=this.providers.get(t);d?d.signIn(r).then(m=>{this.setUser(m,t),o(m)}).catch(m=>{u(m)}):u(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else u(n.ERR_NOT_INITIALIZED)})}signOut(t=!1){return new Promise((r,o)=>{if(this.initialized)if(this._user){let d=this.providers.get(this._user.provider);d?d.signOut(t).then(()=>{r(),this.setUser(null)}).catch(m=>{o(m)}):o(n.ERR_LOGIN_PROVIDER_NOT_FOUND)}else o(n.ERR_NOT_LOGGED_IN);else o(n.ERR_NOT_INITIALIZED)})}setUser(t,r){t&&r&&(t.provider=r),this._user=t,this._authState.next(t)}}return n.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",n.ERR_NOT_LOGGED_IN="Not logged in",n.ERR_NOT_INITIALIZED="Login providers not ready yet. Are there errors on your console?",n.ERR_NOT_SUPPORTED_FOR_REFRESH_TOKEN="Chosen login provider is not supported for refreshing a token",n.ERR_NOT_SUPPORTED_FOR_ACCESS_TOKEN="Chosen login provider is not supported for getting an access token",n.\u0275fac=function(t){return new(t||n)(g.LFG("SocialAuthServiceConfig"),g.LFG(g.R0b),g.LFG(g.zs3))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XR=(()=>{class n{constructor(t,r){this.type="icon",this.size="medium",this.text="signin_with",this.shape="rectangular",this.theme="outline",this.logo_alignment="left",this.width="",this.locale="",r.initState.pipe((0,_n.q)(1)).subscribe(()=>{Promise.resolve(this.width).then(o=>{o>"400"||o<"200"&&""!=o?Promise.reject("Please note .. max-width 400 , min-width 200 (https://developers.google.com/identity/gsi/web/tools/configurator)"):google.accounts.id.renderButton(t.nativeElement,{type:this.type,size:this.size,text:this.text,width:this.width,shape:this.shape,theme:this.theme,logo_alignment:this.logo_alignment,locale:this.locale})})})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.SBq),g.Y36(pI))},n.\u0275dir=g.lG2({type:n,selectors:[["asl-google-signin-button"]],inputs:{type:"type",size:"size",text:"text",shape:"shape",theme:"theme",logo_alignment:"logo_alignment",width:"width",locale:"locale"}}),n})(),eO=(()=>{class n{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:n,providers:[pI,{provide:"SocialAuthServiceConfig",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(n,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[pI],imports:[w.ez]}),n})(),MT=(()=>{class n{constructor(){}set(t,r){try{localStorage.setItem(t,JSON.stringify(r))}catch(o){console.log(o)}}get(t){try{return localStorage.getItem(t)}catch(r){return console.log(r),null}}remove(t){try{localStorage.removeItem(t)}catch(r){console.log(r)}}clear(){try{localStorage.clear()}catch(t){console.log(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gI=(()=>{class n{constructor(t,r,o,u){this.authService=t,this.router=r,this.db=o,this.local=u,this.checked=!1,this.dbPath="/users",this.authService.authState.subscribe(d=>{this.user=d,this.loggedIn=null!=d,this.loggedIn?(this.local.remove("user"),this.local.set("user",d),this.originalPath?(this.router.navigate([this.originalPath]),this.originalPath=""):this.router.navigate([""])):this.router.navigate(["/login"])})}isAuth(){return this.loggedIn}refreshToken(){return(0,Le.Z)(function*(){})()}signOut(){var t=this;return(0,Le.Z)(function*(){return yield t.authService.signOut()})()}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(pI),g.LFG(jr),g.LFG(ST),g.LFG(MT))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xT=(()=>{class n{constructor(t,r){this.db=t,this.user=r,this.dbPath="/notes",this.notes=[],this.notesRef=t.collection(this.user.user.id),this.notesRef.get().subscribe(o=>{this.notes=o.docs.map(d=>({id:d.id,...d.data()}))})}createNote(t){var r=this;return(0,Le.Z)(function*(){try{let o=r.user.user.id,{id:u,...d}=t,m=yield r.db.collection(o).add({...d});t.id=m.id,r.notes.push(t)}catch(o){console.error(o)}})()}createNoteWithKey(t,r){return this.notesRef.doc(t).set(r,{merge:!0})}removeNote(t){let r=this.notes.filter(o=>o.id!=t);return this.notes=r,this.notesRef.doc(t).delete()}getNotes(){return this.notes}updateNote(t){let r,o;return this.notes.forEach(u=>{if(u.id==t.id){u.title=t.title,u.description=t.description;let{id:d,...m}=t;r=d,o=m}}),r?this.notesRef.doc(r).update(o):Promise.resolve()}customQuery(){this.notesRef.ref.where("title","==","Hello").get().then(r=>{r.forEach(o=>{console.log(o.id," => ",o.data())})}).catch(r=>{console.log("Error getting documents: ",r)})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ST),g.LFG(gI))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tO=(()=>{class n{constructor(){this.note={id:-1,title:"",description:""},this.editNote=new g.vpe,this.removeNote=new g.vpe}ngOnInit(){console.log("NGONINIT")}ngAfterContentInit(){console.log("NGAFTERCONTENTINIT")}editNoteFn(){-1!=this.note.id&&this.editNote.emit(this.note)}removeNoteFn(){-1!=this.note.id&&this.removeNote.emit(this.note)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-note"]],inputs:{note:"note"},outputs:{editNote:"editNote",removeNote:"removeNote"},decls:25,vars:2,consts:[[1,"list"],["scope","col",1,"ttl"],["scope","col",1,"desc"],["scope","col",1,"del"],["scope","col",1,"edit"],["type","button",1,"btn","btn-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"],["type","button",1,"btn","btn-terciary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-fill"],["d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"]],template:function(t,r){1&t&&(g.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),g._uU(4,"Titulo"),g.qZA(),g.TgZ(5,"th",2),g._uU(6,"Descripcion"),g.qZA(),g.TgZ(7,"th",3),g._uU(8,"Borrar"),g.qZA(),g.TgZ(9,"th",4),g._uU(10,"Editar"),g.qZA()()(),g.TgZ(11,"tbody")(12,"tr")(13,"td"),g._uU(14),g.qZA(),g.TgZ(15,"td"),g._uU(16),g.qZA(),g.TgZ(17,"td")(18,"button",5),g.NdJ("click",function(){return r.removeNoteFn()}),g.O4$(),g.TgZ(19,"svg",6),g._UZ(20,"path",7),g.qZA()()(),g.kcU(),g.TgZ(21,"td")(22,"button",8),g.NdJ("click",function(){return r.editNoteFn()}),g.O4$(),g.TgZ(23,"svg",9),g._UZ(24,"path",10),g.qZA()()()()()()),2&t&&(g.xp6(14),g.Oqu(r.note.title),g.xp6(2),g.Oqu(r.note.description))},styles:[".table[_ngcontent-%COMP%]{font-size:16px;background-color:#add8e6;width:75%;margin-left:12%}.ttl[_ngcontent-%COMP%]{width:7%}.desc[_ngcontent-%COMP%]{width:8%}.del[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%]{width:2%}"]}),n})();function nO(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"app-note",12),g.NdJ("editNote",function(){const u=g.CHM(t).$implicit,d=g.oxw();return g.KtG(d.editingNote(u))})("removeNote",function(){const u=g.CHM(t).$implicit,d=g.oxw();return g.KtG(d.removingNote(u))}),g.qZA()}2&n&&g.Q6J("note",e.$implicit)}let rO=(()=>{class n{constructor(t){this.notesS=t}ngOnInit(){}removingNote(t){console.log("Elminando Nota"),this.notesS.removeNote(t.id)}editingNote(t){console.log("Editando Nota"),this._editingNote=t,console.log(this._editingNote),document.getElementById("launchModal")?.click()}trackByNotes(t,r){return r.id}updateNote(t){console.log(t),this.notesS.updateNote(t),document.getElementById("closeModal")?.click()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(xT))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-notes"]],standalone:!0,features:[g.jDz],decls:16,vars:3,consts:[["appHighlight","",3,"note","editNote","removeNote",4,"ngFor","ngForOf","ngForTrackBy"],["id","launchModal","type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-primary",2,"display","none"],["id","editModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","closeModal","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"note","onsubmit"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],["appHighlight","",3,"note","editNote","removeNote"]],template:function(t,r){1&t&&(g.YNc(0,nO,1,1,"app-note",0),g.TgZ(1,"button",1),g._uU(2," Hidden "),g.qZA(),g.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6)(8,"b"),g._uU(9,"Edit Note "),g.qZA()(),g._UZ(10,"button",7),g.qZA(),g.TgZ(11,"div",8)(12,"app-form-note",9),g.NdJ("onsubmit",function(u){return r.updateNote(u)}),g.qZA()(),g.TgZ(13,"div",10)(14,"button",11),g._uU(15,"Close "),g.qZA()()()()()),2&t&&(g.Q6J("ngForOf",r.notesS.getNotes())("ngForTrackBy",r.trackByNotes),g.xp6(12),g.Q6J("note",r._editingNote))},dependencies:[w.ez,w.sg,Yy,Cg,tO,Tg,Xy,El.aw]}),n})();const iO=function(){return{id:0,description:"",title:""}};let sO=(()=>{class n{constructor(t){this.noteS=t}ngOnInit(){}addNote(t){this.noteS.createNote(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(xT))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-new"]],standalone:!0,features:[g.jDz],decls:1,vars:2,consts:[[3,"note","onsubmit"]],template:function(t,r){1&t&&(g.TgZ(0,"app-form-note",0),g.NdJ("onsubmit",function(u){return r.addNote(u)}),g.qZA()),2&t&&g.Q6J("note",g.DdM(1,iO))},dependencies:[w.ez,Xy]}),n})(),oO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[g.jDz],decls:2,vars:0,consts:[[1,"container"],["type","standard","locale","es","text","signin_with","size","medium"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0),g._UZ(1,"asl-google-signin-button",1),g.qZA())},dependencies:[w.ez,eO,XR],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;text-align:center}"]}),n})(),aO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-error404"]],standalone:!0,features:[g.jDz],decls:2,vars:0,template:function(t,r){1&t&&(g.TgZ(0,"p"),g._uU(1,"error404 works!"),g.qZA())},dependencies:[w.ez]}),n})(),RT=(()=>{class n{constructor(t,r,o){this.router=t,this.loginS=r,this.localS=o}canActivate(t,r){let o=!1,u=JSON.parse(this.localS.get("user"));null!=u&&(this.loginS.user=u,setTimeout(()=>{this.loginS.refreshToken()},2e3),o=!0);let d=!1;return o?"login"==t.url[0].toString()?this.router.navigate([""]):d=!0:"login"!=t.url[0].toString()?(this.loginS.originalPath=t.url[0].toString(),this.router.navigate(["/login"])):d=!0,d}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(jr),g.LFG(gI),g.LFG(MT))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uO=[{path:"home",component:rO,canActivate:[RT]},{path:"new",component:sO,canActivate:[RT]},{path:"about",loadComponent:()=>k.e(794).then(k.bind(k,3794)).then(n=>n.AboutComponent)},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",component:oO,canActivate:[RT]},{path:"**",component:aO}];let lO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[rg.forRoot(uO),rg]}),n})(),cO=(()=>{class n{constructor(t){this.renderer=t.createRenderer(null,null)}initTheme(){this.getColorTheme(),this.renderer.addClass(document.body,this.colorTheme)}update(t){this.setColorTheme(t),this.renderer.removeClass(document.body,"dark-mode"===t?"light-mode":"dark-mode"),this.renderer.addClass(document.body,t)}isDarkMode(){return"dark-mode"===this.colorTheme}setColorTheme(t){this.colorTheme=t,localStorage.setItem("user-theme",t)}getColorTheme(){this.colorTheme=localStorage.getItem("user-theme")?localStorage.getItem("user-theme"):"light-mode"}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.FYo))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dO(n,e){if(1&n){const t=g.EpF();g.TgZ(0,"li",12)(1,"a",13),g._uU(2," Cuenta "),g.qZA(),g.TgZ(3,"ul",14)(4,"li")(5,"span",15),g._uU(6),g.qZA()(),g.TgZ(7,"li")(8,"span",15),g._uU(9),g.qZA()(),g.TgZ(10,"li"),g._UZ(11,"hr",16),g.qZA(),g.TgZ(12,"li")(13,"a",17),g.NdJ("click",function(){g.CHM(t);const o=g.oxw();return g.KtG(o.logout())}),g._uU(14,"Cerrar Sesion "),g.qZA()()()()}if(2&n){const t=g.oxw();g.xp6(6),g.Oqu(t.loginS.user.name),g.xp6(3),g.Oqu(t.loginS.user.email)}}let tM=(()=>{class n{constructor(t,r,o){this.loginS=t,this.localS=r,this.translate=o,this.bool=!1}ngOnInit(){}logout(){this.localS.remove("user"),this.loginS.signOut()}ctheme(){var t=document.body;this.bool?(t.className="light-mode",this.bool=!1):(t.className="dark-mode",this.bool=!0)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(gI),g.Y36(MT),g.Y36(El.sK))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-navbar"]],standalone:!0,features:[g.jDz],decls:17,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-light"],[1,"container-fluid",2,"background-color","inherit"],["routerLink","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["aria-current","page","routerLink","/",1,"nav-link","active"],["routerLink","/new",1,"nav-link"],["routerLink","/about",1,"nav-link"],["id","theme-white-ctheme",1,"nav-link",2,"cursor","pointer",3,"click"],["class","nav-item dropdown",4,"ngIf"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],[2,"padding","10px"],[1,"dropdown-divider"],["href","#",1,"dropdown-item",3,"click"]],template:function(t,r){1&t&&(g.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),g._uU(3,"Depresa"),g.qZA(),g.TgZ(4,"button",3),g._UZ(5,"span",4),g.qZA(),g.TgZ(6,"div",5)(7,"div",6)(8,"a",7),g._uU(9,"Inicio"),g.qZA(),g.TgZ(10,"a",8),g._uU(11,"Nueva "),g.qZA(),g.TgZ(12,"a",9),g._uU(13,"Acerca de"),g.qZA(),g.TgZ(14,"a",10),g.NdJ("click",function(){return r.ctheme()}),g._uU(15,"Cambiar tema"),g.qZA(),g.YNc(16,dO,15,2,"li",11),g.qZA()()()()),2&t&&(g.xp6(16),g.Q6J("ngIf",r.loginS.user))},dependencies:[w.ez,w.O5,rg,Ed,El.aw],styles:[".btn[_ngcontent-%COMP%]{width:4%}"]}),n})(),hO=(()=>{class n{constructor(t,r){this.themeService=t,this.translate=r,this.title="ProyectoDepresa",this.translate.addLangs(["es","en"]),localStorage.getItem("language")&&(r.setDefaultLang(localStorage.getItem("language")),r.use(localStorage.getItem("language"))),this.themeService.initTheme(),this.isDarkMode=this.themeService.isDarkMode()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(cO),g.Y36(El.sK))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&g._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[hd,tM]}),n})(),fO=(()=>{class n{constructor(){this.clase="btn btn-primary",this.texto="Bot\xf3n",this.action=new g.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-button"]],inputs:{clase:"clase",texto:"texto"},outputs:{action:"action"},standalone:!0,features:[g.jDz],decls:2,vars:3,consts:[["type","button",3,"click"]],template:function(t,r){1&t&&(g.TgZ(0,"button",0),g.NdJ("click",function(){return r.action.emit()}),g._uU(1),g.qZA()),2&t&&(g.Tol(r.clase),g.xp6(1),g.Oqu(r.texto))},dependencies:[w.ez]}),n})();const OT_firebaseConfig={apiKey:"AIzaSyBszWy1UtqmzYoK2OnBohtH9PTOIvSdfJA",authDomain:"proyectodepresa-40bf2.firebaseapp.com",projectId:"proyectodepresa-40bf2",storageBucket:"proyectodepresa-40bf2.appspot.com",messagingSenderId:"972392582120",appId:"1:972392582120:web:9899eb6d23e24ada9eb25d",measurementId:"G-VL4SYDVK2F"};var pO=k(1144);const gO=["addListener","removeListener"],mO=["addEventListener","removeEventListener"],yO=["on","off"];function mI(n,e,t,r){if((0,zr.m)(t)&&(r=t,t=void 0),r)return mI(n,e,t).pipe((0,Ss.Z)(r));const[o,u]=function EO(n){return(0,zr.m)(n.addEventListener)&&(0,zr.m)(n.removeEventListener)}(n)?mO.map(d=>m=>n[d](e,m,t)):function _O(n){return(0,zr.m)(n.addListener)&&(0,zr.m)(n.removeListener)}(n)?gO.map(nM(n,e)):function vO(n){return(0,zr.m)(n.on)&&(0,zr.m)(n.off)}(n)?yO.map(nM(n,e)):[];if(!o&&(0,pO.z)(n))return(0,Rn.z)(d=>mI(d,e,t))((0,ca.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new or.y(d=>{const m=(...b)=>d.next(1<b.length?b:b[0]);return o(m),()=>u(m)})}function nM(n,e){return t=>r=>n[t](e,r)}var NT=k(5032);const zh=new or.y(NT.Z),wO={connector:()=>new Mt.x};function rM(n,e=wO){const{connector:t}=e;return(0,Kn.e)((r,o)=>{const u=t();(0,ca.Xf)(n(function bO(n){return new or.y(e=>n.subscribe(e))}(u))).subscribe(o),o.add(r.subscribe(u))})}function iM(n,e){return e?t=>(0,ei.z)(e.pipe((0,_n.q)(1),function CO(){return(0,Kn.e)((n,e)=>{n.subscribe((0,tr.x)(e,NT.Z))})}()),t.pipe(iM(n))):(0,Rn.z)((t,r)=>n(t,r).pipe((0,_n.q)(1),Yl(t)))}var TO=k(3532);const O0="Service workers are disabled or not supported by this browser";class yI{constructor(e){if(this.serviceWorker=e,e){const r=mI(e,"controllerchange").pipe((0,Ct.U)(()=>e.controller)),o=(0,ur.P)(()=>(0,Ae.of)(e.controller)),u=(0,ei.z)(o,r);this.worker=u.pipe((0,dn.h)(N=>!!N)),this.registration=this.worker.pipe((0,yn.w)(()=>e.getRegistration()));const S=mI(e,"message").pipe((0,Ct.U)(N=>N.data)).pipe((0,dn.h)(N=>N&&N.type)).pipe(function DO(n){return n?e=>rM(n)(e):e=>function IO(n,e){const t=(0,zr.m)(n)?n:()=>n;return(0,zr.m)(e)?rM(e,{connector:t}):r=>new es(r,t)}(new Mt.x)(e)}());S.connect(),this.events=S}else this.worker=this.events=this.registration=function xO(n){return(0,ur.P)(()=>mn(new Error(n)))}(O0)}postMessage(e,t){return this.worker.pipe((0,_n.q)(1),(0,pr.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),u=this.postMessage(e,t);return Promise.all([u,o]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe((0,dn.h)(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,_n.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,dn.h)(t=>t.nonce===e),(0,_n.q)(1),(0,Ct.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let RO=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Mt.x,!t.isEnabled)return this.messages=zh,this.notificationClicks=zh,void(this.subscription=zh);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ct.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ct.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,Ct.U)(o=>o.pushManager));const r=this.pushManager.pipe((0,yn.w)(o=>o.getSubscription()));this.subscription=(0,sT.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(O0));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(o.length));for(let d=0;d<o.length;d++)u[d]=o.charCodeAt(d);return r.applicationServerKey=u,this.pushManager.pipe((0,yn.w)(d=>d.subscribe(r)),(0,_n.q)(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,_n.q)(1),(0,yn.w)(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(O0))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(yI))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),OO=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=zh,this.available=zh,this.activated=zh,void(this.unrecoverable=zh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,dn.h)(r=>"VERSION_READY"===r.type),(0,Ct.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(O0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(O0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(yI))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class kT{}const sM=new g.OlP("NGSW_REGISTER_SCRIPT");function NO(n,e,t,r){return()=>{if(!(0,w.NF)(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[d,...m]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":o=(0,Ae.of)(null);break;case"registerWithDelay":o=oM(+m[0]||0);break;case"registerWhenStable":o=m[0]?(0,sT.T)(aM(n),oM(+m[0])):aM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(g.R0b).runOutsideAngular(()=>o.pipe((0,_n.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function oM(n){return(0,Ae.of)(null).pipe(function MO(n,e=wf.z){const t=function SO(n=0,e,t=wf.P){let r=-1;return null!=e&&((0,TO.K)(e)?t=e:r=e),new or.y(o=>{let u=function AO(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){o.closed||(o.next(d++),0<=r?this.schedule(void 0,r):o.complete())},u)})}(n,e);return iM(()=>t)}(n))}function aM(n){return n.get(g.z2F).isStable.pipe((0,dn.h)(t=>t))}function kO(n,e){return new yI((0,w.NF)(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let PO=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:sM,useValue:t},{provide:kT,useValue:r},{provide:yI,useFactory:kO,deps:[kT,g.Lbi]},{provide:g.ip1,useFactory:NO,deps:[g.zs3,sM,kT,g.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[RO,OO]}),n})();function lM(n){return Array.isArray(n)?n:[n]}let PT,dM=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[dM]}),n})();try{PT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PT=!1}let k0=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,w.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fM(n){return(0,Kn.e)((e,t)=>{(0,ca.Xf)(n).subscribe((0,tr.x)(t,()=>t.complete(),NT.Z)),!t.closed&&e.subscribe(t)})}const pM=new Set;let ly,ZO=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):QO}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function YO(n){if(!pM.has(n))try{ly||(ly=document.createElement("style"),ly.setAttribute("type","text/css"),document.head.appendChild(ly)),ly.sheet&&(ly.sheet.insertRule(`@media ${n} {body{ }}`,0),pM.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(k0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QO(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let JO=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Mt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return gM(lM(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let u=di(gM(lM(t)).map(d=>this._registerQuery(d).observable));return u=(0,ei.z)(u.pipe((0,_n.q)(1)),u.pipe(fI(1),function cM(n,e=wf.z){return(0,Kn.e)((t,r)=>{let o=null,u=null,d=null;const m=()=>{if(o){o.unsubscribe(),o=null;const S=u;u=null,r.next(S)}};function b(){const S=d+n,N=e.now();if(N<S)return o=this.schedule(void 0,S-N),void r.add(o);m()}t.subscribe((0,tr.x)(r,S=>{u=S,d=e.now(),o||(o=e.schedule(b,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{u=o=null}))})}(0))),u.pipe((0,Ct.U)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:b,query:S})=>{m.matches=m.matches||b,m.breakpoints[S]=b}),m}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),u={observable:new or.y(d=>{const m=b=>this._zone.run(()=>d.next(b));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(xs(r),(0,Ct.U)(({matches:d})=>({query:t,matches:d})),fM(this._destroySubject)),mql:r};return this._queries.set(t,u),u}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ZO),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gM(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const wM="cdk-high-contrast-black-on-white",IM="cdk-high-contrast-white-on-black",VT="cdk-high-contrast-active";let hN=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,g.f3M)(JO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(VT,wM,IM),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(VT,wM):2===r&&t.add(VT,IM)}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(k0),g.LFG(w.K0))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();const mN=new g.OlP("mat-sanity-checks",{providedIn:"root",factory:function gN(){return!0}});let dy=(()=>{class n{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function $O(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(hN),g.LFG(mN,8),g.LFG(w.K0))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[DM,DM]}),n})(),SN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[dy,dy]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),jN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[xM,SN,dy,UO,xM,dy]}),n})(),HN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[dy,dy]}),n})();var RM=k(529);let $N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[hO]}),n.\u0275inj=g.cJS({providers:[xT,{provide:"SocialAuthServiceConfig",useValue:{autoLogin:!0,providers:[{id:R0.PROVIDER_ID,provider:new R0("880970582454-qa99b3q72535r2kqais33v3ps06hba8l.apps.googleusercontent.com")}],onError:e=>{console.error(e)}}},gI],imports:[Ji,Yy,jN,lO,fO,HN,tM,RM.JF,Yo.hO.initializeApp(OT_firebaseConfig),WR.enablePersistence(),RM.JF,El.aw.forRoot({}),PO.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),n})();(0,g.G48)(),$r().bootstrapModule($N).catch(n=>console.error(n))},5867:(yt,De,k)=>{k.d(De,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=k(9681);(0,w.registerVersion)("firebase","9.13.0","app")},127:(yt,De,k)=>{k.d(De,{Z:()=>w.Z});var w=k(3942);w.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(yt,De,k)=>{k.r(De);var w=k(5861),g=k(3942),U=k(2090),se=k(9681),ne=k(1877),de=k(655),le=k(4859);const xe=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},lt=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new ne.Yd("@firebase/auth");function vt(y,...h){ht.logLevel<=ne.in.ERROR&&ht.error(`Auth (${se.SDK_VERSION}): ${y}`,...h)}function $e(y,...h){throw rt(y,...h)}function ke(y,...h){return rt(y,...h)}function Ue(y,h,p){const v=Object.assign(Object.assign({},lt()),{[h]:p});return new U.LL("auth","Firebase",v).create(h,{appName:y.name})}function nt(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&$e(y,"argument-error"),Ue(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return Te.create(y,...h)}function q(y,h,...p){if(!y)throw rt(h,...p)}function _e(y){const h="INTERNAL ASSERTION FAILED: "+y;throw vt(h),new Error(h)}function ee(y,h){y||_e(h)}const ue=new Map;function ye(y){ee(y instanceof Function,"Expected a class definition");let h=ue.get(y);return h?(ee(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,ue.set(y,h),h)}function he(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Ye(){return"http:"===Q()||"https:"===Q()}function Q(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class pt{constructor(h,p){this.shortDelay=h,this.longDelay=p,ee(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function Oe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ye()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(y,h){ee(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Zt{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hn=new pt(3e4,6e4);function Ut(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Mn(y,h,p,v){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(y,h,p,v,R={}){return Hr(y,R,(0,w.Z)(function*(){let V={},re={};v&&("GET"===h?re=v:V={body:JSON.stringify(v)});const Me=(0,U.xO)(Object.assign({key:y.config.apiKey},re)).slice(1),it=yield y._getAdditionalHeaders();return it["Content-Type"]="application/json",y.languageCode&&(it["X-Firebase-Locale"]=y.languageCode),Zt.fetch()(Ur(y,y.config.apiHost,p,Me),Object.assign({method:h,headers:it,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Hr(y,h,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,w.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Jt),h);try{const R=new Mr(y),V=yield Promise.race([p(),R.promise]);R.clearNetworkTimeout();const re=yield V.json();if("needConfirmation"in re)throw $r(y,"account-exists-with-different-credential",re);if(V.ok&&!("errorMessage"in re))return re;{const Me=V.ok?re.errorMessage:re.error.message,[it,wt]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===it)throw $r(y,"credential-already-in-use",re);if("EMAIL_EXISTS"===it)throw $r(y,"email-already-in-use",re);if("USER_DISABLED"===it)throw $r(y,"user-disabled",re);const Lt=v[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Ue(y,Lt,wt);$e(y,Lt)}}catch(R){if(R instanceof U.ZR)throw R;$e(y,"network-request-failed")}})).apply(this,arguments)}function Sr(y,h,p,v){return Di.apply(this,arguments)}function Di(){return(Di=(0,w.Z)(function*(y,h,p,v,R={}){const V=yield Mn(y,h,p,v,R);return"mfaPendingCredential"in V&&$e(y,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function Ur(y,h,p,v){const R=`${h}${p}?${v}`;return y.config.emulator?Ot(y.config,R):`${y.config.apiScheme}://${R}`}class Mr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(ke(this.auth,"network-request-failed")),Hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $r(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const R=ke(y,h,v);return R.customData._tokenResponse=p,R}function _t(){return(_t=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function br(y,h){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function sr(y,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Vi(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Y(){return(Y=(0,w.Z)(function*(y,h=!1){const p=(0,U.m9)(y),v=yield p.getIdToken(h),R=Ce(v);q(R&&R.exp&&R.auth_time&&R.iat,p.auth,"internal-error");const V="object"==typeof R.firebase?R.firebase:void 0,re=V?.sign_in_provider;return{claims:R,token:v,authTime:Vi(G(R.auth_time)),issuedAtTime:Vi(G(R.iat)),expirationTime:Vi(G(R.exp)),signInProvider:re||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function G(y){return 1e3*Number(y)}function Ce(y){var h;const[p,v,R]=y.split(".");if(void 0===p||void 0===v||void 0===R)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,U.tV)(v);return V?JSON.parse(V):(vt("Failed to decode base64 JWT payload"),null)}catch(V){return vt("Caught error parsing JWT payload as JSON",null===(h=V)||void 0===h?void 0:h.toString()),null}}function Dt(y,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,w.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof U.ZR&&fn(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function fn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class at{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const R=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,w.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,w.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null===(p=v)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Pn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rn(y){return wr.apply(this,arguments)}function wr(){return(wr=(0,w.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),R=yield Dt(y,sr(p,{idToken:v}));q(R?.users.length,p,"internal-error");const V=R.users[0];y._notifyReloadListener(V);const re=null!==(h=V.providerUserInfo)&&void 0!==h&&h.length?Et(V.providerUserInfo):[],Me=cn(y.providerData,re),Lt=!!y.isAnonymous&&!(y.email&&V.passwordHash||Me?.length),St={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:Me,metadata:new Pn(V.createdAt,V.lastLoginAt),isAnonymous:Lt};Object.assign(y,St)})).apply(this,arguments)}function en(){return(en=(0,w.Z)(function*(y){const h=(0,U.m9)(y);yield rn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function cn(y,h){return[...y.filter(v=>!h.some(R=>R.providerId===v.providerId)),...h]}function Et(y){return y.map(h=>{var{providerId:p}=h,v=(0,de._T)(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function ut(){return(ut=(0,w.Z)(function*(y,h){const p=yield Hr(y,{},(0,w.Z)(function*(){const v=(0,U.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:R,apiKey:V}=y.config,re=Ur(y,R,"/v1/token",`key=${V}`),Me=yield y._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(re,{method:"POST",headers:Me,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){q(h.idToken,"internal-error"),q(typeof h.idToken<"u","internal-error"),q(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Ve(y){const h=Ce(y);return q(h,"internal-error"),q(typeof h.exp<"u","internal-error"),q(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,w.Z)(function*(){return q(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,w.Z)(function*(){const{accessToken:R,refreshToken:V,expiresIn:re}=yield function We(y,h){return ut.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(R,V,Number(re))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:R,expirationTime:V}=p,re=new Ft;return v&&(q("string"==typeof v,"internal-error",{appName:h}),re.refreshToken=v),R&&(q("string"==typeof R,"internal-error",{appName:h}),re.accessToken=R),V&&(q("number"==typeof V,"internal-error",{appName:h}),re.expirationTime=V),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Bt(y,h){q("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class Yt{constructor(h){var{uid:p,auth:v,stsTokenManager:R}=h,V=(0,de._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new at(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Pn(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,w.Z)(function*(){const v=yield Dt(p,p.stsTokenManager.getToken(p.auth,h));return q(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function Pe(y){return Y.apply(this,arguments)}(this,h)}reload(){return function Xt(y){return en.apply(this,arguments)}(this)}_assign(h){this!==h&&(q(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Yt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,w.Z)(function*(){let R=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),R=!0),p&&(yield rn(v)),yield v.auth._persistUserIfCurrent(v),R&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,w.Z)(function*(){const p=yield h.getIdToken();return yield Dt(h,function Fi(y,h){return _t.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,R,V,re,Me,it,wt,Lt;const St=null!==(v=p.displayName)&&void 0!==v?v:void 0,mr=null!==(R=p.email)&&void 0!==R?R:void 0,_i=null!==(V=p.phoneNumber)&&void 0!==V?V:void 0,cf=null!==(re=p.photoURL)&&void 0!==re?re:void 0,df=null!==(Me=p.tenantId)&&void 0!==Me?Me:void 0,za=null!==(it=p._redirectEventId)&&void 0!==it?it:void 0,Cy=null!==(wt=p.createdAt)&&void 0!==wt?wt:void 0,Ty=null!==(Lt=p.lastLoginAt)&&void 0!==Lt?Lt:void 0,{uid:hf,emailVerified:Ay,isAnonymous:mg,providerData:ff,stsTokenManager:yg}=p;q(hf&&yg,h,"internal-error");const pf=Ft.fromJSON(this.name,yg);q("string"==typeof hf,h,"internal-error"),Bt(St,h.name),Bt(mr,h.name),q("boolean"==typeof Ay,h,"internal-error"),q("boolean"==typeof mg,h,"internal-error"),Bt(_i,h.name),Bt(cf,h.name),Bt(df,h.name),Bt(za,h.name),Bt(Cy,h.name),Bt(Ty,h.name);const bc=new Yt({uid:hf,auth:h,email:mr,emailVerified:Ay,displayName:St,isAnonymous:mg,photoURL:cf,phoneNumber:_i,tenantId:df,stsTokenManager:pf,createdAt:Cy,lastLoginAt:Ty});return ff&&Array.isArray(ff)&&(bc.providerData=ff.map(Sy=>Object.assign({},Sy))),za&&(bc._redirectEventId=za),bc}static _fromIdTokenResponse(h,p,v=!1){return(0,w.Z)(function*(){const R=new Ft;R.updateFromServerResponse(p);const V=new Yt({uid:p.localId,auth:h,stsTokenManager:R,isAnonymous:v});return yield rn(V),V})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(p,v){var R=this;return(0,w.Z)(function*(){R.storage[p]=v})()}_get(p){var v=this;return(0,w.Z)(function*(){const R=v.storage[p];return void 0===R?null:R})()}_remove(p){var v=this;return(0,w.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function ie(y,h,p){return`firebase:${y}:${h}:${p}`}class He{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:R,name:V}=this.auth;this.fullUserKey=ie(this.userKey,R.apiKey,V),this.fullPersistenceKey=ie("persistence",R.apiKey,V),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,w.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Yt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,w.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,w.Z)(function*(){if(!p.length)return new He(ye(z),h,v);const R=(yield Promise.all(p.map(function(){var wt=(0,w.Z)(function*(Lt){if(yield Lt._isAvailable())return Lt});return function(Lt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let V=R[0]||ye(z);const re=ie(v,h.config.apiKey,h.name);let Me=null;for(const wt of p)try{const Lt=yield wt._get(re);if(Lt){const St=Yt._fromJSON(h,Lt);wt!==V&&(Me=St),V=wt;break}}catch{}const it=R.filter(wt=>wt._shouldAllowMigration);return V._shouldAllowMigration&&it.length?(V=it[0],Me&&(yield V._set(re,Me.toJSON())),yield Promise.all(p.map(function(){var wt=(0,w.Z)(function*(Lt){if(Lt!==V)try{yield Lt._remove(re)}catch{}});return function(Lt){return wt.apply(this,arguments)}}())),new He(V,h,v)):new He(V,h,v)})()}}function ce(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ln(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(dt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(qe(h))return"Blackberry";if(Ae(h))return"Webos";if(At(h))return"Safari";if((h.includes("chrome/")||Dn(h))&&!h.includes("edge/"))return"Chrome";if(gn(h))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function dt(y=(0,U.z$)()){return/firefox\//i.test(y)}function At(y=(0,U.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Dn(y=(0,U.z$)()){return/crios\//i.test(y)}function Ln(y=(0,U.z$)()){return/iemobile/i.test(y)}function gn(y=(0,U.z$)()){return/android/i.test(y)}function qe(y=(0,U.z$)()){return/blackberry/i.test(y)}function Ae(y=(0,U.z$)()){return/webos/i.test(y)}function Mt(y=(0,U.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function or(y=(0,U.z$)()){return Mt(y)||gn(y)||Ae(y)||qe(y)||/windows phone/i.test(y)||Ln(y)}function ci(y,h=[]){let p;switch(y){case"Browser":p=ce((0,U.z$)());break;case"Worker":p=`${ce((0,U.z$)())}-${y}`;break;default:p=y}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${se.SDK_VERSION}/${v}`}class Ss{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const v=V=>new Promise((re,Me)=>{try{re(h(V))}catch(it){Me(it)}});v.onAbort=p,this.queue.push(v);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,w.Z)(function*(){var v;if(p.auth.currentUser===h)return;const R=[];try{for(const V of p.queue)yield V(h),V.onAbort&&R.push(V.onAbort)}catch(V){R.reverse();for(const re of R)try{re()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=V)||void 0===v?void 0:v.message})}})()}}class Qt{constructor(h,p,v){this.app=h,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tr(this),this.idTokenSubscription=new tr(this),this.beforeStateQueue=new Ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=ye(p)),this._initializationPromise=this.queue((0,w.Z)(function*(){var R,V;if(!v._deleted&&(v.persistenceManager=yield He.create(v,h),!v._deleted)){if(null!==(R=v._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(V=v.currentUser)||void 0===V?void 0:V.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,w.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,w.Z)(function*(){var v;const R=yield p.assertedPersistence.getCurrentUser();let V=R,re=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Me=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,it=V?._redirectEventId,wt=yield p.tryRedirectSignIn(h);(!Me||Me===it)&&wt?.user&&(V=wt.user,re=!0)}if(!V)return p.directlySetCurrentUser(null);if(!V._redirectEventId){if(re)try{yield p.beforeStateQueue.runMiddleware(V)}catch(Me){V=R,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Me))}return V?p.reloadAndSetCurrentUserOrClear(V):p.directlySetCurrentUser(null)}return q(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===V._redirectEventId?p.directlySetCurrentUser(V):p.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(h){var p=this;return(0,w.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,w.Z)(function*(){var v;try{yield rn(h)}catch(R){if("auth/network-request-failed"!==(null===(v=R)||void 0===v?void 0:v.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Re(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,w.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,w.Z)(function*(){const v=h?(0,U.m9)(h):null;return v&&q(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h,p=!1){var v=this;return(0,w.Z)(function*(){if(!v._deleted)return h&&q(v.tenantId===h.tenantId,v,"tenant-id-mismatch"),p||(yield v.beforeStateQueue.runMiddleware(h)),v.queue((0,w.Z)(function*(){yield v.directlySetCurrentUser(h),v.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,w.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,w.Z)(function*(){yield p.assertedPersistence.setPersistence(ye(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new U.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,w.Z)(function*(){const R=yield v.getOrInitRedirectPersistenceManager(p);return null===h?R.removeCurrentUser():R.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,w.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&ye(h)||p._popupRedirectResolver;q(v,p,"argument-error"),p.redirectPersistenceManager=yield He.create(p,[ye(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,w.Z)(function*(){var v,R;return p._isInitialized&&(yield p.queue((0,w.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(R=p.redirectUser)||void 0===R?void 0:R._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,w.Z)(function*(){if(h===p.currentUser)return p.queue((0,w.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,R){if(this._deleted)return()=>{};const V="function"==typeof p?p:p.next.bind(p),re=this._isInitialized?Promise.resolve():this._initializationPromise;return q(re,this,"internal-error"),re.then(()=>V(this.currentUser)),"function"==typeof p?h.addObserver(p,v,R):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,w.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ci(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,w.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const R=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return R&&(v["X-Firebase-Client"]=R),v})()}}function Gn(y){return(0,U.m9)(y)}class tr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,U.ne)(p=>this.observer=p)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function di(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Xi(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ur{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return _e("not implemented")}_getIdTokenResponse(h){return _e("not implemented")}_linkToIdToken(h,p){return _e("not implemented")}_getReauthenticationResolver(h){return _e("not implemented")}}function lr(y,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:resetPassword",Ut(y,h))})).apply(this,arguments)}function mn(y,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function la(y,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:update",Ut(y,h))})).apply(this,arguments)}function es(){return(es=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithPassword",Ut(y,h))})).apply(this,arguments)}function Ct(y,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:sendOobCode",Ut(y,h))})).apply(this,arguments)}function _n(y,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,w.Z)(function*(y,h){return Ct(y,h)})).apply(this,arguments)}function dn(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,w.Z)(function*(y,h){return Ct(y,h)})).apply(this,arguments)}function Rs(y,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,w.Z)(function*(y,h){return Ct(y,h)})).apply(this,arguments)}function ru(y,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,w.Z)(function*(y,h){return Ct(y,h)})).apply(this,arguments)}function pr(){return(pr=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,h))})).apply(this,arguments)}function Ui(){return(Ui=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,h))})).apply(this,arguments)}class iu extends ur{constructor(h,p,v,R=null){super("password",v),this._email=h,this._password=p,this._tenantId=R}static _fromEmailAndPassword(h,p){return new iu(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new iu(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,w.Z)(function*(){switch(p.signInMethod){case"password":return function Ms(y,h){return es.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Os(y,h){return pr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:$e(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,w.Z)(function*(){switch(v.signInMethod){case"password":return mn(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ca(y,h){return Ui.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:$e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Zn(y,h){return da.apply(this,arguments)}function da(){return(da=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithIdp",Ut(y,h))})).apply(this,arguments)}class ts extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new ts(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):$e("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:R}=p,V=(0,de._T)(p,["providerId","signInMethod"]);if(!v||!R)return null;const re=new ts(v,R);return re.idToken=V.idToken||void 0,re.accessToken=V.accessToken||void 0,re.secret=V.secret,re.nonce=V.nonce,re.pendingToken=V.pendingToken||null,re}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Zn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Zn(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,U.xO)(p)}return h}}function Yl(y,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:sendVerificationCode",Ut(y,h))})).apply(this,arguments)}function Gt(){return(Gt=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,h))})).apply(this,arguments)}function Ku(){return(Ku=(0,w.Z)(function*(y,h){const p=yield Sr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,h));if(p.temporaryProof)throw $r(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const vo={USER_NOT_FOUND:"user-not-found"};function Zu(){return(Zu=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),vo)})).apply(this,arguments)}class Ir extends ur{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Ir({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Ir({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Xs(y,h){return Gt.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function fa(y,h){return Ku.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ud(y,h){return Zu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:R}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:R}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:R,temporaryProof:V}=h;return v||p||R||V?new Ir({verificationId:p,verificationCode:v,phoneNumber:R,temporaryProof:V}):null}}class Eo{constructor(h){var p,v,R,V,re,Me;const it=(0,U.zd)((0,U.pd)(h)),wt=null!==(p=it.apiKey)&&void 0!==p?p:null,Lt=null!==(v=it.oobCode)&&void 0!==v?v:null,St=function su(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=it.mode)&&void 0!==R?R:null);q(wt&&Lt&&St,"argument-error"),this.apiKey=wt,this.operation=St,this.code=Lt,this.continueUrl=null!==(V=it.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(re=it.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Me=it.tenantId)&&void 0!==Me?Me:null}static parseLink(h){const p=function ou(y){const h=(0,U.zd)((0,U.pd)(y)).link,p=h?(0,U.zd)((0,U.pd)(h)).deep_link_id:null,v=(0,U.zd)((0,U.pd)(y)).deep_link_id;return(v?(0,U.zd)((0,U.pd)(v)).link:null)||v||p||h||y}(h);try{return new Eo(p)}catch{return null}}}let Fn=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return iu._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const R=Eo.parseLink(v);return q(R,"argument-error"),iu._fromEmailAndCode(p,R.code,R.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class xr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ci extends xr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Ns extends Ci{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return q("providerId"in p&&"signInMethod"in p,"argument-error"),ts._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return q(h.idToken||h.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Ns.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Ns.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:R,pendingToken:V,nonce:re,providerId:Me}=h;if(!v&&!R&&!p&&!V||!Me)return null;try{return new Ns(Me)._credential({idToken:p,accessToken:v,nonce:re,pendingToken:V})}catch{return null}}}let bo=(()=>{class y extends Ci{constructor(){super("facebook.com")}static credential(p){return ts._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),wo=(()=>{class y extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return ts._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:R}=p;if(!v&&!R)return null;try{return y.credential(v,R)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),pa=(()=>{class y extends Ci{constructor(){super("github.com")}static credential(p){return ts._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class eo extends ur{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Zn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Zn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Zn(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:R,pendingToken:V}=p;return v&&R&&V&&v===R?new eo(v,V):null}static _create(h,p){return new eo(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ti extends xr{constructor(h){q(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ti.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ti.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=eo.fromJSON(h);return q(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return eo._create(v,p)}catch{return null}}}let Wr=(()=>{class y extends Ci{constructor(){super("twitter.com")}static credential(p,v){return ts._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:R}=p;if(!v||!R)return null;try{return y.credential(v,R)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function rs(y,h){return is.apply(this,arguments)}function is(){return(is=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signUp",Ut(y,h))})).apply(this,arguments)}class kt{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,R=!1){return(0,w.Z)(function*(){const V=yield Yt._fromIdTokenResponse(h,v,R),re=Io(v);return new kt({user:V,providerId:re,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,w.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const R=Io(v);return new kt({user:h,providerId:R,_tokenResponse:v,operationType:p})})()}}function Io(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Nn(){return(Nn=(0,w.Z)(function*(y){var h;const p=Gn(y);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new kt({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield rs(p,{returnSecureToken:!0}),R=yield kt._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}class ga extends U.ZR{constructor(h,p,v,R){var V;super(p.code,p.message),this.operationType=v,this.user=R,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:h.name,tenantId:null!==(V=h.tenantId)&&void 0!==V?V:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,R){return new ga(h,p,v,R)}}function Yu(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?ga._fromErrorAndOperation(y,V,h,v):V})}function qr(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function ks(){return(ks=(0,w.Z)(function*(y,h){const p=(0,U.m9)(y);yield on(!0,p,h);const{providerUserInfo:v}=yield br(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),R=qr(v||[]);return p.providerData=p.providerData.filter(V=>R.has(V.providerId)),R.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Bi(y,h){return ji.apply(this,arguments)}function ji(){return(ji=(0,w.Z)(function*(y,h,p=!1){const v=yield Dt(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return kt._forOperation(y,"link",v)})).apply(this,arguments)}function on(y,h,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,w.Z)(function*(y,h,p){yield rn(h);const R=!1===y?"provider-already-linked":"no-such-provider";q(qr(h.providerData).has(p)===y,h.auth,R)})).apply(this,arguments)}function ss(y,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,w.Z)(function*(y,h,p=!1){var v;const{auth:R}=y,V="reauthenticate";try{const re=yield Dt(y,Yu(R,V,h,y),p);q(re.idToken,R,"internal-error");const Me=Ce(re.idToken);q(Me,R,"internal-error");const{sub:it}=Me;return q(y.uid===it,R,"user-mismatch"),kt._forOperation(y,V,re)}catch(re){throw"auth/user-not-found"===(null===(v=re)||void 0===v?void 0:v.code)&&$e(R,"user-mismatch"),re}})).apply(this,arguments)}function hi(y,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,w.Z)(function*(y,h,p=!1){const v="signIn",R=yield Yu(y,v,h),V=yield kt._fromIdTokenResponse(y,v,R);return p||(yield y._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Yn(y,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,w.Z)(function*(y,h){return hi(Gn(y),h)})).apply(this,arguments)}function ya(y,h){return _a.apply(this,arguments)}function _a(){return(_a=(0,w.Z)(function*(y,h){const p=(0,U.m9)(y);return yield on(!1,p,h.providerId),Bi(p,h)})).apply(this,arguments)}function va(y,h){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,w.Z)(function*(y,h){return ss((0,U.m9)(y),h)})).apply(this,arguments)}function au(y,h){return os.apply(this,arguments)}function os(){return(os=(0,w.Z)(function*(y,h){return Sr(y,"POST","/v1/accounts:signInWithCustomToken",Ut(y,h))})).apply(this,arguments)}function Ls(){return(Ls=(0,w.Z)(function*(y,h){const p=Gn(y),v=yield au(p,{token:h,returnSecureToken:!0}),R=yield kt._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ge{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?an._fromServerResponse(h,p):$e(h,"internal-error")}}class an extends Ge{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new an(p)}}function Hi(y,h,p){var v;q((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),q(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(q(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(q(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function nr(){return(nr=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y),R={requestType:"PASSWORD_RESET",email:h};p&&Hi(v,R,p),yield dn(v,R)})).apply(this,arguments)}function no(){return(no=(0,w.Z)(function*(y,h,p){yield lr((0,U.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(y,h){yield la((0,U.m9)(y),{oobCode:h})})).apply(this,arguments)}function us(y,h){return _s.apply(this,arguments)}function _s(){return(_s=(0,w.Z)(function*(y,h){const p=(0,U.m9)(y),v=yield lr(p,{oobCode:h}),R=v.requestType;switch(q(R,p,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(v.mfaInfo,p,"internal-error");default:q(v.email,p,"internal-error")}let V=null;return v.mfaInfo&&(V=Ge._fromServerResponse(Gn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:V},operation:R}})).apply(this,arguments)}function lu(){return(lu=(0,w.Z)(function*(y,h){const{data:p}=yield us((0,U.m9)(y),h);return p.email})).apply(this,arguments)}function Vn(){return(Vn=(0,w.Z)(function*(y,h,p){const v=Gn(y),R=yield rs(v,{returnSecureToken:!0,email:h,password:p}),V=yield kt._fromIdTokenResponse(v,"signIn",R);return yield v._updateCurrentUser(V.user),V})).apply(this,arguments)}function vs(){return(vs=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y),R={requestType:"EMAIL_SIGNIN",email:h};q(p.handleCodeInApp,v,"argument-error"),p&&Hi(v,R,p),yield Rs(v,R)})).apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y),R=Fn.credentialWithLink(h,p||he());return q(R._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Yn(v,R)})).apply(this,arguments)}function cd(y,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:createAuthUri",Ut(y,h))})).apply(this,arguments)}function io(){return(io=(0,w.Z)(function*(y,h){const v={identifier:h,continueUri:Ye()?he():"http://localhost"},{signinMethods:R}=yield cd((0,U.m9)(y),v);return R||[]})).apply(this,arguments)}function ni(){return(ni=(0,w.Z)(function*(y,h){const p=(0,U.m9)(y),R={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Hi(p.auth,R,h);const{email:V}=yield _n(p.auth,R);V!==y.email&&(yield y.reload())})).apply(this,arguments)}function Gi(){return(Gi=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&Hi(v.auth,V,p);const{email:re}=yield ru(v.auth,V);re!==y.email&&(yield y.reload())})).apply(this,arguments)}function Fs(y,h){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,w.Z)(function*(y,h){return Mn(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hu(){return(hu=(0,w.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,U.m9)(y),V={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},re=yield Dt(v,Fs(v.auth,V));v.displayName=re.displayName||null,v.photoURL=re.photoUrl||null;const Me=v.providerData.find(({providerId:it})=>"password"===it);Me&&(Me.displayName=v.displayName,Me.photoURL=v.photoURL),yield v._updateTokensIfNecessary(re)})).apply(this,arguments)}function T(y,h,p){return F.apply(this,arguments)}function F(){return(F=(0,w.Z)(function*(y,h,p){const{auth:v}=y,V={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(V.email=h),p&&(V.password=p);const re=yield Dt(y,mn(v,V));yield y._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Ee{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Ne extends Ee{constructor(h,p,v,R){super(h,p,v),this.username=R}}class bt extends Ee{constructor(h,p){super(h,"facebook.com",p)}}class vn extends Ne{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class En extends Ee{constructor(h,p){super(h,"google.com",p)}}class Cn extends Ne{constructor(h,p,v){super(h,"twitter.com",p,v)}}function un(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function W(y){var h,p;if(!y)return null;const{providerId:v}=y,R=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},V=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const re=null===(p=null===(h=Ce(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(re)return new Ee(V,"anonymous"!==re&&"custom"!==re?re:null)}if(!v)return null;switch(v){case"facebook.com":return new bt(V,R);case"github.com":return new vn(V,R);case"google.com":return new En(V,R);case"twitter.com":return new Cn(V,R,y.screenName||null);case"custom":case"anonymous":return new Ee(V,null);default:return new Ee(V,v,R)}}(p)}class Es{constructor(h,p,v){this.type=h,this.credential=p,this.auth=v}static _fromIdtoken(h,p){return new Es("enroll",h,p)}static _fromMfaPendingCredential(h){return new Es("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Es._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return Es._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ao{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=Gn(h),R=p.customData._serverResponse,V=(R.mfaInfo||[]).map(Me=>Ge._fromServerResponse(v,Me));q(R.mfaPendingCredential,v,"internal-error");const re=Es._fromMfaPendingCredential(R.mfaPendingCredential);return new Ao(re,V,function(){var Me=(0,w.Z)(function*(it){const wt=yield it._process(v,re);delete R.mfaInfo,delete R.mfaPendingCredential;const Lt=Object.assign(Object.assign({},R),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(p.operationType){case"signIn":const St=yield kt._fromIdTokenResponse(v,p.operationType,Lt);return yield v._updateCurrentUser(St.user),St;case"reauthenticate":return q(p.user,v,"internal-error"),kt._forOperation(p.user,p.operationType,Lt);default:$e(v,"internal-error")}});return function(it){return Me.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,w.Z)(function*(){return p.signInResolver(h)})()}}function Ta(y,h){return Mn(y,"POST","/v2/accounts/mfaEnrollment:start",Ut(y,h))}class Ju{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Ge._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Ju(h)}getSession(){var h=this;return(0,w.Z)(function*(){return Es._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var v=this;return(0,w.Z)(function*(){const R=h,V=yield v.getSession(),re=yield Dt(v.user,R._process(v.user.auth,V,p));return yield v.user._updateTokensIfNecessary(re),v.user.reload()})()}unenroll(h){var p=this;return(0,w.Z)(function*(){var v;const R="string"==typeof h?h:h.uid,V=yield p.user.getIdToken(),re=yield Dt(p.user,function Xl(y,h){return Mn(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(y,h))}(p.user.auth,{idToken:V,mfaEnrollmentId:R}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Me})=>Me!==R),yield p.user._updateTokensIfNecessary(re);try{yield p.user.reload()}catch(Me){if("auth/user-token-expired"!==(null===(v=Me)||void 0===v?void 0:v.code))throw Me}})()}}const Xu=new WeakMap,So="__sak";class ec{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(So,"1"),this.storage.removeItem(So),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const fu=(()=>{class y extends ec{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Aa(){const y=(0,U.z$)();return At(y)||Mt(y)}()&&function $n(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const R=this.storage.getItem(v),V=this.localCache[v];R!==V&&p(v,V,R)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((Me,it,wt)=>{this.notifyListeners(Me,wt)});const R=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(R);if(p.newValue!==Me)null!==p.newValue?this.storage.setItem(R,p.newValue):this.storage.removeItem(R);else if(this.localCache[R]===p.newValue&&!v)return}const V=()=>{const Me=this.storage.getItem(R);!v&&this.localCache[R]===Me||this.notifyListeners(R,Me)},re=this.storage.getItem(R);!function Jn(){return(0,U.w1)()&&10===document.documentMode}()||re===p.newValue||p.newValue===p.oldValue?V():setTimeout(V,10)}notifyListeners(p,v){this.localCache[p]=v;const R=this.listeners[p];if(R)for(const V of Array.from(R))V(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var R=()=>super._set,V=this;return(0,w.Z)(function*(){yield R().call(V,p,v),V.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,R=this;return(0,w.Z)(function*(){const V=yield v().call(R,p);return R.localCache[p]=JSON.stringify(V),V})()}_remove(p){var v=()=>super._remove,R=this;return(0,w.Z)(function*(){yield v().call(R,p),delete R.localCache[p]})()}}return y.type="LOCAL",y})(),pi=(()=>{class y extends ec{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let hd=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(V=>V.isListeningto(p));if(v)return v;const R=new y(p);return this.receivers.push(R),R}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,w.Z)(function*(){const R=p,{eventId:V,eventType:re,data:Me}=R.data,it=v.handlersMap[re];if(!it?.size)return;R.ports[0].postMessage({status:"ack",eventId:V,eventType:re});const wt=Array.from(it).map(function(){var St=(0,w.Z)(function*(mr){return mr(R.origin,Me)});return function(mr){return St.apply(this,arguments)}}()),Lt=yield function oo(y){return Promise.all(y.map(function(){var h=(0,w.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(wt);R.ports[0].postMessage({status:"done",eventId:V,eventType:re,response:Lt})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Sa(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}class el{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var R=this;return(0,w.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let re,Me;return new Promise((it,wt)=>{const Lt=Sa("",20);V.port1.start();const St=setTimeout(()=>{wt(new Error("unsupported_event"))},v);Me={messageChannel:V,onMessage(mr){const _i=mr;if(_i.data.eventId===Lt)switch(_i.data.status){case"ack":clearTimeout(St),re=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),it(_i.data.response);break;default:clearTimeout(St),clearTimeout(re),wt(new Error("invalid_response"))}}},R.handlers.add(Me),V.port1.addEventListener("message",Me.onMessage),R.target.postMessage({eventType:h,eventId:Lt,data:p},[V.port2])}).finally(()=>{Me&&R.removeMessageHandler(Me)})})()}}function dr(){return window}function rc(){return typeof dr().WorkerGlobalScope<"u"&&"function"==typeof dr().importScripts}function tl(){return(tl=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mo="firebaseLocalStorageDb",xo="firebaseLocalStorage",gu="fbase_key";class Dr{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ra(y,h){return y.transaction([xo],h?"readwrite":"readonly").objectStore(xo)}function Oa(){const y=indexedDB.open(Mo,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(xo,{keyPath:gu})}catch(R){p(R)}}),y.addEventListener("success",(0,w.Z)(function*(){const v=y.result;v.objectStoreNames.contains(xo)?h(v):(v.close(),yield function Ro(){const y=indexedDB.deleteDatabase(Mo);return new Dr(y).toPromise()}(),h(yield Oa()))}))})}function ao(y,h,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,w.Z)(function*(y,h,p){const v=Ra(y,!0).put({[gu]:h,value:p});return new Dr(v).toPromise()})).apply(this,arguments)}function Na(){return(Na=(0,w.Z)(function*(y,h){const p=Ra(y,!1).get(h),v=yield new Dr(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function uo(y,h){const p=Ra(y,!0).delete(h);return new Dr(p).toPromise()}const Pa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,w.Z)(function*(){return p.db||(p.db=yield Oa()),p.db})()}_withRetries(p){var v=this;return(0,w.Z)(function*(){let R=0;for(;;)try{const V=yield v._openDb();return yield p(V)}catch(V){if(R++>3)throw V;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,w.Z)(function*(){return rc()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,w.Z)(function*(){p.receiver=hd._getInstance(function xa(){return rc()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,w.Z)(function*(R,V){return{keyProcessed:(yield p._poll()).includes(V.key)}});return function(R,V){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,w.Z)(function*(R,V){return["keyChanged"]});return function(R,V){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,w.Z)(function*(){var v,R;if(p.activeServiceWorker=yield function Ma(){return tl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new el(p.activeServiceWorker);const V=yield p.sender._send("ping",{},800);!V||(null===(v=V[0])||void 0===v?void 0:v.fulfilled)&&(null===(R=V[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,w.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function fd(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Oa();return yield ao(p,So,"1"),yield uo(p,So),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,w.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var R=this;return(0,w.Z)(function*(){return R._withPendingWrite((0,w.Z)(function*(){return yield R._withRetries(V=>ao(V,p,v)),R.localCache[p]=v,R.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,w.Z)(function*(){const R=yield v._withRetries(V=>function Oo(y,h){return Na.apply(this,arguments)}(V,p));return v.localCache[p]=R,R})()}_remove(p){var v=this;return(0,w.Z)(function*(){return v._withPendingWrite((0,w.Z)(function*(){return yield v._withRetries(R=>uo(R,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,w.Z)(function*(){const v=yield p._withRetries(re=>{const Me=Ra(re,!1).getAll();return new Dr(Me).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const R=[],V=new Set;for(const{fbase_key:re,value:Me}of v)V.add(re),JSON.stringify(p.localCache[re])!==JSON.stringify(Me)&&(p.notifyListeners(re,Me),R.push(re));for(const re of Object.keys(p.localCache))p.localCache[re]&&!V.has(re)&&(p.notifyListeners(re,null),R.push(re));return R})()}notifyListeners(p,v){this.localCache[p]=v;const R=this.listeners[p];if(R)for(const V of Array.from(R))V(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lo(y,h){return Mn(y,"POST","/v2/accounts/mfaSignIn:start",Ut(y,h))}function Us(){return(Us=(0,w.Z)(function*(y){return(yield Mn(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=R=>{const V=ke("internal-error");V.customData=R,p(V)},v.type="text/javascript",v.charset="UTF-8",function Po(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}function mu(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Fa=1e12;class Un{constructor(h){this.auth=h,this.counter=Fa,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new ic(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||Fa;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Fa))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,w.Z)(function*(){var v;return null===(v=p._widgets.get(h||Fa))||void 0===v||v.execute(),""})()}}class ic{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof h?document.getElementById(h):h;q(R,"argument-error",{appName:p}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yu(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qh=mu("rcb"),Gp=new pt(3e4,6e4);class pd{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=dr().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return q(function hy(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(dr().grecaptcha):new Promise((v,R)=>{const V=dr().setTimeout(()=>{R(ke(h,"network-request-failed"))},Gp.get());dr()[qh]=()=>{dr().clearTimeout(V),delete dr()[qh];const Me=dr().grecaptcha;if(!Me)return void R(ke(h,"internal-error"));const it=Me.render;Me.render=(wt,Lt)=>{const St=it(wt,Lt);return this.counter++,St},this.hostLanguage=p,v(Me)},La(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:qh,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(V),R(ke(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=dr().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class il{load(h){return(0,w.Z)(function*(){return new Un(h)})()}clearedOneInstance(){}}const Wp="recaptcha",fy={theme:"light",type:"image"};class Nr{constructor(h,p=Object.assign({},fy),v){this.parameters=p,this.type=Wp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(v),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof h?document.getElementById(h):h;q(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new il:new pd,this.validateStartingState()}verify(){var h=this;return(0,w.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(V=>{const re=Me=>{!Me||(h.tokenChangeListeners.delete(re),V(Me))};h.tokenChangeListeners.add(re),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=dr()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,w.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,w.Z)(function*(){q(Ye()&&!rc(),h.auth,"internal-error"),yield function sl(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function gi(y){return Us.apply(this,arguments)}(h.auth);q(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Va{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Ir._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function _u(){return(_u=(0,w.Z)(function*(y,h,p){const v=Gn(y),R=yield co(v,h,(0,U.m9)(p));return new Va(R,V=>Yn(v,V))})).apply(this,arguments)}function mi(){return(mi=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y);yield on(!1,v,"phone");const R=yield co(v.auth,h,(0,U.m9)(p));return new Va(R,V=>ya(v,V))})).apply(this,arguments)}function Ua(){return(Ua=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y),R=yield co(v.auth,h,(0,U.m9)(p));return new Va(R,V=>va(v,V))})).apply(this,arguments)}function co(y,h,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,w.Z)(function*(y,h,p){var v;const R=yield p.verify();try{let V;if(q("string"==typeof R,y,"argument-error"),q(p.type===Wp,y,"argument-error"),V="string"==typeof h?{phoneNumber:h}:h,"session"in V){const re=V.session;if("phoneNumber"in V)return q("enroll"===re.type,y,"internal-error"),(yield Ta(y,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{q("signin"===re.type,y,"internal-error");const Me=(null===(v=V.multiFactorHint)||void 0===v?void 0:v.uid)||V.multiFactorUid;return q(Me,y,"missing-multi-factor-info"),(yield lo(y,{mfaPendingCredential:re.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Yl(y,{phoneNumber:V.phoneNumber,recaptchaToken:R});return re}}finally{p._reset()}})).apply(this,arguments)}function al(){return(al=(0,w.Z)(function*(y,h){yield Bi((0,U.m9)(y),h)})).apply(this,arguments)}let vu=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Gn(p)}verifyPhoneNumber(p,v){return co(this.auth,p,(0,U.m9)(v))}static credential(p,v){return Ir._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:R}=p;return v&&R?Ir._fromTokenResponse(v,R):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Bs(y,h){return h?ye(h):(q(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Vo extends ur{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Zn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Zn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Zn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function yi(y){return hi(y.auth,new Vo(y),y.bypassAuthState)}function js(y){const{auth:h,user:p}=y;return q(p,h,"internal-error"),ss(p,new Vo(y),y.bypassAuthState)}function Hs(y){return ul.apply(this,arguments)}function ul(){return(ul=(0,w.Z)(function*(y){const{auth:h,user:p}=y;return q(p,h,"internal-error"),Bi(p,new Vo(y),y.bypassAuthState)})).apply(this,arguments)}class Eu{constructor(h,p,v,R,V=!1){this.auth=h,this.resolver=v,this.user=R,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,w.Z)(function*(v,R){h.pendingPromise={resolve:v,reject:R};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(V){h.reject(V)}});return function(v,R){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,w.Z)(function*(){const{urlResponse:v,sessionId:R,postBody:V,tenantId:re,error:Me,type:it}=h;if(Me)return void p.reject(Me);const wt={auth:p.auth,requestUri:v,sessionId:R,tenantId:re||void 0,postBody:V||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(it)(wt))}catch(Lt){p.reject(Lt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return yi;case"linkViaPopup":case"linkViaRedirect":return Hs;case"reauthViaPopup":case"reauthViaRedirect":return js;default:$e(this.auth,"internal-error")}}resolve(h){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ac=new pt(2e3,1e4);function bu(){return(bu=(0,w.Z)(function*(y,h,p){const v=Gn(y);nt(y,h,xr);const R=Bs(v,p);return new Ba(v,"signInViaPopup",h,R).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y);nt(v.auth,h,xr);const R=Bs(v.auth,p);return new Ba(v.auth,"reauthViaPopup",h,R,v).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y);nt(v.auth,h,xr);const R=Bs(v.auth,p);return new Ba(v.auth,"linkViaPopup",h,R,v).executeNotNull()})).apply(this,arguments)}let Ba=(()=>{class y extends Eu{constructor(p,v,R,V,re){super(p,v,V,re),this.provider=R,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,w.Z)(function*(){const v=yield p.execute();return q(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,w.Z)(function*(){ee(1===p.filter.length,"Popup operations only handle one event");const v=Sa();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(R=>{p.reject(R)}),p.resolver._isIframeWebStorageSupported(p.auth,R=>{R||p.reject(ke(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,R;this.pollId=null!==(R=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,ac.get())};p()}}return y.currentPopupAction=null,y})();const bs=new Map;class cc extends Eu{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,w.Z)(function*(){let v=bs.get(p.auth._key());if(!v){try{const V=(yield function Du(y,h){return $s.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(V)}catch(R){v=()=>Promise.reject(R)}bs.set(p.auth._key(),v)}return p.bypassAuthState||bs.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,w.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const R=yield v.auth._redirectUserForId(h.eventId);if(R)return v.user=R,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function $s(){return($s=(0,w.Z)(function*(y,h){const p=_d(h),v=Gs(y);if(!(yield v._isAvailable()))return!1;const R="true"===(yield v._get(p));return yield v._remove(p),R})).apply(this,arguments)}function ll(y,h){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.Z)(function*(y,h){return Gs(y)._set(_d(h),"true")})).apply(this,arguments)}function Uo(y,h){bs.set(y._key(),h)}function Gs(y){return ye(y._redirectPersistence)}function _d(y){return ie("pendingRedirect",y.config.apiKey,y.name)}function C(){return(C=(0,w.Z)(function*(y,h,p){const v=Gn(y);nt(y,h,xr);const R=Bs(v,p);return yield ll(R,v),R._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function H(){return(H=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y);nt(v.auth,h,xr);const R=Bs(v.auth,p);yield ll(R,v.auth);const V=yield Vt(v);return R._openRedirect(v.auth,h,"reauthViaRedirect",V)})).apply(this,arguments)}function Ke(){return(Ke=(0,w.Z)(function*(y,h,p){const v=(0,U.m9)(y);nt(v.auth,h,xr);const R=Bs(v.auth,p);yield on(!1,v,h.providerId),yield ll(R,v.auth);const V=yield Vt(v);return R._openRedirect(v.auth,h,"linkViaRedirect",V)})).apply(this,arguments)}function Pt(){return(Pt=(0,w.Z)(function*(y,h){return yield Gn(y)._initializationPromise,Ht(y,h,!1)})).apply(this,arguments)}function Ht(y,h){return nn.apply(this,arguments)}function nn(){return(nn=(0,w.Z)(function*(y,h,p=!1){const v=Gn(y),R=Bs(v,h),re=yield new cc(v,R,p).execute();return re&&!p&&(delete re.user._redirectEventId,yield v._persistUserIfCurrent(re.user),yield v._setRedirectUser(null,h)),re})).apply(this,arguments)}function Vt(y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,w.Z)(function*(y){const h=Sa(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class ho{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function ja(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bo(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!Bo(h)){const R=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(ke(this.auth,R))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(h))}saveEventToCache(h){this.cachedEventUids.add(fo(h)),this.lastProcessedEventTime=Date.now()}}function fo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Bo({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ds(y){return jo.apply(this,arguments)}function jo(){return(jo=(0,w.Z)(function*(y,h={}){return Mn(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ho=/^https?/;function Kp(){return(Kp=(0,w.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ds(y);for(const p of h)try{if(Zp(p))return}catch{}$e(y,"unauthorized-domain")})).apply(this,arguments)}function Zp(y){const h=he(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const re=new URL(y);return""===re.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&re.hostname===v}if(!Ho.test(p))return!1;if(Ha.test(y))return v===y;const R=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(v)}const jr=new pt(3e4,6e4);function Yp(){const y=dr().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Cu=null;function Ed(y){return Cu=Cu||function dc(y){return new Promise((h,p)=>{var v,R,V;function re(){Yp(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Yp(),p(ke(y,"network-request-failed"))},timeout:jr.get()})}if(null!==(R=null===(v=dr().gapi)||void 0===v?void 0:v.iframes)&&void 0!==R&&R.Iframe)h(gapi.iframes.getContext());else{if(null===(V=dr().gapi)||void 0===V||!V.load){const Me=mu("iframefcb");return dr()[Me]=()=>{gapi.load?re():p(ke(y,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${Me}`).catch(it=>p(it))}re()}}).catch(h=>{throw Cu=null,h})}(y),Cu}const Qp=new pt(5e3,15e3),EI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function py(y){const h=y.config;q(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?Ot(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:y.name,v:se.SDK_VERSION},R=Jp.get(y.config.apiHost);R&&(v.eid=R);const V=y._getFrameworks();return V.length&&(v.fw=V.join(",")),`${p}?${(0,U.xO)(v).slice(1)}`}function Tu(){return Tu=(0,w.Z)(function*(y){const h=yield Ed(y),p=dr().gapi;return q(p,y,"internal-error"),h.open({where:document.body,url:py(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EI,dontclear:!0},v=>new Promise(function(){var R=(0,w.Z)(function*(V,re){yield v.restyle({setHideOnLeave:!1});const Me=ke(y,"network-request-failed"),it=dr().setTimeout(()=>{re(Me)},Qp.get());function wt(){dr().clearTimeout(it),V(v)}v.ping(wt).then(wt,()=>{re(Me)})});return function(V,re){return R.apply(this,arguments)}}()))}),Tu.apply(this,arguments)}const cl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cd(y,h,p,v,R,V){q(y.config.authDomain,y,"auth-domain-config-required"),q(y.config.apiKey,y,"invalid-api-key");const re={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:se.SDK_VERSION,eventId:R};if(h instanceof xr){h.setDefaultLanguage(y.languageCode),re.providerId=h.providerId||"",(0,U.xb)(h.getCustomParameters())||(re.customParameters=JSON.stringify(h.getCustomParameters()));for(const[it,wt]of Object.entries(V||{}))re[it]=wt}if(h instanceof Ci){const it=h.getScopes().filter(wt=>""!==wt);it.length>0&&(re.scopes=it.join(","))}y.tenantId&&(re.tid=y.tenantId);const Me=re;for(const it of Object.keys(Me))void 0===Me[it]&&delete Me[it];return`${function gy({config:y}){return y.emulator?Ot(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,U.xO)(Me).slice(1)}`}const Td="webStorageSupport";class $o extends class Ad{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new $o(h)}_finalizeEnroll(h,p,v){return function dd(y,h){return Mn(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(y,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function ko(y,h){return Mn(y,"POST","/v2/accounts/mfaSignIn:finalize",Ut(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hl=(()=>{class y{constructor(){}static assertion(p){return $o._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var ng="@firebase/auth",_y="0.20.11";class rg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,w.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var R;h((null===(R=v)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fl(){return window}function hs(){return(hs=(0,w.Z)(function*(y,h,p){var v;const{BuildInfo:R}=fl();ee(h.sessionId,"AuthEvent did not contain a session ID");const V=yield pl(h.sessionId),re={};return Mt()?re.ibi=R.packageName:gn()?re.apn=R.packageName:$e(y,"operation-not-supported-in-this-environment"),R.displayName&&(re.appDisplayName=R.displayName),re.sessionId=V,Cd(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,re)})).apply(this,arguments)}function Sd(){return(Sd=(0,w.Z)(function*(y){const{BuildInfo:h}=fl(),p={};Mt()?p.iosBundleId=h.packageName:gn()?p.androidPackageName=h.packageName:$e(y,"operation-not-supported-in-this-environment"),yield ds(y,p)})).apply(this,arguments)}function ag(){return(ag=(0,w.Z)(function*(y,h,p){const{cordova:v}=fl();let R=()=>{};try{yield new Promise((V,re)=>{let Me=null;function it(){var St;V();const mr=null===(St=v.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof mr&&mr(),"function"==typeof p?.close&&p.close()}function wt(){Me||(Me=window.setTimeout(()=>{re(ke(y,"redirect-cancelled-by-user"))},2e3))}function Lt(){"visible"===document?.visibilityState&&wt()}h.addPassiveListener(it),document.addEventListener("resume",wt,!1),gn()&&document.addEventListener("visibilitychange",Lt,!1),R=()=>{h.removePassiveListener(it),document.removeEventListener("resume",wt,!1),document.removeEventListener("visibilitychange",Lt,!1),Me&&window.clearTimeout(Me)}})}finally{R()}})).apply(this,arguments)}function pl(y){return fc.apply(this,arguments)}function fc(){return(fc=(0,w.Z)(function*(y){const h=Au(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Au(y){if(ee(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}(0,U.Pz)("authIdTokenMaxAge"),function j0(y){(0,se._registerComponent)(new le.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),R=h.getProvider("heartbeat"),{apiKey:V,authDomain:re}=v.options;return((Me,it)=>{q(V&&!V.includes(":"),"invalid-api-key",{appName:Me.name}),q(!re?.includes(":"),"argument-error",{appName:Me.name});const wt={apiKey:V,authDomain:re,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ci(y)},Lt=new Qt(Me,it,wt);return function Je(y,h){const p=h?.persistence||[],v=(Array.isArray(p)?p:[p]).map(ye);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(v,h?.popupRedirectResolver)}(Lt,p),Lt})(v,R)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new le.wA("auth-internal",h=>{const p=Gn(h.getProvider("auth").getImmediate());return new rg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(ng,_y,function B0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,se.registerVersion)(ng,_y,"esm2017")}("Browser");class Zr extends ho{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,w.Z)(function*(){yield h.initPromise})()}}function Xh(y){return Md.apply(this,arguments)}function Md(){return(Md=(0,w.Z)(function*(y){const h=yield xd()._get(gl(y));return h&&(yield xd()._remove(gl(y))),h})).apply(this,arguments)}function pc(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function xd(){return ye(fu)}function gl(y){return ie("authEvent",y.config.apiKey,y.name)}function gc(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,U.zd)(p.join("?"))}function nf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ke("no-auth-event")}}function ml(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ga(y=(0,U.z$)()){return!("file:"!==ml()&&"ionic:"!==ml()&&"capacitor:"!==ml()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function mc(){try{const y=self.localStorage,h=Sa();if(y)return y.setItem(h,"1"),y.removeItem(h),!function kd(y=(0,U.z$)()){return function rf(){return(0,U.w1)()&&11===document?.documentMode}()||function sf(y=(0,U.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,U.hl)()}catch{return yc()&&(0,U.hl)()}return!1}function yc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function _c(){return(function wy(){return"http:"===ml()||"https:"===ml()}()||(0,U.ru)()||Ga())&&!function Nd(){return(0,U.b$)()||(0,U.UG)()}()&&mc()&&!yc()}function vc(){return Ga()&&typeof document<"u"}function go(){return(go=(0,w.Z)(function*(){return!!vc()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const fs={LOCAL:"local",NONE:"none",SESSION:"session"},Ec=q,Go="persistence";function Su(y){return zo.apply(this,arguments)}function zo(){return(zo=(0,w.Z)(function*(y){yield y._initializationPromise;const h=yl(),p=ie(Go,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function yl(){var y;try{return(null===(y=function Pd(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Ld=q;class ps{constructor(){this.browserResolver=ye(class my{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pi,this._completeRedirectFn=Ht,this._overrideRedirectResult=Uo}_openPopup(h,p,v,R){var V=this;return(0,w.Z)(function*(){var re;ee(null===(re=V.eventManagers[h._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Me=Cd(h,p,v,he(),R);return function Id(y,h,p,v=500,R=600){const V=Math.max((window.screen.availHeight-R)/2,0).toString(),re=Math.max((window.screen.availWidth-v)/2,0).toString();let Me="";const it=Object.assign(Object.assign({},cl),{width:v.toString(),height:R.toString(),top:V,left:re}),wt=(0,U.z$)().toLowerCase();p&&(Me=Dn(wt)?"_blank":p),dt(wt)&&(h=h||"http://localhost",it.scrollbars="yes");const Lt=Object.entries(it).reduce((mr,[_i,cf])=>`${mr}${_i}=${cf},`,"");if(function Xr(y=(0,U.z$)()){var h;return Mt(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(wt)&&"_self"!==Me)return function Yh(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",Me),new wd(null);const St=window.open(h||"",Me,Lt);q(St,y,"popup-blocked");try{St.focus()}catch{}return new wd(St)}(h,Me,Sa())})()}_openRedirect(h,p,v,R){var V=this;return(0,w.Z)(function*(){return yield V._originValidation(h),function Si(y){dr().location.href=y}(Cd(h,p,v,he(),R)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:R,promise:V}=this.eventManagers[p];return R?Promise.resolve(R):(ee(V,"If manager is not set, promise should be"),V)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,w.Z)(function*(){const v=yield function bd(y){return Tu.apply(this,arguments)}(h),R=new ho(h);return v.register("authEvent",V=>(q(V?.authEvent,h,"invalid-auth-event"),{status:R.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:R},p.iframes[h._key()]=v,R})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Td,{type:Td},R=>{var V;const re=null===(V=R?.[0])||void 0===V?void 0:V[Td];void 0!==re&&p(!!re),$e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function vd(y){return Kp.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return or()||At()||Mt()}}),this.cordovaResolver=ye(class Od{constructor(){this._redirectPersistence=pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ht,this._overrideRedirectResult=Uo}_initialize(h){var p=this;return(0,w.Z)(function*(){const v=h._key();let R=p.eventManagers.get(v);return R||(R=new Zr(h),p.eventManagers.set(v,R),p.attachCallbackListeners(h,R)),R})()}_openPopup(h){$e(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,R){var V=this;return(0,w.Z)(function*(){!function z0(y){var h,p,v,R,V,re,Me,it,wt,Lt;const St=fl();q("function"==typeof(null===(h=St?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(p=St?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(V=null===(R=null===(v=St?.cordova)||void 0===v?void 0:v.plugins)||void 0===R?void 0:R.browsertab)||void 0===V?void 0:V.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(it=null===(Me=null===(re=St?.cordova)||void 0===re?void 0:re.plugins)||void 0===Me?void 0:Me.browsertab)||void 0===it?void 0:it.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Lt=null===(wt=St?.cordova)||void 0===wt?void 0:wt.InAppBrowser)||void 0===Lt?void 0:Lt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const re=yield V._initialize(h);yield re.initialized(),re.resetRedirect(),function yd(){bs.clear()}(),yield V._originValidation(h);const Me=function $a(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:pc(),postBody:null,tenantId:y.tenantId,error:ke(y,"no-auth-event")}}(h,v,R);yield function Ey(y,h){return xd()._set(gl(y),h)}(h,Me);const it=yield function po(y,h,p){return hs.apply(this,arguments)}(h,Me,p),wt=yield function Jh(y){const{cordova:h}=fl();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let R=null;v?h.plugins.browsertab.openUrl(y):R=h.InAppBrowser.open(y,function Tn(y=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(R)})})}(it);return function G0(y,h,p){return ag.apply(this,arguments)}(h,re,wt)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Is(y){return Sd.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:R,BuildInfo:V}=fl(),re=setTimeout((0,w.Z)(function*(){yield Xh(h),p.onEvent(nf())}),500),Me=function(){var Lt=(0,w.Z)(function*(St){clearTimeout(re);const mr=yield Xh(h);let _i=null;mr&&St?.url&&(_i=function ef(y,h){var p,v;const R=function Cr(y){const h=gc(y),p=h.link?decodeURIComponent(h.link):void 0,v=gc(p).link,R=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return gc(R).link||R||v||p||y}(h);if(R.includes("/__/auth/callback")){const V=gc(R),re=V.firebaseError?function ug(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(V.firebaseError)):null,Me=null===(v=null===(p=re?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],it=Me?ke(Me):null;return it?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:R,postBody:null}}return null}(mr,St.url)),p.onEvent(_i||nf())});return function(mr){return Lt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Me);const it=R,wt=`${V.packageName.toLowerCase()}://`;fl().handleOpenURL=function(){var Lt=(0,w.Z)(function*(St){if(St.toLowerCase().startsWith(wt)&&Me({url:St}),"function"==typeof it)try{it(St)}catch(mr){console.error(mr)}});return function(St){return Lt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=pi,this._completeRedirectFn=Ht,this._overrideRedirectResult=Uo}_initialize(h){var p=this;return(0,w.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,R){var V=this;return(0,w.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openPopup(h,p,v,R)})()}_openRedirect(h,p,v,R){var V=this;return(0,w.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._openRedirect(h,p,v,R)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return vc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ld(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,w.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Wi(){return go.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function fg(y){return y.unwrap()}function W0(y){return gg(y)}function gg(y){const{_tokenResponse:h}=y instanceof U.ZR?y.customData:y;if(!h)return null;if(!(y instanceof U.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return vu.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=wo;break;case"facebook.com":v=bo;break;case"github.com":v=pa;break;case"twitter.com":v=Wr;break;default:const{oauthIdToken:R,oauthAccessToken:V,oauthTokenSecret:re,pendingToken:Me,nonce:it}=h;return V||re||R||Me?Me?p.startsWith("saml.")?eo._create(p,Me):ts._fromParams({providerId:p,signInMethod:p,pendingToken:Me,idToken:R,accessToken:V}):new Ns(p).credential({idToken:R,accessToken:V,rawNonce:it}):null}return y instanceof U.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Yr(y,h){return h.catch(p=>{throw p instanceof U.ZR&&function q0(y,h){var p,v;const R=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(v=h)||void 0===v?void 0:v.code))h.resolver=new Dy(y,function rr(y,h){var p;const v=(0,U.m9)(y),R=h;return q(h.customData.operationType,v,"argument-error"),q(null===(p=R.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Ao._fromError(v,R)}(y,h));else if(R){const V=gg(h),re=h;V&&(re.credential=V,re.tenantId=R.tenantId||void 0,re.email=R.email||void 0,re.phoneNumber=R.phoneNumber||void 0)}}(y,p),p}).then(p=>{const R=p.user;return{operationType:p.operationType,credential:W0(p),additionalUserInfo:un(p),user:Wo.getOrCreate(R)}})}function af(y,h){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,w.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>Yr(y,p.confirm(v))}})).apply(this,arguments)}class Dy{constructor(h,p){this.resolver=p,this.auth=function pg(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Yr(fg(this.auth),this.resolver.resolveSignIn(h))}}class Wo{constructor(h){this._delegate=h,this.multiFactor=function so(y){const h=(0,U.m9)(y);return Xu.has(h)||Xu.set(h,Ju._fromUser(h)),Xu.get(h)}(h)}static getOrCreate(h){return Wo.USER_MAP.has(h)||Wo.USER_MAP.set(h,new Wo(h)),Wo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,w.Z)(function*(){return Yr(p.auth,ya(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,w.Z)(function*(){return af(v.auth,function ii(y,h,p){return mi.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,w.Z)(function*(){return Yr(p.auth,function qp(y,h,p){return wu.apply(this,arguments)}(p._delegate,h,ps))})()}linkWithRedirect(h){var p=this;return(0,w.Z)(function*(){return yield Su(Gn(p.auth)),function ae(y,h,p){return function be(y,h,p){return Ke.apply(this,arguments)}(y,h,p)}(p._delegate,h,ps)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,w.Z)(function*(){return Yr(p.auth,va(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return af(this.auth,function gd(y,h,p){return Ua.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Yr(this.auth,function lc(y,h,p){return md.apply(this,arguments)}(this._delegate,h,ps))}reauthenticateWithRedirect(h){var p=this;return(0,w.Z)(function*(){return yield Su(Gn(p.auth)),function M(y,h,p){return function P(y,h,p){return H.apply(this,arguments)}(y,h,p)}(p._delegate,h,ps)})()}sendEmailVerification(h){return function Da(y,h){return ni.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,w.Z)(function*(){return yield function Kr(y,h){return ks.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function D(y,h){return T((0,U.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function O(y,h){return T((0,U.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function oc(y,h){return al.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function du(y,h){return hu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function To(y,h,p){return Gi.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wo.USER_MAP=new WeakMap;const Mu=q;let Vd=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=p.options;Mu(R,"invalid-api-key",{appName:p.name}),Mu(R,"invalid-api-key",{appName:p.name});const V=typeof window<"u"?ps:void 0;this._delegate=v.initialize({options:{persistence:Ud(R,p.name),popupRedirectResolver:V}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function ua(y,h,p){const v=Gn(y);q(v._canInitEmulator,v,"emulator-config-failed"),q(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const R=!!p?.disableWarnings,V=di(h),{host:re,port:Me}=function ar(y){const h=di(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(v);if(R){const V=R[1];return{host:V,port:Xi(v.substr(V.length+1))}}{const[V,re]=v.split(":");return{host:V,port:Xi(re)}}}(h);v.config.emulator={url:`${V}//${re}${null===Me?"":`:${Me}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:re,port:Me,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function ei(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function fi(y,h){return as.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return us(this._delegate,p)}confirmPasswordReset(p,v){return function ba(y,h,p){return no.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var R=this;return(0,w.Z)(function*(){return Yr(R._delegate,function ro(y,h,p){return Vn.apply(this,arguments)}(R._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Ia(y,h){return io.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function ls(y,h){return"EMAIL_SIGNIN"===Eo.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,w.Z)(function*(){Mu(_c(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function ct(y,h){return Pt.apply(this,arguments)}(p._delegate,ps);return v?Yr(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function lg(y,h){Gn(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,R){const{next:V,error:re,complete:Me}=xu(p,v,R);return this._delegate.onAuthStateChanged(V,re,Me)}onIdTokenChanged(p,v,R){const{next:V,error:re,complete:Me}=xu(p,v,R);return this._delegate.onIdTokenChanged(V,re,Me)}sendSignInLinkToEmail(p,v){return function cu(y,h,p){return vs.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function to(y,h,p){return nr.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,w.Z)(function*(){let R;switch(function hg(y,h){Ec(Object.values(fs).includes(h),y,"invalid-persistence-type"),(0,U.b$)()?Ec(h!==fs.SESSION,y,"unsupported-persistence-type"):(0,U.UG)()?Ec(h===fs.NONE,y,"unsupported-persistence-type"):yc()?Ec(h===fs.NONE||h===fs.LOCAL&&(0,U.hl)(),y,"unsupported-persistence-type"):Ec(h===fs.NONE||mc(),y,"unsupported-persistence-type")}(v._delegate,p),p){case fs.SESSION:R=pi;break;case fs.LOCAL:R=(yield ye(Pa)._isAvailable())?Pa:fu;break;case fs.NONE:R=z;break;default:return $e("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Yr(this._delegate,function Jl(y){return Nn.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Yr(this._delegate,Yn(this._delegate,p))}signInWithCustomToken(p){return Yr(this._delegate,function uu(y,h){return Ls.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Yr(this._delegate,function $i(y,h,p){return Yn((0,U.m9)(y),Fn.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return Yr(this._delegate,function Qu(y,h,p){return cs.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return af(this._delegate,function sc(y,h,p){return _u.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,w.Z)(function*(){return Mu(_c(),v._delegate,"operation-not-supported-in-this-environment"),Yr(v._delegate,function uc(y,h,p){return bu.apply(this,arguments)}(v._delegate,p,ps))})()}signInWithRedirect(p){var v=this;return(0,w.Z)(function*(){return Mu(_c(),v._delegate,"operation-not-supported-in-this-environment"),yield Su(v._delegate),function gr(y,h,p){return function Kh(y,h,p){return C.apply(this,arguments)}(y,h,p)}(v._delegate,p,ps)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function wa(y,h){return lu.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=fs,y})();function xu(y,h,p){let v=y;"function"!=typeof y&&({next:v,error:h,complete:p}=y);const R=v;return{next:re=>R(re&&Wo.getOrCreate(re)),error:h,complete:p}}function Ud(y,h){const p=function Iy(y,h){const p=yl();if(!p)return[];const v=ie(Go,y,h);switch(p.getItem(v)){case fs.NONE:return[z];case fs.LOCAL:return[Pa,pi];case fs.SESSION:return[pi];default:return[]}}(y,h);if(typeof self<"u"&&!p.includes(Pa)&&p.push(Pa),typeof window<"u")for(const v of[fu,pi])p.includes(v)||p.push(v);return p.includes(z)||p.push(z),p}class qo{constructor(){this.providerId="phone",this._delegate=new vu(fg(g.Z.auth()))}static credential(h,p){return vu.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}qo.PHONE_SIGN_IN_METHOD=vu.PHONE_SIGN_IN_METHOD,qo.PROVIDER_ID=vu.PROVIDER_ID;const Bd=q;class uf{constructor(h,p,v=g.Z.app()){var R;Bd(null===(R=v.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Nr(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lf(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Vd(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fn,FacebookAuthProvider:bo,GithubAuthProvider:pa,GoogleAuthProvider:wo,OAuthProvider:Ns,SAMLAuthProvider:ti,PhoneAuthProvider:qo,PhoneMultiFactorGenerator:hl,RecaptchaVerifier:uf,TwitterAuthProvider:Wr,Auth:Vd,AuthCredential:ur,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.24")}(g.Z)},9751:(yt,De,k)=>{k.d(De,{y:()=>fe});var w=k(930),g=k(727),U=k(8822),se=k(9635),ne=k(2416),de=k(576),le=k(2806);let fe=(()=>{class te{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const xe=new te;return xe.source=this,xe.operator=Be,xe}subscribe(Be,xe,lt){const Te=function K(te){return te&&te instanceof w.Lv||function $(te){return te&&(0,de.m)(te.next)&&(0,de.m)(te.error)&&(0,de.m)(te.complete)}(te)&&(0,g.Nn)(te)}(Be)?Be:new w.Hp(Be,xe,lt);return(0,le.x)(()=>{const{operator:ve,source:ht}=this;Te.add(ve?ve.call(Te,ht):ht?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Be){try{return this._subscribe(Be)}catch(xe){Be.error(xe)}}forEach(Be,xe){return new(xe=pe(xe))((lt,Te)=>{const ve=new w.Hp({next:ht=>{try{Be(ht)}catch(vt){Te(vt),ve.unsubscribe()}},error:Te,complete:lt});this.subscribe(ve)})}_subscribe(Be){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Be)}[U.L](){return this}pipe(...Be){return(0,se.U)(Be)(this)}toPromise(Be){return new(Be=pe(Be))((xe,lt)=>{let Te;this.subscribe(ve=>Te=ve,ve=>lt(ve),()=>xe(Te))})}}return te.create=Qe=>new te(Qe),te})();function pe(te){var Qe;return null!==(Qe=te??ne.v.Promise)&&void 0!==Qe?Qe:Promise}},4707:(yt,De,k)=>{k.d(De,{t:()=>U});var w=k(7579),g=k(6063);class U extends w.x{constructor(ne=1/0,de=1/0,le=g.l){super(),this._bufferSize=ne,this._windowTime=de,this._timestampProvider=le,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=de===1/0,this._bufferSize=Math.max(1,ne),this._windowTime=Math.max(1,de)}next(ne){const{isStopped:de,_buffer:le,_infiniteTimeWindow:fe,_timestampProvider:pe,_windowTime:$}=this;de||(le.push(ne),!fe&&le.push(pe.now()+$)),this._trimBuffer(),super.next(ne)}_subscribe(ne){this._throwIfClosed(),this._trimBuffer();const de=this._innerSubscribe(ne),{_infiniteTimeWindow:le,_buffer:fe}=this,pe=fe.slice();for(let $=0;$<pe.length&&!ne.closed;$+=le?1:2)ne.next(pe[$]);return this._checkFinalizedStatuses(ne),de}_trimBuffer(){const{_bufferSize:ne,_timestampProvider:de,_buffer:le,_infiniteTimeWindow:fe}=this,pe=(fe?1:2)*ne;if(ne<1/0&&pe<le.length&&le.splice(0,le.length-pe),!fe){const $=de.now();let K=0;for(let te=1;te<le.length&&le[te]<=$;te+=2)K=te;K&&le.splice(0,K+1)}}}},7579:(yt,De,k)=>{k.d(De,{x:()=>le});var w=k(9751),g=k(727);const se=(0,k(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),de=k(2806);let le=(()=>{class pe extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const te=new fe(this,this);return te.operator=K,te}_throwIfClosed(){if(this.closed)throw new se}next(K){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(K)}})}error(K){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:te}=this;for(;te.length;)te.shift().error(K)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:te,isStopped:Qe,observers:Be}=this;return te||Qe?g.Lc:(this.currentObservers=null,Be.push(K),new g.w0(()=>{this.currentObservers=null,(0,ne.P)(Be,K)}))}_checkFinalizedStatuses(K){const{hasError:te,thrownError:Qe,isStopped:Be}=this;te?K.error(Qe):Be&&K.complete()}asObservable(){const K=new w.y;return K.source=this,K}}return pe.create=($,K)=>new fe($,K),pe})();class fe extends le{constructor($,K){super(),this.destination=$,this.source=K}next($){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===te||te.call(K,$)}error($){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===te||te.call(K,$)}complete(){var $,K;null===(K=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===K||K.call($)}_subscribe($){var K,te;return null!==(te=null===(K=this.source)||void 0===K?void 0:K.subscribe($))&&void 0!==te?te:g.Lc}}},930:(yt,De,k)=>{k.d(De,{Hp:()=>lt,Lv:()=>te});var w=k(576),g=k(727),U=k(2416),se=k(7849),ne=k(5032);const de=pe("C",void 0,void 0);function pe($e,ke,Ue){return{kind:$e,value:ke,error:Ue}}var $=k(3410),K=k(2806);class te extends g.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,g.Nn)(ke)&&ke.add(this)):this.destination=vt}static create(ke,Ue,nt){return new lt(ke,Ue,nt)}next(ke){this.isStopped?ht(function fe($e){return pe("N",$e,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?ht(function le($e){return pe("E",void 0,$e)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?ht(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Be($e,ke){return Qe.call($e,ke)}class xe{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ue}=this;if(Ue.next)try{Ue.next(ke)}catch(nt){Te(nt)}}error(ke){const{partialObserver:Ue}=this;if(Ue.error)try{Ue.error(ke)}catch(nt){Te(nt)}else Te(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ue){Te(Ue)}}}class lt extends te{constructor(ke,Ue,nt){let rt;if(super(),(0,w.m)(ke)||!ke)rt={next:ke??void 0,error:Ue??void 0,complete:nt??void 0};else{let q;this&&U.v.useDeprecatedNextContext?(q=Object.create(ke),q.unsubscribe=()=>this.unsubscribe(),rt={next:ke.next&&Be(ke.next,q),error:ke.error&&Be(ke.error,q),complete:ke.complete&&Be(ke.complete,q)}):rt=ke}this.destination=new xe(rt)}}function Te($e){U.v.useDeprecatedSynchronousErrorHandling?(0,K.O)($e):(0,se.h)($e)}function ht($e,ke){const{onStoppedNotification:Ue}=U.v;Ue&&$.z.setTimeout(()=>Ue($e,ke))}const vt={closed:!0,next:ne.Z,error:function ve($e){throw $e},complete:ne.Z}},727:(yt,De,k)=>{k.d(De,{Lc:()=>de,w0:()=>ne,Nn:()=>le});var w=k(576);const U=(0,k(3888).d)(pe=>function(K){pe(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((te,Qe)=>`${Qe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var se=k(8737);class ne{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Be of K)Be.remove(this);else K.remove(this);const{initialTeardown:te}=this;if((0,w.m)(te))try{te()}catch(Be){$=Be instanceof U?Be.errors:[Be]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Be of Qe)try{fe(Be)}catch(xe){$=$??[],xe instanceof U?$=[...$,...xe.errors]:$.push(xe)}}if($)throw new U($)}}add($){var K;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ne){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push($)}}_hasParent($){const{_parentage:K}=this;return K===$||Array.isArray(K)&&K.includes($)}_addParent($){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push($),K):K?[K,$]:$}_removeParent($){const{_parentage:K}=this;K===$?this._parentage=null:Array.isArray(K)&&(0,se.P)(K,$)}remove($){const{_finalizers:K}=this;K&&(0,se.P)(K,$),$ instanceof ne&&$._removeParent(this)}}ne.EMPTY=(()=>{const pe=new ne;return pe.closed=!0,pe})();const de=ne.EMPTY;function le(pe){return pe instanceof ne||pe&&"closed"in pe&&(0,w.m)(pe.remove)&&(0,w.m)(pe.add)&&(0,w.m)(pe.unsubscribe)}function fe(pe){(0,w.m)(pe)?pe():pe.unsubscribe()}},2416:(yt,De,k)=>{k.d(De,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(yt,De,k)=>{k.d(De,{z:()=>ne});var w=k(8189),U=k(3269),se=k(8996);function ne(...de){return function g(){return(0,w.J)(1)}()((0,se.D)(de,(0,U.yG)(de)))}},9770:(yt,De,k)=>{k.d(De,{P:()=>U});var w=k(9751),g=k(8421);function U(se){return new w.y(ne=>{(0,g.Xf)(se()).subscribe(ne)})}},515:(yt,De,k)=>{k.d(De,{E:()=>g});const g=new(k(9751).y)(ne=>ne.complete())},4128:(yt,De,k)=>{k.d(De,{D:()=>fe});var w=k(9751),g=k(4742),U=k(8421),se=k(3269),ne=k(5403),de=k(3268),le=k(1810);function fe(...pe){const $=(0,se.jO)(pe),{args:K,keys:te}=(0,g.D)(pe),Qe=new w.y(Be=>{const{length:xe}=K;if(!xe)return void Be.complete();const lt=new Array(xe);let Te=xe,ve=xe;for(let ht=0;ht<xe;ht++){let vt=!1;(0,U.Xf)(K[ht]).subscribe((0,ne.x)(Be,$e=>{vt||(vt=!0,ve--),lt[ht]=$e},()=>Te--,void 0,()=>{(!Te||!vt)&&(ve||Be.next(te?(0,le.n)(te,lt):lt),Be.complete())}))}});return $?Qe.pipe((0,de.Z)($)):Qe}},8996:(yt,De,k)=>{k.d(De,{D:()=>ke});var w=k(8421),g=k(5363),U=k(9468),de=k(9751),fe=k(2202),pe=k(576),$=k(9672);function te(Ue,nt){if(!Ue)throw new Error("Iterable cannot be null");return new de.y(rt=>{(0,$.f)(rt,nt,()=>{const q=Ue[Symbol.asyncIterator]();(0,$.f)(rt,nt,()=>{q.next().then(_e=>{_e.done?rt.complete():rt.next(_e.value)})},0,!0)})})}var Qe=k(3670),Be=k(8239),xe=k(1144),lt=k(6495),Te=k(2206),ve=k(4532),ht=k(3260);function ke(Ue,nt){return nt?function $e(Ue,nt){if(null!=Ue){if((0,Qe.c)(Ue))return function se(Ue,nt){return(0,w.Xf)(Ue).pipe((0,U.R)(nt),(0,g.Q)(nt))}(Ue,nt);if((0,xe.z)(Ue))return function le(Ue,nt){return new de.y(rt=>{let q=0;return nt.schedule(function(){q===Ue.length?rt.complete():(rt.next(Ue[q++]),rt.closed||this.schedule())})})}(Ue,nt);if((0,Be.t)(Ue))return function ne(Ue,nt){return(0,w.Xf)(Ue).pipe((0,U.R)(nt),(0,g.Q)(nt))}(Ue,nt);if((0,Te.D)(Ue))return te(Ue,nt);if((0,lt.T)(Ue))return function K(Ue,nt){return new de.y(rt=>{let q;return(0,$.f)(rt,nt,()=>{q=Ue[fe.h](),(0,$.f)(rt,nt,()=>{let _e,ee;try{({value:_e,done:ee}=q.next())}catch(ue){return void rt.error(ue)}ee?rt.complete():rt.next(_e)},0,!0)}),()=>(0,pe.m)(q?.return)&&q.return()})}(Ue,nt);if((0,ht.L)(Ue))return function vt(Ue,nt){return te((0,ht.Q)(Ue),nt)}(Ue,nt)}throw(0,ve.z)(Ue)}(Ue,nt):(0,w.Xf)(Ue)}},8421:(yt,De,k)=>{k.d(De,{Xf:()=>Qe});var w=k(655),g=k(1144),U=k(8239),se=k(9751),ne=k(3670),de=k(2206),le=k(4532),fe=k(6495),pe=k(3260),$=k(576),K=k(7849),te=k(8822);function Qe($e){if($e instanceof se.y)return $e;if(null!=$e){if((0,ne.c)($e))return function Be($e){return new se.y(ke=>{const Ue=$e[te.L]();if((0,$.m)(Ue.subscribe))return Ue.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,g.z)($e))return function xe($e){return new se.y(ke=>{for(let Ue=0;Ue<$e.length&&!ke.closed;Ue++)ke.next($e[Ue]);ke.complete()})}($e);if((0,U.t)($e))return function lt($e){return new se.y(ke=>{$e.then(Ue=>{ke.closed||(ke.next(Ue),ke.complete())},Ue=>ke.error(Ue)).then(null,K.h)})}($e);if((0,de.D)($e))return ve($e);if((0,fe.T)($e))return function Te($e){return new se.y(ke=>{for(const Ue of $e)if(ke.next(Ue),ke.closed)return;ke.complete()})}($e);if((0,pe.L)($e))return function ht($e){return ve((0,pe.Q)($e))}($e)}throw(0,le.z)($e)}function ve($e){return new se.y(ke=>{(function vt($e,ke){var Ue,nt,rt,q;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Ue=(0,w.KL)($e);!(nt=yield Ue.next()).done;)if(ke.next(nt.value),ke.closed)return}catch(_e){rt={error:_e}}finally{try{nt&&!nt.done&&(q=Ue.return)&&(yield q.call(Ue))}finally{if(rt)throw rt.error}}ke.complete()})})($e,ke).catch(Ue=>ke.error(Ue))})}},6451:(yt,De,k)=>{k.d(De,{T:()=>de});var w=k(8189),g=k(8421),U=k(515),se=k(3269),ne=k(8996);function de(...le){const fe=(0,se.yG)(le),pe=(0,se._6)(le,1/0),$=le;return $.length?1===$.length?(0,g.Xf)($[0]):(0,w.J)(pe)((0,ne.D)($,fe)):U.E}},9646:(yt,De,k)=>{k.d(De,{of:()=>U});var w=k(3269),g=k(8996);function U(...se){const ne=(0,w.yG)(se);return(0,g.D)(se,ne)}},5403:(yt,De,k)=>{k.d(De,{x:()=>g});var w=k(930);function g(se,ne,de,le,fe){return new U(se,ne,de,le,fe)}class U extends w.Lv{constructor(ne,de,le,fe,pe,$){super(ne),this.onFinalize=pe,this.shouldUnsubscribe=$,this._next=de?function(K){try{de(K)}catch(te){ne.error(te)}}:super._next,this._error=fe?function(K){try{fe(K)}catch(te){ne.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(K){ne.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4351:(yt,De,k)=>{k.d(De,{b:()=>U});var w=k(5577),g=k(576);function U(se,ne){return(0,g.m)(ne)?(0,w.z)(se,ne,1):(0,w.z)(se,1)}},9300:(yt,De,k)=>{k.d(De,{h:()=>U});var w=k(4482),g=k(5403);function U(se,ne){return(0,w.e)((de,le)=>{let fe=0;de.subscribe((0,g.x)(le,pe=>se.call(ne,pe,fe++)&&le.next(pe)))})}},4004:(yt,De,k)=>{k.d(De,{U:()=>U});var w=k(4482),g=k(5403);function U(se,ne){return(0,w.e)((de,le)=>{let fe=0;de.subscribe((0,g.x)(le,pe=>{le.next(se.call(ne,pe,fe++))}))})}},8189:(yt,De,k)=>{k.d(De,{J:()=>U});var w=k(5577),g=k(4671);function U(se=1/0){return(0,w.z)(g.y,se)}},5577:(yt,De,k)=>{k.d(De,{z:()=>fe});var w=k(4004),g=k(8421),U=k(4482),se=k(9672),ne=k(5403),le=k(576);function fe(pe,$,K=1/0){return(0,le.m)($)?fe((te,Qe)=>(0,w.U)((Be,xe)=>$(te,Be,Qe,xe))((0,g.Xf)(pe(te,Qe))),K):("number"==typeof $&&(K=$),(0,U.e)((te,Qe)=>function de(pe,$,K,te,Qe,Be,xe,lt){const Te=[];let ve=0,ht=0,vt=!1;const $e=()=>{vt&&!Te.length&&!ve&&$.complete()},ke=nt=>ve<te?Ue(nt):Te.push(nt),Ue=nt=>{Be&&$.next(nt),ve++;let rt=!1;(0,g.Xf)(K(nt,ht++)).subscribe((0,ne.x)($,q=>{Qe?.(q),Be?ke(q):$.next(q)},()=>{rt=!0},void 0,()=>{if(rt)try{for(ve--;Te.length&&ve<te;){const q=Te.shift();xe?(0,se.f)($,xe,()=>Ue(q)):Ue(q)}$e()}catch(q){$.error(q)}}))};return pe.subscribe((0,ne.x)($,ke,()=>{vt=!0,$e()})),()=>{lt?.()}}(te,Qe,pe,K)))}},5363:(yt,De,k)=>{k.d(De,{Q:()=>se});var w=k(9672),g=k(4482),U=k(5403);function se(ne,de=0){return(0,g.e)((le,fe)=>{le.subscribe((0,U.x)(fe,pe=>(0,w.f)(fe,ne,()=>fe.next(pe),de),()=>(0,w.f)(fe,ne,()=>fe.complete(),de),pe=>(0,w.f)(fe,ne,()=>fe.error(pe),de)))})}},3099:(yt,De,k)=>{k.d(De,{B:()=>ne});var w=k(8421),g=k(7579),U=k(930),se=k(4482);function ne(le={}){const{connector:fe=(()=>new g.x),resetOnError:pe=!0,resetOnComplete:$=!0,resetOnRefCountZero:K=!0}=le;return te=>{let Qe,Be,xe,lt=0,Te=!1,ve=!1;const ht=()=>{Be?.unsubscribe(),Be=void 0},vt=()=>{ht(),Qe=xe=void 0,Te=ve=!1},$e=()=>{const ke=Qe;vt(),ke?.unsubscribe()};return(0,se.e)((ke,Ue)=>{lt++,!ve&&!Te&&ht();const nt=xe=xe??fe();Ue.add(()=>{lt--,0===lt&&!ve&&!Te&&(Be=de($e,K))}),nt.subscribe(Ue),!Qe&&lt>0&&(Qe=new U.Hp({next:rt=>nt.next(rt),error:rt=>{ve=!0,ht(),Be=de(vt,pe,rt),nt.error(rt)},complete:()=>{Te=!0,ht(),Be=de(vt,$),nt.complete()}}),(0,w.Xf)(ke).subscribe(Qe))})(te)}}function de(le,fe,...pe){if(!0===fe)return void le();if(!1===fe)return;const $=new U.Hp({next:()=>{$.unsubscribe(),le()}});return fe(...pe).subscribe($)}},4782:(yt,De,k)=>{k.d(De,{d:()=>U});var w=k(4707),g=k(3099);function U(se,ne,de){let le,fe=!1;return se&&"object"==typeof se?({bufferSize:le=1/0,windowTime:ne=1/0,refCount:fe=!1,scheduler:de}=se):le=se??1/0,(0,g.B)({connector:()=>new w.t(le,ne,de),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:fe})}},9468:(yt,De,k)=>{k.d(De,{R:()=>g});var w=k(4482);function g(U,se=0){return(0,w.e)((ne,de)=>{de.add(U.schedule(()=>ne.subscribe(de),se))})}},3900:(yt,De,k)=>{k.d(De,{w:()=>se});var w=k(8421),g=k(4482),U=k(5403);function se(ne,de){return(0,g.e)((le,fe)=>{let pe=null,$=0,K=!1;const te=()=>K&&!pe&&fe.complete();le.subscribe((0,U.x)(fe,Qe=>{pe?.unsubscribe();let Be=0;const xe=$++;(0,w.Xf)(ne(Qe,xe)).subscribe(pe=(0,U.x)(fe,lt=>fe.next(de?de(Qe,lt,xe,Be++):lt),()=>{pe=null,te()}))},()=>{K=!0,te()}))})}},5698:(yt,De,k)=>{k.d(De,{q:()=>se});var w=k(515),g=k(4482),U=k(5403);function se(ne){return ne<=0?()=>w.E:(0,g.e)((de,le)=>{let fe=0;de.subscribe((0,U.x)(le,pe=>{++fe<=ne&&(le.next(pe),ne<=fe&&le.complete())}))})}},8505:(yt,De,k)=>{k.d(De,{b:()=>ne});var w=k(576),g=k(4482),U=k(5403),se=k(4671);function ne(de,le,fe){const pe=(0,w.m)(de)||le||fe?{next:de,error:le,complete:fe}:de;return pe?(0,g.e)(($,K)=>{var te;null===(te=pe.subscribe)||void 0===te||te.call(pe);let Qe=!0;$.subscribe((0,U.x)(K,Be=>{var xe;null===(xe=pe.next)||void 0===xe||xe.call(pe,Be),K.next(Be)},()=>{var Be;Qe=!1,null===(Be=pe.complete)||void 0===Be||Be.call(pe),K.complete()},Be=>{var xe;Qe=!1,null===(xe=pe.error)||void 0===xe||xe.call(pe,Be),K.error(Be)},()=>{var Be,xe;Qe&&(null===(Be=pe.unsubscribe)||void 0===Be||Be.call(pe)),null===(xe=pe.finalize)||void 0===xe||xe.call(pe)}))}):se.y}},4408:(yt,De,k)=>{k.d(De,{o:()=>ne});var w=k(727);class g extends w.w0{constructor(le,fe){super()}schedule(le,fe=0){return this}}const U={setInterval(de,le,...fe){const{delegate:pe}=U;return pe?.setInterval?pe.setInterval(de,le,...fe):setInterval(de,le,...fe)},clearInterval(de){const{delegate:le}=U;return(le?.clearInterval||clearInterval)(de)},delegate:void 0};var se=k(8737);class ne extends g{constructor(le,fe){super(le,fe),this.scheduler=le,this.work=fe,this.pending=!1}schedule(le,fe=0){var pe;if(this.closed)return this;this.state=le;const $=this.id,K=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(K,$,fe)),this.pending=!0,this.delay=fe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(K,this.id,fe),this}requestAsyncId(le,fe,pe=0){return U.setInterval(le.flush.bind(le,this),pe)}recycleAsyncId(le,fe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return fe;null!=fe&&U.clearInterval(fe)}execute(le,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(le,fe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,fe){let $,pe=!1;try{this.work(le)}catch(K){pe=!0,$=K||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:le,scheduler:fe}=this,{actions:pe}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=le&&(this.id=this.recycleAsyncId(fe,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,De,k)=>{k.d(De,{v:()=>U});var w=k(6063);class g{constructor(ne,de=g.now){this.schedulerActionCtor=ne,this.now=de}schedule(ne,de=0,le){return new this.schedulerActionCtor(this,ne).schedule(le,de)}}g.now=w.l.now;class U extends g{constructor(ne,de=g.now){super(ne,de),this.actions=[],this._active=!1}flush(ne){const{actions:de}=this;if(this._active)return void de.push(ne);let le;this._active=!0;do{if(le=ne.execute(ne.state,ne.delay))break}while(ne=de.shift());if(this._active=!1,le){for(;ne=de.shift();)ne.unsubscribe();throw le}}}},4986:(yt,De,k)=>{k.d(De,{P:()=>se,z:()=>U});var w=k(4408);const U=new(k(7565).v)(w.o),se=U},6063:(yt,De,k)=>{k.d(De,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(yt,De,k)=>{k.d(De,{z:()=>w});const w={setTimeout(g,U,...se){const{delegate:ne}=w;return ne?.setTimeout?ne.setTimeout(g,U,...se):setTimeout(g,U,...se)},clearTimeout(g){const{delegate:U}=w;return(U?.clearTimeout||clearTimeout)(g)},delegate:void 0}},2202:(yt,De,k)=>{k.d(De,{h:()=>g});const g=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,De,k)=>{k.d(De,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,De,k)=>{k.d(De,{_6:()=>de,jO:()=>se,yG:()=>ne});var w=k(576),g=k(3532);function U(le){return le[le.length-1]}function se(le){return(0,w.m)(U(le))?le.pop():void 0}function ne(le){return(0,g.K)(U(le))?le.pop():void 0}function de(le,fe){return"number"==typeof U(le)?le.pop():fe}},4742:(yt,De,k)=>{k.d(De,{D:()=>ne});const{isArray:w}=Array,{getPrototypeOf:g,prototype:U,keys:se}=Object;function ne(le){if(1===le.length){const fe=le[0];if(w(fe))return{args:fe,keys:null};if(function de(le){return le&&"object"==typeof le&&g(le)===U}(fe)){const pe=se(fe);return{args:pe.map($=>fe[$]),keys:pe}}}return{args:le,keys:null}}},8737:(yt,De,k)=>{function w(g,U){if(g){const se=g.indexOf(U);0<=se&&g.splice(se,1)}}k.d(De,{P:()=>w})},3888:(yt,De,k)=>{function w(g){const se=g(ne=>{Error.call(ne),ne.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(De,{d:()=>w})},1810:(yt,De,k)=>{function w(g,U){return g.reduce((se,ne,de)=>(se[ne]=U[de],se),{})}k.d(De,{n:()=>w})},2806:(yt,De,k)=>{k.d(De,{O:()=>se,x:()=>U});var w=k(2416);let g=null;function U(ne){if(w.v.useDeprecatedSynchronousErrorHandling){const de=!g;if(de&&(g={errorThrown:!1,error:null}),ne(),de){const{errorThrown:le,error:fe}=g;if(g=null,le)throw fe}}else ne()}function se(ne){w.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=ne)}},9672:(yt,De,k)=>{function w(g,U,se,ne=0,de=!1){const le=U.schedule(function(){se(),de?g.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(g.add(le),!de)return le}k.d(De,{f:()=>w})},4671:(yt,De,k)=>{function w(g){return g}k.d(De,{y:()=>w})},1144:(yt,De,k)=>{k.d(De,{z:()=>w});const w=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(yt,De,k)=>{k.d(De,{D:()=>g});var w=k(576);function g(U){return Symbol.asyncIterator&&(0,w.m)(U?.[Symbol.asyncIterator])}},576:(yt,De,k)=>{function w(g){return"function"==typeof g}k.d(De,{m:()=>w})},3670:(yt,De,k)=>{k.d(De,{c:()=>U});var w=k(8822),g=k(576);function U(se){return(0,g.m)(se[w.L])}},6495:(yt,De,k)=>{k.d(De,{T:()=>U});var w=k(2202),g=k(576);function U(se){return(0,g.m)(se?.[w.h])}},5191:(yt,De,k)=>{k.d(De,{b:()=>U});var w=k(9751),g=k(576);function U(se){return!!se&&(se instanceof w.y||(0,g.m)(se.lift)&&(0,g.m)(se.subscribe))}},8239:(yt,De,k)=>{k.d(De,{t:()=>g});var w=k(576);function g(U){return(0,w.m)(U?.then)}},3260:(yt,De,k)=>{k.d(De,{L:()=>se,Q:()=>U});var w=k(655),g=k(576);function U(ne){return(0,w.FC)(this,arguments,function*(){const le=ne.getReader();try{for(;;){const{value:fe,done:pe}=yield(0,w.qq)(le.read());if(pe)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(fe)}}finally{le.releaseLock()}})}function se(ne){return(0,g.m)(ne?.getReader)}},3532:(yt,De,k)=>{k.d(De,{K:()=>g});var w=k(576);function g(U){return U&&(0,w.m)(U.schedule)}},4482:(yt,De,k)=>{k.d(De,{A:()=>g,e:()=>U});var w=k(576);function g(se){return(0,w.m)(se?.lift)}function U(se){return ne=>{if(g(ne))return ne.lift(function(de){try{return se(de,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,De,k)=>{k.d(De,{Z:()=>se});var w=k(4004);const{isArray:g}=Array;function se(ne){return(0,w.U)(de=>function U(ne,de){return g(de)?ne(...de):ne(de)}(ne,de))}},5032:(yt,De,k)=>{function w(){}k.d(De,{Z:()=>w})},9635:(yt,De,k)=>{k.d(De,{U:()=>U,z:()=>g});var w=k(4671);function g(...se){return U(se)}function U(se){return 0===se.length?w.y:1===se.length?se[0]:function(de){return se.reduce((le,fe)=>fe(le),de)}}},7849:(yt,De,k)=>{k.d(De,{h:()=>U});var w=k(2416),g=k(3410);function U(se){g.z.setTimeout(()=>{const{onUnhandledError:ne}=w.v;if(!ne)throw se;ne(se)})}},4532:(yt,De,k)=>{function w(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>w})},655:(yt,De,k)=>{function se(ee,ue){var ye={};for(var me in ee)Object.prototype.hasOwnProperty.call(ee,me)&&ue.indexOf(me)<0&&(ye[me]=ee[me]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(me=Object.getOwnPropertySymbols(ee);Je<me.length;Je++)ue.indexOf(me[Je])<0&&Object.prototype.propertyIsEnumerable.call(ee,me[Je])&&(ye[me[Je]]=ee[me[Je]])}return ye}function fe(ee,ue,ye,me){return new(ye||(ye=Promise))(function(he,Ye){function Q(pt){try{Re(me.next(pt))}catch(Ot){Ye(Ot)}}function Oe(pt){try{Re(me.throw(pt))}catch(Ot){Ye(Ot)}}function Re(pt){pt.done?he(pt.value):function Je(he){return he instanceof ye?he:new ye(function(Ye){Ye(he)})}(pt.value).then(Q,Oe)}Re((me=me.apply(ee,ue||[])).next())})}function Te(ee){return this instanceof Te?(this.v=ee,this):new Te(ee)}function ve(ee,ue,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,me=ye.apply(ee,ue||[]),he=[];return Je={},Ye("next"),Ye("throw"),Ye("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Ye(Zt){me[Zt]&&(Je[Zt]=function(Jt){return new Promise(function(Hn,Ut){he.push([Zt,Jt,Hn,Ut])>1||Q(Zt,Jt)})})}function Q(Zt,Jt){try{!function Oe(Zt){Zt.value instanceof Te?Promise.resolve(Zt.value.v).then(Re,pt):Ot(he[0][2],Zt)}(me[Zt](Jt))}catch(Hn){Ot(he[0][3],Hn)}}function Re(Zt){Q("next",Zt)}function pt(Zt){Q("throw",Zt)}function Ot(Zt,Jt){Zt(Jt),he.shift(),he.length&&Q(he[0][0],he[0][1])}}function vt(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ue=ee[Symbol.asyncIterator];return ue?ue.call(ee):(ee=function te(ee){var ue="function"==typeof Symbol&&Symbol.iterator,ye=ue&&ee[ue],me=0;if(ye)return ye.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&me>=ee.length&&(ee=void 0),{value:ee&&ee[me++],done:!ee}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ye={},me("next"),me("throw"),me("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function me(he){ye[he]=ee[he]&&function(Ye){return new Promise(function(Q,Oe){!function Je(he,Ye,Q,Oe){Promise.resolve(Oe).then(function(Re){he({value:Re,done:Q})},Ye)}(Q,Oe,(Ye=ee[he](Ye)).done,Ye.value)})}}}k.d(De,{FC:()=>ve,KL:()=>vt,_T:()=>se,mG:()=>fe,qq:()=>Te})},6895:(yt,De,k)=>{k.d(De,{Do:()=>vt,EM:()=>ga,HT:()=>ne,JF:()=>Bi,K0:()=>le,Mx:()=>zr,NF:()=>is,O5:()=>_n,PM:()=>kt,S$:()=>Te,V_:()=>$,Ye:()=>$e,b0:()=>ht,bD:()=>ns,ez:()=>eo,q:()=>U,sg:()=>es,w_:()=>de});var w=k(4650);let g=null;function U(){return g}function ne(D){g||(g=D)}class de{}const le=new w.OlP("DocumentToken");let fe=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return function pe(){return(0,w.LFG)(K)}()},providedIn:"platform"}),D})();const $=new w.OlP("Location Initialized");let K=(()=>{class D extends fe{constructor(T){super(),this._doc=T,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(T){const F=U().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",T,!1),()=>F.removeEventListener("popstate",T)}onHashChange(T){const F=U().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",T,!1),()=>F.removeEventListener("hashchange",T)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(T){this.location.pathname=T}pushState(T,F,W){te()?this._history.pushState(T,F,W):this.location.hash=W}replaceState(T,F,W){te()?this._history.replaceState(T,F,W):this.location.hash=W}forward(){this._history.forward()}back(){this._history.back()}historyGo(T=0){this._history.go(T)}getState(){return this._history.state}}return D.\u0275fac=function(T){return new(T||D)(w.LFG(le))},D.\u0275prov=w.Yz7({token:D,factory:function(){return function Qe(){return new K((0,w.LFG)(le))}()},providedIn:"platform"}),D})();function te(){return!!window.history.pushState}function Be(D,O){if(0==D.length)return O;if(0==O.length)return D;let T=0;return D.endsWith("/")&&T++,O.startsWith("/")&&T++,2==T?D+O.substring(1):1==T?D+O:D+"/"+O}function xe(D){const O=D.match(/#|\?|$/),T=O&&O.index||D.length;return D.slice(0,T-("/"===D[T-1]?1:0))+D.slice(T)}function lt(D){return D&&"?"!==D[0]?"?"+D:D}let Te=(()=>{class D{historyGo(T){throw new Error("Not implemented")}}return D.\u0275fac=function(T){return new(T||D)},D.\u0275prov=w.Yz7({token:D,factory:function(){return(0,w.f3M)(ht)},providedIn:"root"}),D})();const ve=new w.OlP("appBaseHref");let ht=(()=>{class D extends Te{constructor(T,F){super(),this._platformLocation=T,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}prepareExternalUrl(T){return Be(this._baseHref,T)}path(T=!1){const F=this._platformLocation.pathname+lt(this._platformLocation.search),W=this._platformLocation.hash;return W&&T?`${F}${W}`:F}pushState(T,F,W,Ee){const Ne=this.prepareExternalUrl(W+lt(Ee));this._platformLocation.pushState(T,F,Ne)}replaceState(T,F,W,Ee){const Ne=this.prepareExternalUrl(W+lt(Ee));this._platformLocation.replaceState(T,F,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(w.LFG(fe),w.LFG(ve,8))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),vt=(()=>{class D extends Te{constructor(T,F){super(),this._platformLocation=T,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(T){this._removeListenerFns.push(this._platformLocation.onPopState(T),this._platformLocation.onHashChange(T))}getBaseHref(){return this._baseHref}path(T=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(T){const F=Be(this._baseHref,T);return F.length>0?"#"+F:F}pushState(T,F,W,Ee){let Ne=this.prepareExternalUrl(W+lt(Ee));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.pushState(T,F,Ne)}replaceState(T,F,W,Ee){let Ne=this.prepareExternalUrl(W+lt(Ee));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.replaceState(T,F,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(T=0){this._platformLocation.historyGo?.(T)}}return D.\u0275fac=function(T){return new(T||D)(w.LFG(fe),w.LFG(ve,8))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})(),$e=(()=>{class D{constructor(T){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=T;const F=this._locationStrategy.getBaseHref();this._baseHref=xe(nt(F)),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(T=!1){return this.normalize(this._locationStrategy.path(T))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(T,F=""){return this.path()==this.normalize(T+lt(F))}normalize(T){return D.stripTrailingSlash(function Ue(D,O){return D&&O.startsWith(D)?O.substring(D.length):O}(this._baseHref,nt(T)))}prepareExternalUrl(T){return T&&"/"!==T[0]&&(T="/"+T),this._locationStrategy.prepareExternalUrl(T)}go(T,F="",W=null){this._locationStrategy.pushState(W,"",T,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+lt(F)),W)}replaceState(T,F="",W=null){this._locationStrategy.replaceState(W,"",T,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(T+lt(F)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(T=0){this._locationStrategy.historyGo?.(T)}onUrlChange(T){return this._urlChangeListeners.push(T),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(T);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(T="",F){this._urlChangeListeners.forEach(W=>W(T,F))}subscribe(T,F,W){return this._subject.subscribe({next:T,error:F,complete:W})}}return D.normalizeQueryParams=lt,D.joinWithSlash=Be,D.stripTrailingSlash=xe,D.\u0275fac=function(T){return new(T||D)(w.LFG(Te))},D.\u0275prov=w.Yz7({token:D,factory:function(){return function ke(){return new $e((0,w.LFG)(Te))}()},providedIn:"root"}),D})();function nt(D){return D.replace(/\/index.html$/,"")}function zr(D,O){O=encodeURIComponent(O);for(const T of D.split(";")){const F=T.indexOf("="),[W,Ee]=-1==F?[T,""]:[T.slice(0,F),T.slice(F+1)];if(W.trim()===O)return decodeURIComponent(Ee)}return null}class Ms{constructor(O,T,F,W){this.$implicit=O,this.ngForOf=T,this.index=F,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let es=(()=>{class D{constructor(T,F,W){this._viewContainer=T,this._template=F,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(T){this._ngForOf=T,this._ngForOfDirty=!0}set ngForTrackBy(T){this._trackByFn=T}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(T){T&&(this._template=T)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const T=this._ngForOf;!this._differ&&T&&(this._differ=this._differs.find(T).create(this.ngForTrackBy))}if(this._differ){const T=this._differ.diff(this._ngForOf);T&&this._applyChanges(T)}}_applyChanges(T){const F=this._viewContainer;T.forEachOperation((W,Ee,Ne)=>{if(null==W.previousIndex)F.createEmbeddedView(this._template,new Ms(W.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)F.remove(null===Ee?void 0:Ee);else if(null!==Ee){const bt=F.get(Ee);F.move(bt,Ne),Ct(bt,W)}});for(let W=0,Ee=F.length;W<Ee;W++){const bt=F.get(W).context;bt.index=W,bt.count=Ee,bt.ngForOf=this._ngForOf}T.forEachIdentityChange(W=>{Ct(F.get(W.currentIndex),W)})}static ngTemplateContextGuard(T,F){return!0}}return D.\u0275fac=function(T){return new(T||D)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},D.\u0275dir=w.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Ct(D,O){D.context.$implicit=O.item}let _n=(()=>{class D{constructor(T,F){this._viewContainer=T,this._context=new xs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(T){this._context.$implicit=this._context.ngIf=T,this._updateView()}set ngIfThen(T){dn("ngIfThen",T),this._thenTemplateRef=T,this._thenViewRef=null,this._updateView()}set ngIfElse(T){dn("ngIfElse",T),this._elseTemplateRef=T,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(T,F){return!0}}return D.\u0275fac=function(T){return new(T||D)(w.Y36(w.s_b),w.Y36(w.Rgc))},D.\u0275dir=w.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class xs{constructor(){this.$implicit=null,this.ngIf=null}}function dn(D,O){if(O&&!O.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,w.AaK)(O)}'.`)}let eo=(()=>{class D{}return D.\u0275fac=function(T){return new(T||D)},D.\u0275mod=w.oAB({type:D}),D.\u0275inj=w.cJS({}),D})();const ns="browser";function is(D){return D===ns}function kt(D){return"server"===D}let ga=(()=>{class D{}return D.\u0275prov=(0,w.Yz7)({token:D,providedIn:"root",factory:()=>new Yu((0,w.LFG)(le),window)}),D})();class Yu{constructor(O,T){this.document=O,this.window=T,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const T=function Kr(D,O){const T=D.getElementById(O)||D.getElementsByName(O)[0];if(T)return T;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let W=F.currentNode;for(;W;){const Ee=W.shadowRoot;if(Ee){const Ne=Ee.getElementById(O)||Ee.querySelector(`[name="${O}"]`);if(Ne)return Ne}W=F.nextNode()}}return null}(this.document,O);T&&(this.scrollToElement(T),T.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const T=this.window.history;T&&T.scrollRestoration&&(T.scrollRestoration=O)}}scrollToElement(O){const T=O.getBoundingClientRect(),F=T.left+this.window.pageXOffset,W=T.top+this.window.pageYOffset,Ee=this.offset();this.window.scrollTo(F-Ee[0],W-Ee[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=qr(this.window.history)||qr(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qr(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Bi{}},529:(yt,De,k)=>{k.d(De,{JF:()=>Gr,dt:()=>_e,eN:()=>he});var w=k(6895),g=k(4650),U=k(9646),se=k(9751),ne=k(4351),de=k(9300),le=k(4004);class fe{}class pe{}class ${constructor(Y){this.normalizedNames=new Map,this.lazyUpdate=null,Y?this.lazyInit="string"==typeof Y?()=>{this.headers=new Map,Y.split("\n").forEach(G=>{const Ce=G.indexOf(":");if(Ce>0){const Ve=G.slice(0,Ce),Dt=Ve.toLowerCase(),Nt=G.slice(Ce+1).trim();this.maybeSetNormalizedName(Ve,Dt),this.headers.has(Dt)?this.headers.get(Dt).push(Nt):this.headers.set(Dt,[Nt])}})}:()=>{this.headers=new Map,Object.keys(Y).forEach(G=>{let Ce=Y[G];const Ve=G.toLowerCase();"string"==typeof Ce&&(Ce=[Ce]),Ce.length>0&&(this.headers.set(Ve,Ce),this.maybeSetNormalizedName(G,Ve))})}:this.headers=new Map}has(Y){return this.init(),this.headers.has(Y.toLowerCase())}get(Y){this.init();const G=this.headers.get(Y.toLowerCase());return G&&G.length>0?G[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Y){return this.init(),this.headers.get(Y.toLowerCase())||null}append(Y,G){return this.clone({name:Y,value:G,op:"a"})}set(Y,G){return this.clone({name:Y,value:G,op:"s"})}delete(Y,G){return this.clone({name:Y,value:G,op:"d"})}maybeSetNormalizedName(Y,G){this.normalizedNames.has(G)||this.normalizedNames.set(G,Y)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Y=>this.applyUpdate(Y)),this.lazyUpdate=null))}copyFrom(Y){Y.init(),Array.from(Y.headers.keys()).forEach(G=>{this.headers.set(G,Y.headers.get(G)),this.normalizedNames.set(G,Y.normalizedNames.get(G))})}clone(Y){const G=new $;return G.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,G.lazyUpdate=(this.lazyUpdate||[]).concat([Y]),G}applyUpdate(Y){const G=Y.name.toLowerCase();switch(Y.op){case"a":case"s":let Ce=Y.value;if("string"==typeof Ce&&(Ce=[Ce]),0===Ce.length)return;this.maybeSetNormalizedName(Y.name,G);const Ve=("a"===Y.op?this.headers.get(G):void 0)||[];Ve.push(...Ce),this.headers.set(G,Ve);break;case"d":const Dt=Y.value;if(Dt){let Nt=this.headers.get(G);if(!Nt)return;Nt=Nt.filter(fn=>-1===Dt.indexOf(fn)),0===Nt.length?(this.headers.delete(G),this.normalizedNames.delete(G)):this.headers.set(G,Nt)}else this.headers.delete(G),this.normalizedNames.delete(G)}}forEach(Y){this.init(),Array.from(this.normalizedNames.keys()).forEach(G=>Y(this.normalizedNames.get(G),this.headers.get(G)))}}class te{encodeKey(Y){return lt(Y)}encodeValue(Y){return lt(Y)}decodeKey(Y){return decodeURIComponent(Y)}decodeValue(Y){return decodeURIComponent(Y)}}const Be=/%(\d[a-f0-9])/gi,xe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lt(Pe){return encodeURIComponent(Pe).replace(Be,(Y,G)=>xe[G]??Y)}function Te(Pe){return`${Pe}`}class ve{constructor(Y={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Y.encoder||new te,Y.fromString){if(Y.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(Pe,Y){const G=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(Ve=>{const Dt=Ve.indexOf("="),[Nt,fn]=-1==Dt?[Y.decodeKey(Ve),""]:[Y.decodeKey(Ve.slice(0,Dt)),Y.decodeValue(Ve.slice(Dt+1))],at=G.get(Nt)||[];at.push(fn),G.set(Nt,at)}),G}(Y.fromString,this.encoder)}else Y.fromObject?(this.map=new Map,Object.keys(Y.fromObject).forEach(G=>{const Ce=Y.fromObject[G],Ve=Array.isArray(Ce)?Ce.map(Te):[Te(Ce)];this.map.set(G,Ve)})):this.map=null}has(Y){return this.init(),this.map.has(Y)}get(Y){this.init();const G=this.map.get(Y);return G?G[0]:null}getAll(Y){return this.init(),this.map.get(Y)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Y,G){return this.clone({param:Y,value:G,op:"a"})}appendAll(Y){const G=[];return Object.keys(Y).forEach(Ce=>{const Ve=Y[Ce];Array.isArray(Ve)?Ve.forEach(Dt=>{G.push({param:Ce,value:Dt,op:"a"})}):G.push({param:Ce,value:Ve,op:"a"})}),this.clone(G)}set(Y,G){return this.clone({param:Y,value:G,op:"s"})}delete(Y,G){return this.clone({param:Y,value:G,op:"d"})}toString(){return this.init(),this.keys().map(Y=>{const G=this.encoder.encodeKey(Y);return this.map.get(Y).map(Ce=>G+"="+this.encoder.encodeValue(Ce)).join("&")}).filter(Y=>""!==Y).join("&")}clone(Y){const G=new ve({encoder:this.encoder});return G.cloneFrom=this.cloneFrom||this,G.updates=(this.updates||[]).concat(Y),G}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Y=>this.map.set(Y,this.cloneFrom.map.get(Y))),this.updates.forEach(Y=>{switch(Y.op){case"a":case"s":const G=("a"===Y.op?this.map.get(Y.param):void 0)||[];G.push(Te(Y.value)),this.map.set(Y.param,G);break;case"d":if(void 0===Y.value){this.map.delete(Y.param);break}{let Ce=this.map.get(Y.param)||[];const Ve=Ce.indexOf(Te(Y.value));-1!==Ve&&Ce.splice(Ve,1),Ce.length>0?this.map.set(Y.param,Ce):this.map.delete(Y.param)}}}),this.cloneFrom=this.updates=null)}}class vt{constructor(){this.map=new Map}set(Y,G){return this.map.set(Y,G),this}get(Y){return this.map.has(Y)||this.map.set(Y,Y.defaultValue()),this.map.get(Y)}delete(Y){return this.map.delete(Y),this}has(Y){return this.map.has(Y)}keys(){return this.map.keys()}}function ke(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function Ue(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function nt(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class q{constructor(Y,G,Ce,Ve){let Dt;if(this.url=G,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Y.toUpperCase(),function $e(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ve?(this.body=void 0!==Ce?Ce:null,Dt=Ve):Dt=Ce,Dt&&(this.reportProgress=!!Dt.reportProgress,this.withCredentials=!!Dt.withCredentials,Dt.responseType&&(this.responseType=Dt.responseType),Dt.headers&&(this.headers=Dt.headers),Dt.context&&(this.context=Dt.context),Dt.params&&(this.params=Dt.params)),this.headers||(this.headers=new $),this.context||(this.context=new vt),this.params){const Nt=this.params.toString();if(0===Nt.length)this.urlWithParams=G;else{const fn=G.indexOf("?");this.urlWithParams=G+(-1===fn?"?":fn<G.length-1?"&":"")+Nt}}else this.params=new ve,this.urlWithParams=G}serializeBody(){return null===this.body?null:ke(this.body)||Ue(this.body)||nt(this.body)||function rt(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nt(this.body)?null:Ue(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Y={}){const G=Y.method||this.method,Ce=Y.url||this.url,Ve=Y.responseType||this.responseType,Dt=void 0!==Y.body?Y.body:this.body,Nt=void 0!==Y.withCredentials?Y.withCredentials:this.withCredentials,fn=void 0!==Y.reportProgress?Y.reportProgress:this.reportProgress;let at=Y.headers||this.headers,Pn=Y.params||this.params;const rn=Y.context??this.context;return void 0!==Y.setHeaders&&(at=Object.keys(Y.setHeaders).reduce((wr,Xt)=>wr.set(Xt,Y.setHeaders[Xt]),at)),Y.setParams&&(Pn=Object.keys(Y.setParams).reduce((wr,Xt)=>wr.set(Xt,Y.setParams[Xt]),Pn)),new q(G,Ce,Dt,{params:Pn,headers:at,context:rn,reportProgress:fn,responseType:Ve,withCredentials:Nt})}}var _e=(()=>((_e=_e||{})[_e.Sent=0]="Sent",_e[_e.UploadProgress=1]="UploadProgress",_e[_e.ResponseHeader=2]="ResponseHeader",_e[_e.DownloadProgress=3]="DownloadProgress",_e[_e.Response=4]="Response",_e[_e.User=5]="User",_e))();class ee{constructor(Y,G=200,Ce="OK"){this.headers=Y.headers||new $,this.status=void 0!==Y.status?Y.status:G,this.statusText=Y.statusText||Ce,this.url=Y.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends ee{constructor(Y={}){super(Y),this.type=_e.ResponseHeader}clone(Y={}){return new ue({headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class ye extends ee{constructor(Y={}){super(Y),this.type=_e.Response,this.body=void 0!==Y.body?Y.body:null}clone(Y={}){return new ye({body:void 0!==Y.body?Y.body:this.body,headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class me extends ee{constructor(Y){super(Y,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Y.url||"(unknown url)"}`:`Http failure response for ${Y.url||"(unknown url)"}: ${Y.status} ${Y.statusText}`,this.error=Y.error||null}}function Je(Pe,Y){return{body:Y,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let he=(()=>{class Pe{constructor(G){this.handler=G}request(G,Ce,Ve={}){let Dt;if(G instanceof q)Dt=G;else{let at,Pn;at=Ve.headers instanceof $?Ve.headers:new $(Ve.headers),Ve.params&&(Pn=Ve.params instanceof ve?Ve.params:new ve({fromObject:Ve.params})),Dt=new q(G,Ce,void 0!==Ve.body?Ve.body:null,{headers:at,context:Ve.context,params:Pn,reportProgress:Ve.reportProgress,responseType:Ve.responseType||"json",withCredentials:Ve.withCredentials})}const Nt=(0,U.of)(Dt).pipe((0,ne.b)(at=>this.handler.handle(at)));if(G instanceof q||"events"===Ve.observe)return Nt;const fn=Nt.pipe((0,de.h)(at=>at instanceof ye));switch(Ve.observe||"body"){case"body":switch(Dt.responseType){case"arraybuffer":return fn.pipe((0,le.U)(at=>{if(null!==at.body&&!(at.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return at.body}));case"blob":return fn.pipe((0,le.U)(at=>{if(null!==at.body&&!(at.body instanceof Blob))throw new Error("Response is not a Blob.");return at.body}));case"text":return fn.pipe((0,le.U)(at=>{if(null!==at.body&&"string"!=typeof at.body)throw new Error("Response is not a string.");return at.body}));default:return fn.pipe((0,le.U)(at=>at.body))}case"response":return fn;default:throw new Error(`Unreachable: unhandled observe type ${Ve.observe}}`)}}delete(G,Ce={}){return this.request("DELETE",G,Ce)}get(G,Ce={}){return this.request("GET",G,Ce)}head(G,Ce={}){return this.request("HEAD",G,Ce)}jsonp(G,Ce){return this.request("JSONP",G,{params:(new ve).append(Ce,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(G,Ce={}){return this.request("OPTIONS",G,Ce)}patch(G,Ce,Ve={}){return this.request("PATCH",G,Je(Ve,Ce))}post(G,Ce,Ve={}){return this.request("POST",G,Je(Ve,Ce))}put(G,Ce,Ve={}){return this.request("PUT",G,Je(Ve,Ce))}}return Pe.\u0275fac=function(G){return new(G||Pe)(g.LFG(fe))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class Ye{constructor(Y,G){this.next=Y,this.interceptor=G}handle(Y){return this.interceptor.intercept(Y,this.next)}}const Q=new g.OlP("HTTP_INTERCEPTORS");let Oe=(()=>{class Pe{intercept(G,Ce){return Ce.handle(G)}}return Pe.\u0275fac=function(G){return new(G||Pe)},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Hr=/^\)\]\}',?\n/;let Sr=(()=>{class Pe{constructor(G){this.xhrFactory=G}handle(G){if("JSONP"===G.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new se.y(Ce=>{const Ve=this.xhrFactory.build();if(Ve.open(G.method,G.urlWithParams),G.withCredentials&&(Ve.withCredentials=!0),G.headers.forEach((en,cn)=>Ve.setRequestHeader(en,cn.join(","))),G.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!G.headers.has("Content-Type")){const en=G.detectContentTypeHeader();null!==en&&Ve.setRequestHeader("Content-Type",en)}if(G.responseType){const en=G.responseType.toLowerCase();Ve.responseType="json"!==en?en:"text"}const Dt=G.serializeBody();let Nt=null;const fn=()=>{if(null!==Nt)return Nt;const en=Ve.statusText||"OK",cn=new $(Ve.getAllResponseHeaders()),Et=function Vr(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(Ve)||G.url;return Nt=new ue({headers:cn,status:Ve.status,statusText:en,url:Et}),Nt},at=()=>{let{headers:en,status:cn,statusText:Et,url:We}=fn(),ut=null;204!==cn&&(ut=typeof Ve.response>"u"?Ve.responseText:Ve.response),0===cn&&(cn=ut?200:0);let Ft=cn>=200&&cn<300;if("json"===G.responseType&&"string"==typeof ut){const Bt=ut;ut=ut.replace(Hr,"");try{ut=""!==ut?JSON.parse(ut):null}catch(Yt){ut=Bt,Ft&&(Ft=!1,ut={error:Yt,text:ut})}}Ft?(Ce.next(new ye({body:ut,headers:en,status:cn,statusText:Et,url:We||void 0})),Ce.complete()):Ce.error(new me({error:ut,headers:en,status:cn,statusText:Et,url:We||void 0}))},Pn=en=>{const{url:cn}=fn(),Et=new me({error:en,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:cn||void 0});Ce.error(Et)};let rn=!1;const wr=en=>{rn||(Ce.next(fn()),rn=!0);let cn={type:_e.DownloadProgress,loaded:en.loaded};en.lengthComputable&&(cn.total=en.total),"text"===G.responseType&&!!Ve.responseText&&(cn.partialText=Ve.responseText),Ce.next(cn)},Xt=en=>{let cn={type:_e.UploadProgress,loaded:en.loaded};en.lengthComputable&&(cn.total=en.total),Ce.next(cn)};return Ve.addEventListener("load",at),Ve.addEventListener("error",Pn),Ve.addEventListener("timeout",Pn),Ve.addEventListener("abort",Pn),G.reportProgress&&(Ve.addEventListener("progress",wr),null!==Dt&&Ve.upload&&Ve.upload.addEventListener("progress",Xt)),Ve.send(Dt),Ce.next({type:_e.Sent}),()=>{Ve.removeEventListener("error",Pn),Ve.removeEventListener("abort",Pn),Ve.removeEventListener("load",at),Ve.removeEventListener("timeout",Pn),G.reportProgress&&(Ve.removeEventListener("progress",wr),null!==Dt&&Ve.upload&&Ve.upload.removeEventListener("progress",Xt)),Ve.readyState!==Ve.DONE&&Ve.abort()}})}}return Pe.\u0275fac=function(G){return new(G||Pe)(g.LFG(w.JF))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Di=new g.OlP("XSRF_COOKIE_NAME"),Ur=new g.OlP("XSRF_HEADER_NAME");class Mr{}let $r=(()=>{class Pe{constructor(G,Ce,Ve){this.doc=G,this.platform=Ce,this.cookieName=Ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const G=this.doc.cookie||"";return G!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,w.Mx)(G,this.cookieName),this.lastCookieString=G),this.lastToken}}return Pe.\u0275fac=function(G){return new(G||Pe)(g.LFG(w.K0),g.LFG(g.Lbi),g.LFG(Di))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),Fi=(()=>{class Pe{constructor(G,Ce){this.tokenService=G,this.headerName=Ce}intercept(G,Ce){const Ve=G.url.toLowerCase();if("GET"===G.method||"HEAD"===G.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return Ce.handle(G);const Dt=this.tokenService.getToken();return null!==Dt&&!G.headers.has(this.headerName)&&(G=G.clone({headers:G.headers.set(this.headerName,Dt)})),Ce.handle(G)}}return Pe.\u0275fac=function(G){return new(G||Pe)(g.LFG(Mr),g.LFG(Ur))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),_t=(()=>{class Pe{constructor(G,Ce){this.backend=G,this.injector=Ce,this.chain=null}handle(G){if(null===this.chain){const Ce=this.injector.get(Q,[]);this.chain=Ce.reduceRight((Ve,Dt)=>new Ye(Ve,Dt),this.backend)}return this.chain.handle(G)}}return Pe.\u0275fac=function(G){return new(G||Pe)(g.LFG(pe),g.LFG(g.zs3))},Pe.\u0275prov=g.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),sr=(()=>{class Pe{static disable(){return{ngModule:Pe,providers:[{provide:Fi,useClass:Oe}]}}static withOptions(G={}){return{ngModule:Pe,providers:[G.cookieName?{provide:Di,useValue:G.cookieName}:[],G.headerName?{provide:Ur,useValue:G.headerName}:[]]}}}return Pe.\u0275fac=function(G){return new(G||Pe)},Pe.\u0275mod=g.oAB({type:Pe}),Pe.\u0275inj=g.cJS({providers:[Fi,{provide:Q,useExisting:Fi,multi:!0},{provide:Mr,useClass:$r},{provide:Di,useValue:"XSRF-TOKEN"},{provide:Ur,useValue:"X-XSRF-TOKEN"}]}),Pe})(),Gr=(()=>{class Pe{}return Pe.\u0275fac=function(G){return new(G||Pe)},Pe.\u0275mod=g.oAB({type:Pe}),Pe.\u0275inj=g.cJS({providers:[he,{provide:fe,useClass:_t},Sr,{provide:pe,useExisting:Sr}],imports:[sr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Pe})()},4650:(yt,De,k)=>{k.d(De,{$8M:()=>ko,$Z:()=>d_,AFp:()=>Rm,AaK:()=>fe,CHM:()=>Hi,CRH:()=>$u,CZH:()=>ed,CqO:()=>U_,D6c:()=>FC,DdM:()=>Hb,EJc:()=>Qv,EpF:()=>XE,F$t:()=>qt,F4k:()=>eb,FYo:()=>R,FiY:()=>ct,G48:()=>u0,Gf:()=>wp,GfV:()=>it,Gpc:()=>K,Hsn:()=>ch,Ikx:()=>nv,JOm:()=>Zo,KtG:()=>to,LFG:()=>gr,LSH:()=>Od,Lbi:()=>Iw,Lck:()=>$D,MAs:()=>tm,MMx:()=>Mv,NdJ:()=>B_,O4$:()=>bt,OlP:()=>Un,Oqu:()=>um,PXZ:()=>EC,Q6J:()=>Tt,QGY:()=>V_,QP$:()=>Dn,QbO:()=>gC,Qsj:()=>V,R0b:()=>Ks,RDi:()=>py,Rgc:()=>Mh,SBq:()=>h,Sil:()=>_C,Suo:()=>Fv,TTD:()=>Ci,TgZ:()=>gt,Tol:()=>q_,VKq:()=>$b,X6Q:()=>a0,XFs:()=>_t,Xpm:()=>We,Xts:()=>Nd,Y36:()=>Cc,YKP:()=>Sv,YNc:()=>kr,Yjl:()=>He,Yz7:()=>Jt,Z0I:()=>Ii,ZZ4:()=>kp,_Bn:()=>Av,_UZ:()=>Ze,_Vd:()=>_l,_c5:()=>LC,_uU:()=>ph,aQg:()=>p0,c2e:()=>Cw,cJS:()=>Ut,cg1:()=>kl,dDg:()=>Um,dqk:()=>Ve,eFA:()=>Hm,ekj:()=>Yi,eoX:()=>Bm,f3M:()=>C,g9A:()=>ww,h0i:()=>Sh,hGG:()=>m0,iGM:()=>bp,ifc:()=>Ce,ip1:()=>Fh,jDz:()=>xv,kL8:()=>iv,kcU:()=>En,lG2:()=>ie,lqb:()=>ps,lri:()=>Sw,n5z:()=>ka,oAB:()=>Yt,oxw:()=>H_,q4F:()=>wt,qLn:()=>mf,qOj:()=>Wf,qZA:()=>Se,rWj:()=>Vm,sBO:()=>l0,sIi:()=>Rc,s_b:()=>_p,soG:()=>Gl,tb:()=>Dw,tp0:()=>Ht,uIk:()=>sh,vHH:()=>xe,vpe:()=>aa,wAp:()=>$t,xp6:()=>Ou,z2F:()=>Rp,zSh:()=>Su,zs3:()=>Dc});var w=k(7579),g=k(727),U=k(9751),se=k(6451),ne=k(3099);function de(i){for(let s in i)if(i[s]===de)return s;throw Error("Could not find renamed property on target object.")}function le(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=de({__forward_ref__:de});function K(i){return i.__forward_ref__=K,i.toString=function(){return fe(this())},i}function te(i){return Qe(i)?i():i}function Qe(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===K}class xe extends Error{constructor(s,a){super(function lt(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function Te(i){return"string"==typeof i?i:null==i?"":String(i)}function ke(i,s){throw new xe(-201,!1)}function Oe(i,s){null==i&&function Re(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Jt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ut(i){return{providers:i.providers||[],imports:i.imports||[]}}function Mn(i){return Hr(i,Ur)||Hr(i,$r)}function Ii(i){return null!==Mn(i)}function Hr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Di(i){return i&&(i.hasOwnProperty(Mr)||i.hasOwnProperty(Fi))?i[Mr]:null}const Ur=de({\u0275prov:de}),Mr=de({\u0275inj:de}),$r=de({ngInjectableDef:de}),Fi=de({ngInjectorDef:de});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let br;function sr(i){const s=br;return br=i,s}function Gr(i,s,a){const l=Mn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&_t.Optional?null:void 0!==s?s:void ke(fe(i))}function Qn(i){return{toString:i}.toString()}var Pe=(()=>((Pe=Pe||{})[Pe.OnPush=0]="OnPush",Pe[Pe.Default=1]="Default",Pe))(),Ce=(()=>{return(i=Ce||(Ce={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ce;var i})();const Ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fn={},at=[],Pn=de({\u0275cmp:de}),rn=de({\u0275dir:de}),wr=de({\u0275pipe:de}),Xt=de({\u0275mod:de}),en=de({\u0275fac:de}),cn=de({__NG_ELEMENT_ID__:de});let Et=0;function We(i){return Qn(()=>{const a=!0===i.standalone,l={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||at,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ce.Emulated,id:"c"+Et++,styles:i.styles||at,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,_=i.features;return c.inputs=z(i.inputs,l),c.outputs=z(i.outputs),_&&_.forEach(E=>E(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ft).filter(Bt):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(At).filter(Bt):null,c})}function Ft(i){return ce(i)||dt(i)}function Bt(i){return null!==i}function Yt(i){return Qn(()=>({type:i.type,bootstrap:i.bootstrap||at,declarations:i.declarations||at,imports:i.imports||at,exports:i.exports||at,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function z(i,s){if(null==i)return fn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),a[c]=l,s&&(s[c]=f)}return a}const ie=We;function He(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ce(i){return i[Pn]||null}function dt(i){return i[rn]||null}function At(i){return i[wr]||null}function Dn(i){const s=ce(i)||dt(i)||At(i);return null!==s&&s.standalone}function Ln(i,s){const a=i[Xt]||null;if(!a&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return a}function dn(i){return Array.isArray(i)&&"object"==typeof i[1]}function Rn(i){return Array.isArray(i)&&!0===i[1]}function Rs(i){return 0!=(8&i.flags)}function Js(i){return 2==(2&i.flags)}function ru(i){return 1==(1&i.flags)}function zn(i){return null!==i.template}function Os(i){return 0!=(256&i[2])}function Fn(i,s){return i.hasOwnProperty(en)?i[en]:null}class xr{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ci(){return Ns}function Ns(i){return i.type.prototype.ngOnChanges&&(i.setInput=wo),bo}function bo(){const i=Ql(this),s=i?.current;if(s){const a=i.previous;if(a===fn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function wo(i,s,a,l){const c=Ql(i)||function eo(i,s){return i[pa]=s}(i,{previous:fn,current:null}),f=c.current||(c.current={}),_=c.previous,E=this.declaredInputs[a],I=_[E];f[E]=new xr(I&&I.currentValue,s,_===fn),i[l]=s}Ci.ngInherit=!0;const pa="__ngSimpleChanges__";function Ql(i){return i[pa]||null}function Nn(i){for(;Array.isArray(i);)i=i[0];return i}function qr(i,s){return Nn(s[i])}function Kr(i,s){return Nn(s[i.index])}function Bi(i,s){return i.data[s]}function on(i,s){const a=s[i];return dn(a)?a:a[0]}function ss(i){return 64==(64&i[2])}function hi(i,s){return null==s?null:i[s]}function Do(i){i[18]=0}function Yn(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const zt={lFrame:du(null),bindingsEnabled:!0};function os(){return zt.bindingsEnabled}function Ge(){return zt.lFrame.lView}function an(){return zt.lFrame.tView}function Hi(i){return zt.lFrame.contextLView=i,i[8]}function to(i){return zt.lFrame.contextLView=null,i}function nr(){let i=ba();for(;null!==i&&64===i.type;)i=i.parent;return i}function ba(){return zt.lFrame.currentTNode}function fi(i,s){const a=zt.lFrame;a.currentTNode=i,a.isParent=s}function as(){return zt.lFrame.isParent}function us(){zt.lFrame.isParent=!1}function Vn(){const i=zt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function vs(){return zt.lFrame.bindingIndex++}function ls(i){const s=zt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function cd(i,s){const a=zt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ia(s)}function Ia(i){zt.lFrame.currentDirectiveIndex=i}function Da(){return zt.lFrame.currentQueryIndex}function ni(i){zt.lFrame.currentQueryIndex=i}function To(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Gi(i,s,a){if(a&_t.SkipSelf){let c=s,f=i;for(;!(c=c.parent,null!==c||a&_t.Host||(c=To(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;s=c,i=f}const l=zt.lFrame=Ca();return l.currentTNode=s,l.lView=i,!0}function Fs(i){const s=Ca(),a=i[1];zt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ca(){const i=zt.lFrame,s=null===i?null:i.child;return null===s?du(i):s}function du(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function hu(){const i=zt.lFrame;return zt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const D=hu;function O(){const i=hu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function W(){return zt.lFrame.selectedIndex}function Ee(i){zt.lFrame.selectedIndex=i}function Ne(){const i=zt.lFrame;return Bi(i.tView,i.selectedIndex)}function bt(){zt.lFrame.currentNamespace="svg"}function En(){!function Cn(){zt.lFrame.currentNamespace=null}()}function An(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:L}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),x&&((i.viewHooks||(i.viewHooks=[])).push(a,x),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,x)),null!=L&&(i.destroyHooks||(i.destroyHooks=[])).push(a,L)}}function Sn(i,s,a){Ai(i,s,3,a)}function ri(i,s,a,l){(3&i[2])===a&&Ai(i,s,a,l)}function Ti(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Ai(i,s,a,l){const f=l??-1,_=s.length-1;let E=0;for(let I=void 0!==l?65535&i[18]:0;I<_;I++)if("number"==typeof s[I+1]){if(E=s[I],null!=l&&E>=l)break}else s[I]<0&&(i[18]+=65536),(E<f||-1==f)&&(Vs(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function Vs(i,s,a,l){const c=a[l]<0,f=a[l+1],E=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class zi{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function so(i,s,a){let l=0;for(;l<a.length;){const c=a[l];if("number"==typeof c){if(0!==c)break;l++;const f=a[l++],_=a[l++],E=a[l++];i.setAttribute(s,_,E,f)}else{const f=c,_=a[++l];ec(f)?i.setProperty(s,f,_):i.setAttribute(s,f,_),l++}}return l}function So(i){return 3===i||4===i||6===i}function ec(i){return 64===i.charCodeAt(0)}function Aa(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||tc(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function tc(i,s,a,l,c){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){_=-1;break}if(E>s){_=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==c&&(i[f+1]=c));if(l===i[f+1])return void(i[f+2]=c)}f++,null!==l&&f++,null!==c&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==c&&i.splice(f++,0,c)}function nc(i){return-1!==i}function Or(i){return 32767&i}function pu(i,s){let a=function fu(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let pi=!0;function oo(i){const s=pi;return pi=i,s}let dr=0;const Si={};function Ma(i,s){const a=fd(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,tl(l.data,i),tl(s,null),tl(l.blueprint,null));const c=xa(i,s),f=i.injectorIndex;if(nc(c)){const _=Or(c),E=pu(c,s),I=E[1].data;for(let x=0;x<8;x++)s[f+x]=E[_+x]|I[_+x]}return s[f+8]=c,f}function tl(i,s){i.push(0,0,0,0,0,0,0,0,s)}function fd(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function xa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){if(l=lo(c),null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Mo(i,s,a){!function rc(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(cn)&&(l=a[cn]),null==l&&(l=a[cn]=dr++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function xo(i,s,a){if(a&_t.Optional||void 0!==i)return i;ke()}function gu(i,s,a,l){if(a&_t.Optional&&void 0===l&&(l=null),0==(a&(_t.Self|_t.Host))){const c=i[9],f=sr(void 0);try{return c?c.get(s,l,a&_t.Optional):Gr(s,l,a&_t.Optional)}finally{sr(f)}}return xo(l,0,a)}function Dr(i,s,a,l=_t.Default,c){if(null!==i){if(1024&s[2]){const _=function Pa(i,s,a,l,c){let f=i,_=s;for(;null!==f&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=Ra(f,_,a,l|_t.Self,Si);if(E!==Si)return E;let I=f.parent;if(!I){const x=_[21];if(x){const L=x.get(a,Si,l);if(L!==Si)return L}I=lo(_),_=_[15]}f=I}return c}(i,s,a,l,Si);if(_!==Si)return _}const f=Ra(i,s,a,l,Si);if(f!==Si)return f}return gu(s,a,l,c)}function Ra(i,s,a,l,c){const f=function nl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(cn)?i[cn]:void 0;return"number"==typeof s?s>=0?255&s:No:s}(a);if("function"==typeof f){if(!Gi(s,i,l))return l&_t.Host?xo(c,0,l):gu(s,a,l,c);try{const _=f(l);if(null!=_||l&_t.Optional)return _;ke()}finally{D()}}else if("number"==typeof f){let _=null,E=fd(i,s),I=-1,x=l&_t.Host?s[16][6]:null;for((-1===E||l&_t.SkipSelf)&&(I=-1===E?xa(i,s):s[E+8],-1!==I&&Na(l,!1)?(_=s[1],E=Or(I),s=pu(I,s)):E=-1);-1!==E;){const L=s[1];if(Oo(f,E,L.data)){const B=Ro(E,s,a,_,l,x);if(B!==Si)return B}I=s[E+8],-1!==I&&Na(l,s[1].data[E+8]===x)&&Oo(f,E,s)?(_=L,E=Or(I),s=pu(I,s)):E=-1}}return c}function Ro(i,s,a,l,c,f){const _=s[1],E=_.data[i+8],L=Oa(E,_,a,null==l?Js(E)&&pi:l!=_&&0!=(3&E.type),c&_t.Host&&f===E);return null!==L?ao(s,_,L,E):Si}function Oa(i,s,a,l,c){const f=i.providerIndexes,_=s.data,E=1048575&f,I=i.directiveStart,L=f>>20,X=c?E+L:i.directiveEnd;for(let ge=l?E:E+L;ge<X;ge++){const je=_[ge];if(ge<I&&a===je||ge>=I&&je.type===a)return ge}if(c){const ge=_[I];if(ge&&zn(ge)&&ge.type===a)return I}return null}function ao(i,s,a,l){let c=i[a];const f=s.data;if(function Es(i){return i instanceof zi}(c)){const _=c;_.resolving&&function ht(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function ve(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Te(i)}(f[a]));const E=oo(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?sr(_.injectImpl):null;Gi(i,l,_t.Default);try{c=i[a]=_.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function cr(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:f}=s.type.prototype;if(l){const _=Ns(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==I&&sr(I),oo(E),_.resolving=!1,D()}}return c}function Oo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Na(i,s){return!(i&_t.Self||i&_t.Host&&s)}class uo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Dr(this._tNode,this._lView,s,l,a)}}function No(){return new uo(nr(),Ge())}function ka(i){return Qn(()=>{const s=i.prototype.constructor,a=s[en]||rl(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const f=c[en]||rl(c);if(f&&f!==a)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function rl(i){return Qe(i)?()=>{const s=rl(te(i));return s&&s()}:Fn(i)}function lo(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function ko(i){return function Wh(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const f=a[c];if(So(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(f===s)return a[c+1];c+=2}}}return null}(nr(),i)}const Us="__parameters__";function Lo(i,s,a){return Qn(()=>{const l=function mu(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...f){if(this instanceof c)return l.apply(this,f),this;const _=new c(...f);return E.annotation=_,E;function E(I,x,L){const B=I.hasOwnProperty(Us)?I[Us]:Object.defineProperty(I,Us,{value:[]})[Us];for(;B.length<=L;)B.push(null);return(B[L]=B[L]||[]).push(_),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Un{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Jt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ii(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),ii(l,s)):s!==i&&s.push(l)}return s}function mi(i,s){i.forEach(a=>Array.isArray(a)?mi(a,s):s(a))}function gd(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ua(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function co(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function yi(i,s,a){let l=Hs(i,s);return l>=0?i[1|l]=a:(l=~l,function al(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function js(i,s){const a=Hs(i,s);if(a>=0)return i[1|a]}function Hs(i,s){return function Eu(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const f=l+(c-l>>1),_=i[f<<a];if(s===_)return f<<a;_>s?c=f:l=f+1}return~(c<<a)}(i,s,1)}const bs={},cc="__NG_DI_FLAG__",Du="ngTempTokenPath",ll=/\n/gm,yd="__source";let Uo;function Gs(i){const s=Uo;return Uo=i,s}function _d(i,s=_t.Default){if(void 0===Uo)throw new xe(-203,!1);return null===Uo?Gr(i,void 0,s):Uo.get(i,s&_t.Optional?null:void 0,s)}function gr(i,s=_t.Default){return(function Ji(){return br}()||_d)(te(i),s)}function C(i,s=_t.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),gr(i,s)}function M(i){const s=[];for(let a=0;a<i.length;a++){const l=te(i[a]);if(Array.isArray(l)){if(0===l.length)throw new xe(900,!1);let c,f=_t.Default;for(let _=0;_<l.length;_++){const E=l[_],I=H(E);"number"==typeof I?-1===I?c=E.token:f|=I:c=E}s.push(gr(c,f))}else s.push(gr(l))}return s}function P(i,s){return i[cc]=s,i.prototype[cc]=s,i}function H(i){return i[cc]}const ct=P(Lo("Optional"),8),Ht=P(Lo("SkipSelf"),4);let Jp;function py(i){Jp=i}class Cd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $o(i){return i instanceof Cd?i.changingThisBreaksApplicationSecurity:i}const fl=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function Od(i){const s=function Ga(){const i=Ge();return i&&i[12]}();return s?s.sanitize(Cr.URL,i)||"":function hl(i,s){const a=function ng(i){return i instanceof Cd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?$o(i):function Qh(i){return(i=String(i)).match(fl)?i:"unsafe:"+i}(Te(i))}const Nd=new Un("ENVIRONMENT_INITIALIZER"),rf=new Un("INJECTOR",-1),sf=new Un("INJECTOR_DEF_TYPES");class kd{get(s,a=bs){if(a===bs){const l=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw l.name="NullInjectorError",l}return a}}function mc(...i){return{\u0275providers:yc(0,i)}}function yc(i,...s){const a=[],l=new Set;let c;return mi(s,f=>{const _=f;vc(_,a,[],l)&&(c||(c=[]),c.push(_))}),void 0!==c&&_c(c,a),a}function _c(i,s){for(let a=0;a<i.length;a++){const{providers:c}=i[a];mi(c,f=>{s.push(f)})}}function vc(i,s,a,l){if(!(i=te(i)))return!1;let c=null,f=Di(i);const _=!f&&ce(i);if(f||_){if(_&&!_.standalone)return!1;c=i}else{const I=i.ngModule;if(f=Di(I),!f)return!1;c=I}const E=l.has(c);if(_){if(E)return!1;if(l.add(c),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const x of I)vc(x,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let x;l.add(c);try{mi(f.imports,L=>{vc(L,s,a,l)&&(x||(x=[]),x.push(L))})}finally{}void 0!==x&&_c(x,s)}if(!E){const x=Fn(c)||(()=>new c);s.push({provide:c,useFactory:x,deps:at},{provide:sf,useValue:c,multi:!0},{provide:Nd,useValue:()=>gr(c),multi:!0})}const I=f.providers;null==I||E||mi(I,L=>{s.push(L)})}}return c!==i&&void 0!==i.providers}const go=de({provide:String,useValue:de});function Pd(i){return null!==i&&"object"==typeof i&&go in i}function Go(i){return"function"==typeof i}const Su=new Un("Set Injector scope."),zo={},Iy={};let yl;function Ld(){return void 0===yl&&(yl=new kd),yl}class ps{}class fg extends ps{constructor(s,a,l,c){super(),this.parent=a,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mu(s,_=>this.processProvider(_)),this.records.set(rf,Yr(void 0,this)),c.has("environment")&&this.records.set(ps,Yr(void 0,this));const f=this.records.get(Su);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(sf.multi,at,_t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Gs(this),l=sr(void 0);try{return s()}finally{Gs(a),sr(l)}}get(s,a=bs,l=_t.Default){this.assertNotDestroyed();const c=Gs(this),f=sr(void 0);try{if(!(l&_t.SkipSelf)){let E=this.records.get(s);if(void 0===E){const I=function Dy(i){return"function"==typeof i||"object"==typeof i&&i instanceof Un}(s)&&Mn(s);E=I&&this.injectableDefInScope(I)?Yr(pg(s),zo):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(l&_t.Self?Ld():this.parent).get(s,a=l&_t.Optional&&a===bs?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Du]=_[Du]||[]).unshift(fe(s)),c)throw _;return function ae(i,s,a,l){const c=i[Du];throw s[yd]&&c.unshift(s[yd]),i.message=function be(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let c=fe(s);if(Array.isArray(s))c=s.map(fe).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let E=s[_];f.push(_+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}c=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(ll,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[Du]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{sr(f),Gs(c)}}resolveInjectorInitializers(){const s=Gs(this),a=sr(void 0);try{const l=this.get(Nd.multi,at,_t.Self);for(const c of l)c()}finally{Gs(s),sr(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(fe(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(s){let a=Go(s=te(s))?s:te(s&&s.provide);const l=function q0(i){return Pd(i)?Yr(void 0,i.useValue):Yr(gg(i),zo)}(s);if(Go(s)||!0!==s.multi)this.records.get(a);else{let c=this.records.get(a);c||(c=Yr(void 0,zo,!0),c.factory=()=>M(c.multi),this.records.set(a,c)),a=s,c.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===zo&&(a.value=Iy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Fd(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=te(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function pg(i){const s=Mn(i),a=null!==s?s.factory:Fn(i);if(null!==a)return a;if(i instanceof Un)throw new xe(204,!1);if(i instanceof Function)return function W0(i){const s=i.length;if(s>0)throw co(s,"?"),new xe(204,!1);const a=function Vr(i){const s=i&&(i[Ur]||i[$r]);if(s){const a=function Sr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function gg(i,s,a){let l;if(Go(i)){const c=te(i);return Fn(c)||pg(c)}if(Pd(i))l=()=>te(i.useValue);else if(function Ec(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...M(i.deps||[]));else if(function fs(i){return!(!i||!i.useExisting)}(i))l=()=>gr(te(i.useExisting));else{const c=te(i&&(i.useClass||i.provide));if(!function af(i){return!!i.deps}(i))return Fn(c)||pg(c);l=()=>new c(...M(i.deps))}return l}function Yr(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Wo(i){return!!i.\u0275providers}function Mu(i,s){for(const a of i)Array.isArray(a)?Mu(a,s):Wo(a)?Mu(a.\u0275providers,s):s(a)}class xu{}class uf{resolveComponentFactory(s){throw function Ud(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let _l=(()=>{class i{}return i.NULL=new uf,i})();function lf(){return y(nr(),Ge())}function y(i,s){return new h(Kr(i,s))}let h=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=lf,i})();function p(i){return i instanceof h?i.nativeElement:i}class R{}let V=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function re(){const i=Ge(),a=on(nr().index,i);return(dn(a)?a:i)[11]}(),i})(),Me=(()=>{class i{}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:()=>null}),i})();class it{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wt=new it("14.2.9"),Lt={};function gf(i){return i.ngOriginalError}class mf{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&gf(s);for(;a&&gf(a);)a=gf(a);return a||null}}const xy=new Map;let Q0=0;const Eg="__ngContext__";function Mi(i,s){dn(s)?(i[Eg]=s[20],function $T(i){xy.set(i[20],i)}(s)):i[Eg]=s}function Ko(i){return i instanceof Function?i():i}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();function Ef(i,s){return undefined(i,s)}function bf(i){const s=i[3];return Rn(s)?s[3]:s}function jy(i){return Hy(i[13])}function Ig(i){return Hy(i[4])}function Hy(i){for(;null!==i&&!Rn(i);)i=i[4];return i}function $d(i,s,a,l,c){if(null!=l){let f,_=!1;Rn(l)?f=l:dn(l)&&(_=!0,l=l[0]);const E=Nn(l);0===i&&null!==a?null==c?Yy(s,a,E):vl(s,a,E,c||null,!0):1===i&&null!==a?vl(s,a,E,c||null,!0):2===i?function wf(i,s,a){const l=Jy(i,s);l&&function sE(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,E,_):3===i&&s.destroyNode(E),null!=f&&function Yo(i,s,a,l,c){const f=a[7];f!==Nn(a)&&$d(s,i,l,f,c);for(let E=10;E<a.length;E++){const I=a[E];wc(I[1],I,i,s,l,f)}}(s,i,f,a,c)}}function $y(i,s,a){return i.createElement(s,a)}function Wy(i,s){const a=i[9],l=a.indexOf(s),c=s[3];512&s[2]&&(s[2]&=-513,Yn(c,-1)),a.splice(l,1)}function qy(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Wy(c,l),s>0&&(i[a-1][4]=l[4]);const f=Ua(i,10+s);!function OI(i,s){wc(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=f[19];null!==_&&_.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function Ky(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&wc(i,s,a,3,null,null),function NI(i){let s=i[13];if(!s)return Zy(i[1],i);for(;s;){let a=null;if(dn(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)dn(s)&&Zy(s[1],s),s=s[3];null===s&&(s=i),dn(s)&&Zy(s[1],s),a=s&&s[4]}s=a}}(s)}}function Zy(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function ZT(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof zi)){const f=a[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const E=c[f[_]],I=f[_+1];try{I.call(E)}finally{}}else try{f.call(c)}finally{}}}}(i,s),function iE(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],E="function"==typeof _?_(s):Nn(s[_]),I=l[c=a[f+2]],x=a[f+3];"boolean"==typeof x?E.removeEventListener(a[f],I,x):x>=0?l[c=x]():l[c=-x].unsubscribe(),f+=2}else{const _=l[c=a[f+1]];a[f].call(_)}if(null!==l){for(let f=c+1;f<l.length;f++)(0,l[f])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&Rn(s[3])){a!==s[3]&&Wy(a,s);const l=s[19];null!==l&&l.detachView(i)}!function GT(i){xy.delete(i[20])}(s)}}function PI(i,s,a){return function LI(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Ce.None||c===Ce.Emulated)return null}return Kr(l,a)}(i,s.parent,a)}function vl(i,s,a,l,c){i.insertBefore(s,a,l,c)}function Yy(i,s,a){i.appendChild(s,a)}function Qy(i,s,a,l,c){null!==l?vl(i,s,a,l,c):Yy(i,s,a)}function Jy(i,s){return i.parentNode(s)}function aE(i,s,a){return VI(i,s,a)}let VI=function FI(i,s,a){return 40&i.type?Kr(i,a):null};function Cg(i,s,a,l){const c=PI(i,l,s),f=s[11],E=aE(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)Qy(f,c,a[I],E,!1);else Qy(f,c,a,E,!1)}function Tg(i,s){if(null!==s){const a=s.type;if(3&a)return Kr(s,i);if(4&a)return Le(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Tg(i,l);{const c=i[s.index];return Rn(c)?Le(-1,c):Nn(c)}}if(32&a)return Ef(s,i)()||Nn(i[s.index]);{const l=Xy(i,s);return null!==l?Array.isArray(l)?l[0]:Tg(bf(i[16]),l):Tg(i,s.next)}}return null}function Xy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Le(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Tg(l,c)}return s[7]}function si(i,s,a,l,c,f,_){for(;null!=a;){const E=l[a.index],I=a.type;if(_&&0===s&&(E&&Mi(Nn(E),l),a.flags|=4),64!=(64&a.flags))if(8&I)si(i,s,a.child,l,c,f,!1),$d(s,i,c,E,f);else if(32&I){const x=Ef(a,l);let L;for(;L=x();)$d(s,i,c,L,f);$d(s,i,c,E,f)}else 16&I?cE(i,s,l,a,c,f):$d(s,i,c,E,f);a=_?a.projectionNext:a.next}}function wc(i,s,a,l,c,f){si(a,l,i.firstChild,s,c,f,!1)}function cE(i,s,a,l,c,f){const _=a[16],I=_[6].projection[l.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)$d(s,i,c,I[x],f);else si(i,s,I,_[3],c,f,!0)}function dE(i,s,a){i.setAttribute(s,"style",a)}function Ru(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function If(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const f=s.length;if(c+f===l||i.charCodeAt(c+f)<=32)return c}a=c+1}}const kn="ng-template";function UI(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==If(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Wa(i){return 4===i.type&&i.value!==kn}function xt(i,s,a){return s===(4!==i.type||a?i.value:kn)}function e_(i,s,a){let l=4;const c=i.attrs||[],f=function BI(i){for(let s=0;s<i.length;s++)if(So(i[s]))return s;return i.length}(c);let _=!1;for(let E=0;E<s.length;E++){const I=s[E];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!xt(i,I,a)||""===I&&1===s.length){if(jt(l))return!1;_=!0}}else{const x=8&l?I:s[++E];if(8&l&&null!==i.attrs){if(!UI(i.attrs,x,a)){if(jt(l))return!1;_=!0}continue}const B=Ag(8&l?"class":I,c,Wa(i),a);if(-1===B){if(jt(l))return!1;_=!0;continue}if(""!==x){let X;X=B>f?"":c[B+1].toLowerCase();const ge=8&l?X:null;if(ge&&-1!==If(ge,x,0)||2&l&&x!==X){if(jt(l))return!1;_=!0}}}}else{if(!_&&!jt(l)&&!jt(I))return!1;if(_&&jt(I))continue;_=!1,l=I|1&l}}return jt(l)||_}function jt(i){return 0==(1&i)}function Ag(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let f=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)f=!0;else{if(1===_||2===_){let E=s[++c];for(;"string"==typeof E;)E=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=f?1:2}return-1}return function t_(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Df(i,s,a=!1){for(let l=0;l<s.length;l++)if(e_(i,s[l],a))return!0;return!1}function jI(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function hE(i,s){return i?":not("+s.trim()+")":s}function HI(i){let s=i[0],a=1,l=2,c="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const E=i[++a];c+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+_:4&l&&(c+=" "+_);else""!==c&&!jt(_)&&(s+=hE(f,c),c=""),l=_,f=f||!jt(l);a++}return""!==c&&(s+=hE(f,c)),s}const Rt={};function Ou(i){fE(an(),Ge(),W()+i,!1)}function fE(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Sn(s,f,a)}else{const f=i.preOrderHooks;null!==f&&ri(s,f,0,a)}Ee(a)}function Qo(i,s=null,a=null,l){const c=Mg(i,s,a,l);return c.resolveInjectorInitializers(),c}function Mg(i,s=null,a=null,l,c=new Set){const f=[a||at,mc(i)];return l=l||("object"==typeof i?void 0:fe(i)),new fg(f,s||Ld(),l||null,c)}let Dc=(()=>{class i{static create(a,l){if(Array.isArray(a))return Qo({name:""},l,a,"");{const c=a.name??"";return Qo({name:c},a.parent,a.providers,c)}}}return i.THROW_IF_NOT_FOUND=bs,i.NULL=new kd,i.\u0275prov=Jt({token:i,providedIn:"any",factory:()=>gr(rf)}),i.__NG_ELEMENT_ID__=-1,i})();function Cc(i,s=_t.Default){const a=Ge();return null===a?gr(i,s):Dr(nr(),a,te(i),s)}function d_(){throw new Error("invalid")}function xf(i,s){return i<<17|s<<2}function mo(i){return i>>17&32767}function h_(i){return 2|i}function Jo(i){return(131068&i)>>2}function Rf(i,s){return-131069&i|s<<2}function Qr(i){return 1|i}function Kd(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],f=a[l+1];if(-1!==f){const _=i.data[f];ni(c),_.contentQueries(2,s[f],f)}}}function Zd(i,s,a,l,c,f,_,E,I,x,L){const B=s.blueprint.slice();return B[0]=c,B[2]=76|l,(null!==L||i&&1024&i[2])&&(B[2]|=1024),Do(B),B[3]=B[15]=i,B[8]=a,B[10]=_||i&&i[10],B[11]=E||i&&i[11],B[12]=I||i&&i[12]||null,B[9]=x||i&&i[9]||null,B[6]=f,B[20]=function HT(){return Q0++}(),B[21]=L,B[16]=2==s.type?i[16]:B,B}function ku(i,s,a,l,c){let f=i.data[s];if(null===f)f=function Ac(i,s,a,l,c){const f=ba(),_=as(),I=i.data[s]=function Mc(i,s,a,l,c,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=I),null!==f&&(_?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(i,s,a,l,c),function Qu(){return zt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=c;const _=function no(){const i=zt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return fi(f,!0),f}function Sc(i,s,a,l){if(0===a)return-1;const c=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function C_(i,s,a){Fs(s);try{const l=i.viewQuery;null!==l&&Hf(1,l,a);const c=i.template;null!==c&&Lf(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Kd(i,s),i.staticViewQueries&&Hf(2,i.viewQuery,a);const f=i.components;null!==f&&function D_(i,s){for(let a=0;a<s.length;a++)VE(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,O()}}function Yd(i,s,a,l){const c=s[2];if(128!=(128&c)){Fs(s);try{Do(s),function cu(i){return zt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Lf(i,s,a,2,l);const _=3==(3&c);if(_){const x=i.preOrderCheckHooks;null!==x&&Sn(s,x,null)}else{const x=i.preOrderHooks;null!==x&&ri(s,x,0,null),Ti(s,0)}if(function cD(i){for(let s=jy(i);null!==s;s=Ig(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],f=c[3];0==(512&c[2])&&Yn(f,1),c[2]|=512}}}(s),function lD(i){for(let s=jy(i);null!==s;s=Ig(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];ss(l)&&Yd(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Kd(i,s),_){const x=i.contentCheckHooks;null!==x&&Sn(s,x)}else{const x=i.contentHooks;null!==x&&ri(s,x,1),Ti(s,1)}!function SE(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Ee(~c);else{const f=c,_=a[++l],E=a[++l];cd(_,f),E(2,s[f])}}}finally{Ee(-1)}}(i,s);const E=i.components;null!==E&&function I_(i,s){for(let a=0;a<s.length;a++)FE(i,s[a])}(s,E);const I=i.viewQuery;if(null!==I&&Hf(2,I,l),_){const x=i.viewCheckHooks;null!==x&&Sn(s,x)}else{const x=i.viewHooks;null!==x&&ri(s,x,2),Ti(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Yn(s[3],-1))}finally{O()}}}function Lf(i,s,a,l,c){const f=W(),_=2&l;try{Ee(-1),_&&s.length>22&&fE(i,s,22,!1),a(l,c)}finally{Ee(f)}}function Wg(i,s,a){!os()||(function yr(i,s,a,l){const c=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ma(a,s),Mi(l,s);const _=a.initialInputs;for(let E=c;E<f;E++){const I=i.data[E],x=zn(I);x&&aD(s,a,I);const L=ao(s,i,E,a);Mi(L,s),null!==_&&PE(0,E-c,L,I,0,_),x&&(on(a.index,s)[8]=L)}}(i,s,a,Kr(a,s)),128==(128&a.flags)&&function Yg(i,s,a){const l=a.directiveStart,c=a.directiveEnd,f=a.index,_=function Co(){return zt.lFrame.currentDirectiveIndex}();try{Ee(f);for(let E=l;E<c;E++){const I=i.data[E],x=s[E];Ia(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&eh(I,x)}}finally{Ee(-1),Ia(_)}}(i,s,a))}function qg(i,s,a=Kr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],E=-1===_?a(s,i):i[_];i[c++]=E}}}function T_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=A_(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function A_(i,s,a,l,c,f,_,E,I,x){const L=22+l,B=L+c,X=function Ff(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Rt);return a}(L,B),ge="function"==typeof x?x():x;return X[1]={type:i,blueprint:X,template:a,queries:null,viewQuery:E,declTNode:s,data:X.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ge,incompleteFirstPass:!1}}function Qd(i,s,a,l){const c=BE(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&jE(i).push(l,c.length-1))}function Zg(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function ME(i,s){const l=s.directiveEnd,c=i.data,f=s.attrs,_=[];let E=null,I=null;for(let x=s.directiveStart;x<l;x++){const L=c[x],B=L.inputs,X=null===f||Wa(s)?null:LE(B,f);_.push(X),E=Zg(B,x,E),I=Zg(L.outputs,x,I)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=16),E.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=E,s.outputs=I}function Ds(i,s,a,l,c,f,_,E){const I=Kr(s,a);let L,x=s.inputs;!E&&null!=x&&(L=x[l])?(rh(i,a,L,l,c),Js(s)&&S_(a,s.index)):3&s.type&&(l=function iD(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=_?_(c,s.value||"",l):c,f.setProperty(I,l,c))}function S_(i,s){const a=on(s,i);16&a[2]||(a[2]|=32)}function Xd(i,s,a,l){let c=!1;if(os()){const f=function Uf(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let f=0;f<l.length;f++){const _=l[f];Df(a,_.selectors,!1)&&(c||(c=[]),Mo(Ma(a,s),i,_.type),zn(_)?(RE(i,a),c.unshift(_)):c.push(_))}return c}(i,s,a),_=null===l?null:{"":-1};if(null!==f){c=!0,NE(a,i.data.length,f.length);for(let L=0;L<f.length;L++){const B=f[L];B.providersResolver&&B.providersResolver(B)}let E=!1,I=!1,x=Sc(i,s,f.length,null);for(let L=0;L<f.length;L++){const B=f[L];a.mergedAttrs=Aa(a.mergedAttrs,B.hostAttrs),kE(i,a,s,x,B),oD(x,B,_),null!==B.contentQueries&&(a.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(a.flags|=128);const X=B.type.prototype;!E&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!I&&(X.ngOnChanges||X.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),x++}ME(i,a)}_&&function OE(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const f=a[s[c+1]];if(null==f)throw new xe(-301,!1);l.push(s[c],f)}}}(a,l,_)}return a.mergedAttrs=Aa(a.mergedAttrs,a.attrs),c}function Vf(i,s,a,l,c,f){const _=f.hostBindings;if(_){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const I=~s.index;(function xE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(E)!=I&&E.push(I),E.push(l,c,_)}}function eh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function RE(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function oD(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;zn(s)&&(a[""]=i)}}function NE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function kE(i,s,a,l,c){i.data[l]=c;const f=c.factory||(c.factory=Fn(c.type)),_=new zi(f,zn(c),Cc);i.blueprint[l]=_,a[l]=_,Vf(i,s,0,l,Sc(i,a,c.hostVars,Rt),c)}function aD(i,s,a){const l=Kr(s,i),c=T_(a),f=i[10],_=th(i,Zd(i,c,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=_}function Cs(i,s,a,l,c,f){const _=Kr(i,s);!function qa(i,s,a,l,c,f,_){if(null==f)i.removeAttribute(s,c,a);else{const E=null==_?Te(f):_(f,l||"",c);i.setAttribute(s,c,E,a)}}(s[11],_,f,i.value,a,l,c)}function PE(i,s,a,l,c,f){const _=f[s];if(null!==_){const E=l.setInput;for(let I=0;I<_.length;){const x=_[I++],L=_[I++],B=_[I++];null!==E?l.setInput(a,B,x,L):a[L]=B}}}function LE(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function xc(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function FE(i,s){const a=on(s,i);if(ss(a)){const l=a[1];48&a[2]?Yd(l,a,l.template,a[8]):a[5]>0&&M_(a)}}function M_(i){for(let l=jy(i);null!==l;l=Ig(l))for(let c=10;c<l.length;c++){const f=l[c];if(ss(f))if(512&f[2]){const _=f[1];Yd(_,f,_.template,f[8])}else f[5]>0&&M_(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=on(a[l],i);ss(c)&&c[5]>0&&M_(c)}}function VE(i,s){const a=on(s,i),l=a[1];(function UE(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),C_(l,a,a[8])}function th(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Bf(i){for(;i;){i[2]|=32;const s=bf(i);if(Os(i)&&!s)return i;i=s}return null}function jf(i,s,a,l=!0){const c=s[10];c.begin&&c.begin();try{Yd(i,s,i.template,a)}catch(_){throw l&&nh(s,_),_}finally{c.end&&c.end()}}function Hf(i,s,a){ni(0),s(i,a)}function BE(i){return i[7]||(i[7]=[])}function jE(i){return i.cleanup||(i.cleanup=[])}function nh(i,s){const a=i[9],l=a?a.get(mf,null):null;l&&l.handleError(s)}function rh(i,s,a,l,c){for(let f=0;f<a.length;){const _=a[f++],E=a[f++],I=s[_],x=i.data[_];null!==x.setInput?x.setInput(I,c,l,E):I[E]=c}}function Gf(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const E=s[_];"number"==typeof E?f=E:1==f?c=pe(c,E):2==f&&(l=pe(l,E+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}function wl(i,s,a,l,c=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(Nn(f)),Rn(f))for(let E=10;E<f.length;E++){const I=f[E],x=I[1].firstChild;null!==x&&wl(I[1],I,x,l)}const _=a.type;if(8&_)wl(i,s,a.child,l);else if(32&_){const E=Ef(a,s);let I;for(;I=E();)l.push(I)}else if(16&_){const E=Xy(s,a);if(Array.isArray(E))l.push(...E);else{const I=bf(s[16]);wl(I[1],I,E,l,!0)}}a=c?a.projectionNext:a.next}return l}class Lu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return wl(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Rn(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(qy(s,l),Ua(a,l))}this._attachedToViewContainer=!1}Ky(this._lView[1],this._lView)}onDestroy(s){Qd(this._lView[1],this._lView,null,s)}markForCheck(){Bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){jf(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zy(i,s){wc(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=s}}class hD extends Lu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;jf(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class _r extends _l{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ce(s);return new zf(a,this.ngModule)}}function x_(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class pD{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const c=this.injector.get(s,Lt,l);return c!==Lt||a===Lt?c:this.parentInjector.get(s,a,l)}}class zf extends xu{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Ki(i){return i.map(HI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return x_(this.componentDef.inputs)}get outputs(){return x_(this.componentDef.outputs)}create(s,a,l,c){let f=(c=c||this.ngModule)instanceof ps?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new pD(s,f):s,E=_.get(R,null);if(null===E)throw new xe(407,!1);const I=_.get(Me,null),x=E.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",B=l?function Kg(i,s,a){return i.selectRootElement(s,a===Ce.ShadowDom)}(x,l,this.componentDef.encapsulation):$y(E.createRenderer(null,this.componentDef),L,function fD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),X=this.componentDef.onPush?288:272,ge=A_(0,null,null,1,0,null,null,null,null,null),je=Zd(null,ge,null,X,null,null,E,x,I,_,null);let et,ft;Fs(je);try{const st=function GE(i,s,a,l,c,f){const _=a[1];a[22]=i;const I=ku(_,22,2,"#host",null),x=I.mergedAttrs=s.hostAttrs;null!==x&&(Gf(I,x,!0),null!==i&&(so(c,i,x),null!==I.classes&&Ru(c,i,I.classes),null!==I.styles&&dE(c,i,I.styles)));const L=l.createRenderer(i,s),B=Zd(a,T_(s),null,s.onPush?32:16,a[22],I,l,L,f||null,null,null);return _.firstCreatePass&&(Mo(Ma(I,a),_,s.type),RE(_,I),NE(I,a.length,1)),th(a,B),a[22]=B}(B,this.componentDef,je,E,x);if(B)if(l)so(x,B,["ng-version",wt.full]);else{const{attrs:It,classes:ze}=function Sg(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===c?""!==f&&s.push(f,i[++l]):8===c&&a.push(f);else{if(!jt(c))break;c=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);It&&so(x,B,It),ze&&ze.length>0&&Ru(x,B,ze.join(" "))}if(ft=Bi(ge,22),void 0!==a){const It=ft.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const Kt=a[ze];It.push(null!=Kt?Array.from(Kt):null)}}et=function Fu(i,s,a,l){const c=a[1],f=function Pu(i,s,a){const l=nr();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),kE(i,l,s,Sc(i,s,1,null),a),ME(i,l));const c=ao(s,i,l.directiveStart,l);Mi(c,s);const f=Kr(l,s);return f&&Mi(f,s),c}(c,a,s);if(i[8]=a[8]=f,null!==l)for(const E of l)E(f,s);if(s.contentQueries){const E=nr();s.contentQueries(1,f,E.directiveStart)}const _=nr();return!c.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ee(_.index),Vf(a[1],_,0,_.directiveStart,_.directiveEnd,s),eh(s,f)),f}(st,this.componentDef,je,[zE]),C_(ge,je,null)}finally{O()}return new $E(this.componentType,et,y(ft,je),je,ft)}}class $E extends class Vd{}{constructor(s,a,l,c,f){super(),this.location=l,this._rootLView=c,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new hD(c),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const f=this._rootLView;rh(f[1],f,c,s,a),S_(f,this._tNode.index)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function zE(){const i=nr();An(Ge()[1],i)}function Wf(i){let s=function O_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(zn(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,!1);c=s.\u0275dir}if(c){if(a){l.push(c);const _=i;_.inputs=Qg(i.inputs),_.declaredInputs=Qg(i.declaredInputs),_.outputs=Qg(i.outputs);const E=c.hostBindings;E&&WE(i,E);const I=c.viewQuery,x=c.contentQueries;if(I&&N_(i,I),x&&Jg(i,x),le(i.inputs,c.inputs),le(i.declaredInputs,c.declaredInputs),le(i.outputs,c.outputs),zn(c)&&c.data.animation){const L=i.data;L.animation=(L.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let _=0;_<f.length;_++){const E=f[_];E&&E.ngInherit&&E(i),E===Wf&&(a=!1)}}s=Object.getPrototypeOf(s)}!function qf(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Aa(c.hostAttrs,a=Aa(a,c.hostAttrs))}}(l)}function Qg(i){return i===fn?{}:i===at?[]:i}function N_(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Jg(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,f)=>{s(l,c,f),a(l,c,f)}:s}function WE(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Il=null;function Dl(){if(!Il){const i=Ve.Symbol;if(i&&i.iterator)Il=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Il=l)}}}return Il}function Rc(i){return!!ih(i)&&(Array.isArray(i)||!(i instanceof Map)&&Dl()in i)}function ih(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ta(i,s,a){return i[s]=a}function Oi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function sh(i,s,a,l){const c=Ge();return Oi(c,vs(),s)&&(an(),Cs(Ne(),c,i,s,a,l)),sh}function kr(i,s,a,l,c,f,_,E){const I=Ge(),x=an(),L=i+22,B=x.firstCreatePass?function Xe(i,s,a,l,c,f,_,E,I){const x=s.consts,L=ku(s,i,4,_||null,hi(x,E));Xd(s,a,L,hi(x,I)),An(s,L);const B=L.tViews=A_(2,L,l,c,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,x);return null!==s.queries&&(s.queries.template(s,L),B.queries=s.queries.embeddedTView(L)),L}(L,x,I,s,a,l,c,f,_):x.data[L];fi(B,!1);const X=I[11].createComment("");Cg(x,I,X,B),Mi(X,I),th(I,I[L]=xc(X,I,X,B)),ru(B)&&Wg(x,I,B),null!=_&&qg(I,B,E)}function tm(i){return function ji(i,s){return i[s]}(function wa(){return zt.lFrame.contextLView}(),22+i)}function Tt(i,s,a){const l=Ge();return Oi(l,vs(),s)&&Ds(an(),Ne(),l,i,s,l[11],a,!1),Tt}function Wt(i,s,a,l,c){const _=c?"class":"style";rh(i,a,s.inputs[_],_,l)}function gt(i,s,a,l){const c=Ge(),f=an(),_=22+i,E=c[11],I=c[_]=$y(E,s,function un(){return zt.lFrame.currentNamespace}()),x=f.firstCreatePass?function vD(i,s,a,l,c,f,_){const E=s.consts,x=ku(s,i,2,c,hi(E,f));return Xd(s,a,x,hi(E,_)),null!==x.attrs&&Gf(x,x.attrs,!1),null!==x.mergedAttrs&&Gf(x,x.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,x),x}(_,f,c,0,s,a,l):f.data[_];fi(x,!0);const L=x.mergedAttrs;null!==L&&so(E,I,L);const B=x.classes;null!==B&&Ru(E,I,B);const X=x.styles;return null!==X&&dE(E,I,X),64!=(64&x.flags)&&Cg(f,c,I,x),0===function va(){return zt.lFrame.elementDepthCount}()&&Mi(I,c),function Ea(){zt.lFrame.elementDepthCount++}(),ru(x)&&(Wg(f,c,x),function zg(i,s,a){if(Rs(s)){const c=s.directiveEnd;for(let f=s.directiveStart;f<c;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,x,c)),null!==l&&qg(c,x),gt}function Se(){let i=nr();as()?us():(i=i.parent,fi(i,!1));const s=i;!function au(){zt.lFrame.elementDepthCount--}();const a=an();return a.firstCreatePass&&(An(a,i),Rs(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function dd(i){return 0!=(16&i.flags)}(s)&&Wt(a,s,Ge(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Xl(i){return 0!=(32&i.flags)}(s)&&Wt(a,s,Ge(),s.stylesWithoutHost,!1),Se}function Ze(i,s,a,l){return gt(i,s,a,l),Se(),Ze}function XE(){return Ge()}function V_(i){return!!i&&"function"==typeof i.then}function eb(i){return!!i&&"function"==typeof i.subscribe}const U_=eb;function B_(i,s,a,l){const c=Ge(),f=an(),_=nr();return function j_(i,s,a,l,c,f,_,E){const I=ru(l),L=i.firstCreatePass&&jE(i),B=s[8],X=BE(s);let ge=!0;if(3&l.type||E){const ft=Kr(l,s),st=E?E(ft):ft,It=X.length,ze=E?jn=>E(Nn(jn[l.index])):l.index;let Kt=null;if(!E&&I&&(Kt=function bD(i,s,a,l){const c=i.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const _=c[f];if(_===a&&c[f+1]===l){const E=s[7],I=c[f+2];return E.length>I?E[I]:null}"string"==typeof _&&(f+=2)}return null}(i,s,c,l.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=f,Kt.__ngLastListenerFn__=f,ge=!1;else{f=Lc(l,s,B,f,!1);const jn=a.listen(st,c,f);X.push(f,jn),L&&L.push(c,ze,It,It+1)}}else f=Lc(l,s,B,f,!1);const je=l.outputs;let et;if(ge&&null!==je&&(et=je[c])){const ft=et.length;if(ft)for(let st=0;st<ft;st+=2){const er=s[et[st]][et[st+1]].subscribe(f),ql=X.length;X.push(f,er),L&&L.push(c,l.index,ql,-(ql+1))}}}(f,c,c[11],_,i,s,0,l),B_}function tn(i,s,a,l){try{return!1!==a(l)}catch(c){return nh(i,c),!1}}function Lc(i,s,a,l,c){return function f(_){if(_===Function)return l;Bf(2&i.flags?on(i.index,s):s);let I=tn(s,0,l,_),x=f.__ngNextListenerFn__;for(;x;)I=tn(s,0,x,_)&&I,x=x.__ngNextListenerFn__;return c&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function H_(i=1){return function T(i){return(zt.lFrame.contextLView=function F(i,s){for(;i>0;)s=s[15],i--;return s}(i,zt.lFrame.contextLView))[8]}(i)}function vr(i,s){let a=null;const l=function Cf(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const f=s[c];if("*"!==f){if(null===l?Df(i,f,!0):jI(l,f))return c}else a=c}return a}function qt(i){const s=Ge()[16][6];if(!s.projection){const l=s.projection=co(i?i.length:1,null),c=l.slice();let f=s.child;for(;null!==f;){const _=i?vr(f,i):0;null!==_&&(c[_]?c[_].projectionNext=f:l[_]=f,c[_]=f),f=f.next}}}function ch(i,s=0,a){const l=Ge(),c=an(),f=ku(c,22+i,16,null,a||null);null===f.projection&&(f.projection=s),us(),64!=(64&f.flags)&&function lE(i,s,a){cE(s[11],0,s,a,PI(i,a,s),aE(a.parent||s[6],a,s))}(c,l,f)}function Ts(i,s,a,l,c){const f=i[a+1],_=null===s;let E=l?mo(f):Jo(f),I=!1;for(;0!==E&&(!1===I||_);){const L=i[E+1];G_(i[E],s)&&(I=!0,i[E+1]=l?Qr(L):h_(L)),E=l?mo(L):Jo(L)}I&&(i[a+1]=l?h_(f):Qr(f))}function G_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Hs(i,s)>=0}const Jr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function z_(i){return i.substring(Jr.key,Jr.keyEnd)}function we(i,s){const a=Jr.textEnd;return a===s?-1:(s=Jr.keyEnd=function Ml(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Jr.key=s,a),Ka(i,s,a))}function Ka(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Yi(i,s){return function As(i,s,a,l){const c=Ge(),f=an(),_=ls(2);f.firstUpdatePass&&K_(f,i,_,l),s!==Rt&&Oi(c,_,s)&&Q_(f,f.data[W()],c,c[11],i,c[_+1]=function Ol(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe($o(i)))),i}(s,a),l,_)}(i,s,null,!0),Yi}function q_(i){!function Xn(i,s,a,l){const c=an(),f=ls(2);c.firstUpdatePass&&K_(c,null,f,l);const _=Ge();if(a!==Rt&&Oi(_,f,a)){const E=c.data[W()];if(fh(E,l)&&!qn(c,f)){let I=l?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(a=pe(I,a||"")),Wt(c,E,_,a,l)}else!function Y_(i,s,a,l,c,f,_,E){c===Rt&&(c=at);let I=0,x=0,L=0<c.length?c[0]:null,B=0<f.length?f[0]:null;for(;null!==L||null!==B;){const X=I<c.length?c[I+1]:void 0,ge=x<f.length?f[x+1]:void 0;let et,je=null;L===B?(I+=2,x+=2,X!==ge&&(je=B,et=ge)):null===B||null!==L&&L<B?(I+=2,je=L):(x+=2,je=B,et=ge),null!==je&&Q_(i,s,a,l,je,et,_,E),L=I<c.length?c[I]:null,B=x<f.length?f[x]:null}}(c,E,_,_[11],_[f+1],_[f+1]=function Pr(i,s,a){if(null==a||""===a)return at;const l=[],c=$o(a);if(Array.isArray(c))for(let f=0;f<c.length;f++)i(l,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&i(l,f,c[f]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,f)}}(yi,Bn,i,!0)}function Bn(i,s){for(let a=function W_(i){return function sb(i){Jr.key=0,Jr.keyEnd=0,Jr.value=0,Jr.valueEnd=0,Jr.textEnd=i.length}(i),we(i,Ka(i,0,Jr.textEnd))}(s);a>=0;a=we(s,a))yi(i,z_(s),!0)}function qn(i,s){return s>=i.expandoStartIndex}function K_(i,s,a,l){const c=i.data;if(null===c[a+1]){const f=c[W()],_=qn(i,a);fh(f,l)&&null===s&&!_&&(s=!1),s=function dh(i,s,a,l){const c=function io(i){const s=zt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=_o(a=Z_(null,i,s,a,l),s.attrs,l),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(a=Z_(c,i,s,a,l),null===f){let I=function Ws(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Jo(l))return i[mo(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=Z_(null,i,s,I[1],l),I=_o(I,s.attrs,l),function ID(i,s,a,l){i[mo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else f=function ui(i,s,a){let l;const c=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<c;f++)l=_o(l,i[f].hostAttrs,a);return _o(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(c,f,s,l),function rb(i,s,a,l,c,f){let _=f?s.classBindings:s.styleBindings,E=mo(_),I=Jo(_);i[l]=a;let L,x=!1;if(Array.isArray(a)){const B=a;L=B[1],(null===L||Hs(B,L)>0)&&(x=!0)}else L=a;if(c)if(0!==I){const X=mo(i[E+1]);i[l+1]=xf(X,E),0!==X&&(i[X+1]=Rf(i[X+1],l)),i[E+1]=function bE(i,s){return 131071&i|s<<17}(i[E+1],l)}else i[l+1]=xf(E,0),0!==E&&(i[E+1]=Rf(i[E+1],l)),E=l;else i[l+1]=xf(I,0),0===E?E=l:i[I+1]=Rf(i[I+1],l),I=l;x&&(i[l+1]=h_(i[l+1])),Ts(i,L,l,!0),Ts(i,L,l,!1),function ib(i,s,a,l,c){const f=c?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Hs(f,s)>=0&&(a[l+1]=Qr(a[l+1]))}(s,L,i,l,f),_=xf(E,I),f?s.classBindings=_:s.styleBindings=_}(c,f,s,a,_,l)}}function Z_(i,s,a,l,c){let f=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(f=s[E],l=_o(l,f.hostAttrs,c),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),l}function _o(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?c=_:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),yi(i,_,!!a||s[++f]))}return void 0===i?null:i}function Q_(i,s,a,l,c,f,_,E){if(!(3&s.type))return;const I=i.data,x=I[E+1];am(function Fg(i){return 1==(1&i)}(x)?hh(I,s,a,c,Jo(x),_):void 0)||(am(f)||function Lg(i){return 2==(2&i)}(x)&&(f=hh(I,null,a,c,E,_)),function YT(i,s,a,l,c){if(s)c?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:Zo.DashCase;null==c?i.removeStyle(a,l,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=Zo.Important),i.setStyle(a,l,c,f))}}(l,_,qr(W(),a),c,f))}function hh(i,s,a,l,c,f){const _=null===s;let E;for(;c>0;){const I=i[c],x=Array.isArray(I),L=x?I[1]:I,B=null===L;let X=a[c+1];X===Rt&&(X=B?at:void 0);let ge=B?js(X,l):L===l?X:void 0;if(x&&!am(ge)&&(ge=js(I,l)),am(ge)&&(E=ge,_))return E;const je=i[c+1];c=_?mo(je):Jo(je)}if(null!==s){let I=f?s.residualClasses:s.residualStyles;null!=I&&(E=js(I,l))}return E}function am(i){return void 0!==i}function fh(i,s){return 0!=(i.flags&(s?16:32))}function ph(i,s=""){const a=Ge(),l=an(),c=i+22,f=l.firstCreatePass?ku(l,c,1,s,null):l.data[c],_=a[c]=function Dg(i,s){return i.createText(s)}(a[11],s);Cg(l,a,_,f),fi(f,!1)}function um(i){return Za("",i,""),um}function Za(i,s,a){const l=Ge(),c=function Oc(i,s,a,l){return Oi(i,vs(),a)?s+Te(a)+l:Rt}(l,i,s,a);return c!==Rt&&function ea(i,s,a){const l=qr(s,i);!function tE(i,s,a){i.setValue(s,a)}(i[11],l,a)}(l,W(),c),Za}function nv(i,s,a){const l=Ge();return Oi(l,vs(),s)&&Ds(an(),Ne(),l,i,s,l[11],a,!0),nv}const jc=void 0;var SD=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AD(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let yh={};function kl(i){const s=function _h(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=sv(s);if(a)return a;const l=s.split("-")[0];if(a=sv(l),a)return a;if("en"===l)return SD;throw new xe(701,!1)}function iv(i){return kl(i)[$t.PluralCase]}function sv(i){return i in yh||(yh[i]=Ve.ng&&Ve.ng.common&&Ve.ng.common.locales&&Ve.ng.common.locales[i]),yh[i]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Ll="en-US";let uv=Ll;function pm(i,s,a,l,c){if(i=te(i),Array.isArray(i))for(let f=0;f<i.length;f++)pm(i[f],s,a,l,c);else{const f=an(),_=Ge();let E=Go(i)?i:te(i.provide),I=gg(i);const x=nr(),L=1048575&x.providerIndexes,B=x.directiveStart,X=x.providerIndexes>>20;if(Go(i)||!i.multi){const ge=new zi(I,c,Cc),je=$c(E,s,c?L:L+X,B);-1===je?(Mo(Ma(x,_),f,E),Dv(f,i,s.length),s.push(E),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(ge),_.push(ge)):(a[je]=ge,_[je]=ge)}else{const ge=$c(E,s,L+X,B),je=$c(E,s,L,L+X),et=ge>=0&&a[ge],ft=je>=0&&a[je];if(c&&!ft||!c&&!et){Mo(Ma(x,_),f,E);const st=function Tv(i,s,a,l,c){const f=new zi(i,a,Cc);return f.multi=[],f.index=s,f.componentProviders=0,Fb(f,c,l&&!a),f}(c?HD:Cv,a.length,c,l,I);!c&&ft&&(a[je].providerFactory=st),Dv(f,i,s.length,0),s.push(E),x.directiveStart++,x.directiveEnd++,c&&(x.providerIndexes+=1048576),a.push(st),_.push(st)}else Dv(f,i,ge>-1?ge:je,Fb(a[c?je:ge],I,!c&&l));!c&&l&&ft&&a[je].componentProviders++}}}function Dv(i,s,a,l){const c=Go(s),f=function hg(i){return!!i.useClass}(s);if(c||f){const I=(f?te(s.useClass):s).prototype.ngOnDestroy;if(I){const x=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const L=x.indexOf(a);-1===L?x.push(a,[l,I]):x[L+1].push(l,I)}else x.push(a,I)}}}function Fb(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function $c(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function Cv(i,s,a,l){return gm(this.multi,[])}function HD(i,s,a,l){const c=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=ao(a,a[1],this.providerFactory.index,l);f=E.slice(0,_),gm(c,f);for(let I=_;I<E.length;I++)f.push(E[I])}else f=[],gm(c,f);return f}function gm(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Av(i,s=[]){return a=>{a.providersResolver=(l,c)=>function Lb(i,s,a){const l=an();if(l.firstCreatePass){const c=zn(i);pm(a,l.data,l.blueprint,c,!0),pm(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Sh{}class Sv{}function $D(i,s){return new Gc(i,s??null)}class Gc extends Sh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _r(this);const l=Ln(s);this._bootstrapComponents=Ko(l.bootstrap),this._r3Injector=Mg(s,a,[{provide:Sh,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],fe(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Bl extends Sv{constructor(s){super(),this.moduleType=s}create(s){return new Gc(this.moduleType,s)}}class GD extends Sh{constructor(s,a,l){super(),this.componentFactoryResolver=new _r(this),this.instance=null;const c=new fg([...s,{provide:Sh,useValue:this},{provide:_l,useValue:this.componentFactoryResolver}],a||Ld(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Mv(i,s,a=null){return new GD(i,s,a).injector}let zD=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=yc(0,a.type),c=l.length>0?Mv([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,c)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Jt({token:i,providedIn:"environment",factory:()=>new i(gr(ps))}),i})();function xv(i){i.getStandaloneInjector=s=>s.get(zD).getOrCreateStandaloneInjector(i)}function Hb(i,s,a){const l=Vn()+i,c=Ge();return c[l]===Rt?ta(c,l,a?s.call(a):s()):function na(i,s){return i[s]}(c,l)}function $b(i,s,a,l){return function ym(i,s,a,l,c,f){const _=s+a;return Oi(i,_,c)?ta(i,_+1,f?l.call(f,c):l(c)):function Lr(i,s){const a=i[s];return a===Rt?void 0:a}(i,_+1)}(Ge(),Vn(),i,s,a,l)}function Em(i){return s=>{setTimeout(i,void 0,s)}}const aa=class Lv extends w.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let c=s,f=a||(()=>null),_=l;if(s&&"object"==typeof s){const I=s;c=I.next?.bind(I),f=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(f=Em(f),c&&(c=Em(c)),_&&(_=Em(_)));const E=super.subscribe({next:c,error:f,complete:_});return s instanceof g.w0&&s.add(E),E}};function rC(){return this._results[Dl()]()}class bm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Dl(),l=bm.prototype;l[a]||(l[a]=rC)}get changes(){return this._changes||(this._changes=new aa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=ii(s);(this._changesDetected=!function _u(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],f=s[l];if(a&&(c=a(c),f=a(f)),f!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mh=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zc,i})();const wm=Mh,yp=class extends wm{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,c=Zd(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);c[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(c[19]=_.createEmbeddedView(l)),C_(l,c,s),new Lu(c)}};function Zc(){return Im(nr(),Ge())}function Im(i,s){return 4&i.type?new yp(s,i,y(i,s)):null}let _p=(()=>{class i{}return i.__NG_ELEMENT_ID__=iC,i})();function iC(){return jl(nr(),Ge())}const sC=_p,Zb=class extends sC{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return y(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const s=xa(this._hostTNode,this._hostLView);if(nc(s)){const a=pu(s,this._hostLView),l=Or(s);return new uo(a[1].data[l+8],a)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=xh(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let c,f;"number"==typeof l?c=l:null!=l&&(c=l.index,f=l.injector);const _=s.createEmbeddedView(a||{},f);return this.insert(_,c),_}createComponent(s,a,l,c,f){const _=s&&!function Va(i){return"function"==typeof i}(s);let E;if(_)E=a;else{const B=a||{};E=B.index,l=B.injector,c=B.projectableNodes,f=B.environmentInjector||B.ngModuleRef}const I=_?s:new zf(ce(s)),x=l||this.parentInjector;if(!f&&null==I.ngModule){const X=(_?x:this.parentInjector).get(ps,null);X&&(f=X)}const L=I.create(x,c,void 0,f);return this.insert(L.hostView,E),L}insert(s,a){const l=s._lView,c=l[1];if(function Ps(i){return Rn(i[3])}(l)){const L=this.indexOf(s);if(-1!==L)this.detach(L);else{const B=l[3],X=new Zb(B,B[6],B[3]);X.detach(X.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function rE(i,s,a,l){const c=10+l,f=a.length;l>0&&(a[c-1][4]=s),l<f-10?(s[4]=a[c],gd(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function kI(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const E=s[19];null!==E&&E.insertView(i),s[2]|=64}(c,l,_,f);const E=Le(f,_),I=l[11],x=Jy(I,_[7]);return null!==x&&function Gy(i,s,a,l,c,f){l[0]=c,l[6]=s,wc(i,l,a,1,c,f)}(c,_[6],I,l,x,E),s.attachToViewContainerRef(),gd(Hu(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=xh(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=qy(this._lContainer,a);l&&(Ua(Hu(this._lContainer),a),Ky(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=qy(this._lContainer,a);return l&&null!=Ua(Hu(this._lContainer),a)?new Lu(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function xh(i){return i[8]}function Hu(i){return i[8]||(i[8]=[])}function jl(i,s){let a;const l=s[i.index];if(Rn(l))a=l;else{let c;if(8&i.type)c=Nn(l);else{const f=s[11];c=f.createComment("");const _=Kr(i,s);vl(f,Jy(f,_),c,function oE(i,s){return i.nextSibling(s)}(f,_),!1)}s[i.index]=a=xc(l,s,c,i),th(s,a)}return new Zb(a,i,s)}class vp{constructor(s){this.queryList=s,this.matches=null}clone(){return new vp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rh{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let f=0;f<l;f++){const _=a.getByIndex(f);c.push(this.queries[_.indexInDeclarationView].clone())}return new Rh(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Qc(s,a).matches&&this.queries[a].setDirty()}}class Qb{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Dm{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,c);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Dm(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Yc{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Yc(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const f=l[c];this.matchTNodeWithReadOption(s,a,Cm(a,f)),this.matchTNodeWithReadOption(s,a,Oa(a,s,f,!1,!1))}else l===Mh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Oa(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===h||c===_p||c===Mh&&4&a.type)this.addMatch(a.index,-2);else{const f=Oa(a,s,c,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Cm(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Jb(i,s,a,l){return-1===a?function Ep(i,s){return 11&i.type?y(i,s):4&i.type?Im(i,s):null}(s,i):-2===a?function Xb(i,s,a){return a===h?y(s,i):a===Mh?Im(s,i):a===_p?jl(s,i):void 0}(i,s,l):ao(i,i[1],a,s)}function ms(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const f=i.data,_=a.matches,E=[];for(let I=0;I<_.length;I+=2){const x=_[I];E.push(x<0?null:Jb(s,f[x],_[I+1],a.metadata.read))}c.matches=E}return c.matches}function Tm(i,s,a,l){const c=i.queries.getByIndex(a),f=c.matches;if(null!==f){const _=ms(i,s,c,a);for(let E=0;E<f.length;E+=2){const I=f[E];if(I>0)l.push(_[E/2]);else{const x=f[E+1],L=s[-I];for(let B=10;B<L.length;B++){const X=L[B];X[17]===X[3]&&Tm(X[1],X,x,l)}if(null!==L[9]){const B=L[9];for(let X=0;X<B.length;X++){const ge=B[X];Tm(ge[1],ge,x,l)}}}}}return l}function bp(i){const s=Ge(),a=an(),l=Da();ni(l+1);const c=Qc(a,l);if(i.dirty&&function ma(i){return 4==(4&i[2])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const f=c.crossesNgTemplate?Tm(a,s,l,[]):ms(a,s,c,l);i.reset(f,p),i.notifyOnChanges()}return!0}return!1}function wp(i,s,a){const l=an();l.firstCreatePass&&(Hl(l,new Qb(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),Vv(l,Ge(),s)}function Fv(i,s,a,l){const c=an();if(c.firstCreatePass){const f=nr();Hl(c,new Qb(s,a,l),f.index),function aC(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}Vv(c,Ge(),a)}function $u(){return function Oh(i,s){return i[19].queries[s].queryList}(Ge(),Da())}function Vv(i,s,a){const l=new bm(4==(4&a));Qd(i,s,l,l.destroy),null===s[19]&&(s[19]=new Rh),s[19].queries.push(new vp(l))}function Hl(i,s,a){null===i.queries&&(i.queries=new Dm),i.queries.track(new Yc(s,a))}function Qc(i,s){return i.queries.getByIndex(s)}function Lh(...i){}const Fh=new Un("Application Initializer");let ed=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Lh,this.reject=Lh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(V_(f))a.push(f);else if(U_(f)){const _=new Promise((E,I)=>{f.subscribe({complete:E,error:I})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(gr(Fh,8))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Rm=new Un("AppId",{providedIn:"root",factory:function Om(){return`${Nm()}${Nm()}${Nm()}`}});function Nm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ww=new Un("Platform Initializer"),Iw=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Dw=new Un("appBootstrapListener"),gC=new Un("AnimationModuleType");let Cw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Gl=new Un("LocaleId",{providedIn:"root",factory:()=>C(Gl,_t.Optional|_t.SkipSelf)||function km(){return typeof $localize<"u"&&$localize.locale||Ll}()}),Qv=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class yC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let _C=(()=>{class i{compileModuleSync(a){return new Bl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Ko(Ln(a).declarations).reduce((_,E)=>{const I=ce(E);return I&&_.push(new zf(I)),_},[]);return new yC(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Lm=(()=>Promise.resolve(0))();function td(i){typeof Zone>"u"?Lm.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ks{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new aa(!1),this.onMicrotaskEmpty=new aa(!1),this.onStable=new aa(!1),this.onError=new aa(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Xv(){let i=Ve.requestAnimationFrame,s=Ve.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Tw(i){const s=()=>{!function Gu(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ve,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,t0(i),i.isCheckStableRunning=!0,Mp(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),t0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,f,_,E)=>{try{return Fm(i),a.invokeTask(c,f,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),Aw(i)}},onInvoke:(a,l,c,f,_,E,I)=>{try{return Fm(i),a.invoke(c,f,_,E,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Aw(i)}},onHasTask:(a,l,c,f)=>{a.hasTask(c,f),l===c&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,t0(i),Mp(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,c,f)=>(a.handleError(c,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new xe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+c,s,e0,Lh,Lh);try{return f.runTask(_,a,l)}finally{f.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const e0={};function Mp(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function t0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Fm(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Aw(i){i._nesting--,Mp(i)}class n0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new aa,this.onMicrotaskEmpty=new aa,this.onStable=new aa,this.onError=new aa}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}const Sw=new Un(""),Vm=new Un("");let zl,Um=(()=>{class i{constructor(a,l,c){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zl||(function Mw(i){zl=i}(c),c.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),td(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())td(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(gr(Ks),gr(Bm),gr(Vm))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac}),i})(),Bm=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return zl?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Xa=null;const xw=new Un("AllowMultipleToken"),r0=new Un("PlatformDestroyListeners");class EC{constructor(s,a){this.name=s,this.token=a}}function Hm(i,s,a=[]){const l=`Platform: ${s}`,c=new Un(l);return(f=[])=>{let _=xp();if(!_||_.injector.get(xw,!1)){const E=[...a,...f,{provide:c,useValue:!0}];i?i(E):function o0(i){if(Xa&&!Xa.get(xw,!1))throw new xe(400,!1);Xa=i;const s=i.get(nd);(function jm(i){const s=i.get(ww,null);s&&s.forEach(a=>a())})(i)}(function $m(i=[],s){return Dc.create({name:s,providers:[{provide:Su,useValue:"platform"},{provide:r0,useValue:new Set([()=>Xa=null])},...i]})}(E,l))}return function Ow(i){const s=xp();if(!s)throw new xe(401,!1);return s}()}}function xp(){return Xa?.get(nd)??null}let nd=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const c=function Gm(i,s){let a;return a="noop"===i?new n0:("zone.js"===i?void 0:i)||new Ks(s),a}(l?.ngZone,function zu(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Ks,useValue:c}];return c.run(()=>{const _=Dc.create({providers:f,parent:this.injector,name:a.moduleType.name}),E=a.create(_),I=E.injector.get(mf,null);if(!I)throw new xe(402,!1);return c.runOutsideAngular(()=>{const x=c.onError.subscribe({next:L=>{I.handleError(L)}});E.onDestroy(()=>{Wu(this._modules,E),x.unsubscribe()})}),function rd(i,s,a){try{const l=a();return V_(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(I,c,()=>{const x=E.injector.get(ed);return x.runInitializers(),x.donePromise.then(()=>(function hm(i){Oe(i,"Expected localeId to be defined"),"string"==typeof i&&(uv=i.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Gl,Ll)||Ll),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const c=id({},l);return function Rw(i,s,a){const l=new Bl(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(a){const l=a.injector.get(Rp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new xe(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(r0,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(gr(Dc))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function id(i,s){return Array.isArray(s)?s.reduce(id,i):{...i,...s}}let Rp=(()=>{class i{constructor(a,l,c){this._zone=a,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new U.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new U.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),td(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),x.unsubscribe()}});this.isStable=(0,se.T)(f,_.pipe((0,ne.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const c=a instanceof xu;if(!this._injector.get(ed).done)throw!c&&Dn(a),new xe(405,false);let _;_=c?a:this._injector.get(_l).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function s0(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Sh),x=_.create(Dc.NULL,[],l||_.selector,E),L=x.location.nativeElement,B=x.injector.get(Sw,null);return B?.registerApplication(L),x.onDestroy(()=>{this.detachView(x.hostView),Wu(this.components,x),B?.unregisterApplication(L)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Wu(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Dw,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Wu(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new xe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(gr(Ks),gr(ps),gr(mf))},i.\u0275prov=Jt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Wu(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let zm=!0,Wm=!1;function a0(){return Wm=!0,zm}function u0(){if(Wm)throw new Error("Cannot enable prod mode after platform setup.");zm=!1}let l0=(()=>{class i{}return i.__NG_ELEMENT_ID__=IC,i})();function IC(i){return function Pw(i,s,a){if(Js(i)&&!a){const l=on(i.index,s);return new Lu(l,l)}return 47&i.type?new Lu(s[16],s):null}(nr(),Ge(),16==(16&i))}class Jm{constructor(){}supports(s){return Rc(s)}create(s){return new d0(s)}}const NC=(i,s)=>s;class d0{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||NC}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,f=null;for(;a||l;){const _=!l||a&&a.currentIndex<ey(l,c,f)?a:l,E=ey(_,c,f),I=_.currentIndex;if(_===l)c--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)c++;else{f||(f=[]);const x=E-c,L=I-c;if(x!=L){for(let X=0;X<x;X++){const ge=X<f.length?f[X]:f[X]=0,je=ge+X;L<=je&&je<x&&(f[X]=ge+1)}f[_.previousIndex]=L-x}}E!==I&&s(_,E,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Rc(s))throw new xe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,f,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],_=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,f,_,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,E),l=!0),a=a._next}else c=0,function KE(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Dl()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,E=>{_=this._trackByFn(c,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,c)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,c)):s=this._addAfter(new kC(a,l),f,c),s}_verifyReinsertion(s,a,l,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,f=s._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Xm),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xm),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class kC{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class h0{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Xm{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new h0,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ey(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class sd{constructor(){}supports(s){return s instanceof Map||ih(s)}create(){return new Fw}}class Fw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||ih(s)))throw new xe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const f=c._prev,_=c._next;return f&&(f._next=_),_&&(_._prev=f),c._next=null,c._prev=null,c}const l=new f0(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class f0{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Vw(){return new kp([new Jm])}let kp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Vw()),deps:[[i,new Ht,new ct]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new xe(901,!1)}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:Vw}),i})();function ty(){return new p0([new sd])}let p0=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ty()),deps:[[i,new Ht,new ct]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new xe(901,!1)}}return i.\u0275prov=Jt({token:i,providedIn:"root",factory:ty}),i})();const LC=Hm(null,"core",[]);let m0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(gr(Rp))},i.\u0275mod=Yt({type:i}),i.\u0275inj=Ut({}),i})();function FC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(yt,De,k)=>{k.d(De,{Z:()=>xe});var w=k(2090),g=k(4859),U=k(9681),se=k(1877);class ne{constructor(Te,ve){this._delegate=Te,this.firebase=ve,(0,U._addComponent)(Te,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(Te,ve=U._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Te);return!vt.isInitialized()&&"EXPLICIT"===(null===(ht=vt.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:ve})}_removeServiceInstance(Te,ve=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(ve)}_addComponent(Te){(0,U._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,U._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function pe(){const lt=function fe(lt){const Te={},ve={__esModule:!0,initializeApp:function $e(rt,q={}){const _e=U.initializeApp(rt,q);if((0,w.r3)(Te,_e.name))return Te[_e.name];const ee=new lt(_e,ve);return Te[_e.name]=ee,ee},app:vt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function Ue(rt){const q=rt.name,_e=q.replace("-compat","");if(U._registerComponent(rt)&&"PUBLIC"===rt.type){const ee=(ue=vt())=>{if("function"!=typeof ue[_e])throw le.create("invalid-app-argument",{appName:q});return ue[_e]()};void 0!==rt.serviceProps&&(0,w.ZB)(ee,rt.serviceProps),ve[_e]=ee,lt.prototype[_e]=function(...ue){return this._getService.bind(this,q).apply(this,rt.multipleInstances?ue:[])}}return"PUBLIC"===rt.type?ve[_e]:null},removeApp:function ht(rt){delete Te[rt]},useAsService:function nt(rt,q){return"serverAuth"===q?null:q},modularAPIs:U}};function vt(rt){if(!(0,w.r3)(Te,rt=rt||U._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:rt});return Te[rt]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function ke(){return Object.keys(Te).map(rt=>Te[rt])}}),vt.App=lt,ve}(ne);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function Te(ve){(0,w.ZB)(lt,ve)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),lt}(),K=new se.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=$;!function Be(lt){(0,U.registerVersion)("@firebase/app-compat","0.1.38",lt)}()},9681:(yt,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>Oe,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Jt,_apps:()=>pt,_clearComponents:()=>Ii,_components:()=>Ot,_getProvider:()=>Ut,_registerComponent:()=>Hn,_removeServiceInstance:()=>Mn,deleteApp:()=>Fi,getApp:()=>Mr,getApps:()=>$r,initializeApp:()=>Ur,onLog:()=>Ji,registerVersion:()=>br,setLogLevel:()=>sr});var w=k(5861),g=k(4859),U=k(1877),se=k(2090),ne=k(8766);class de{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function le(Et){return"VERSION"===Et.getComponent()?.type}(ut)){const Ft=ut.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(ut=>ut).join(" ")}}const fe="@firebase/app",$=new U.Yd("@firebase/app"),Oe="[DEFAULT]",Re={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,Ot=new Map;function Zt(Et,We){try{Et.container.addComponent(We)}catch(ut){$.debug(`Component ${We.name} failed to register with FirebaseApp ${Et.name}`,ut)}}function Jt(Et,We){Et.container.addOrOverwriteComponent(We)}function Hn(Et){const We=Et.name;if(Ot.has(We))return $.debug(`There were multiple attempts to register component ${We}.`),!1;Ot.set(We,Et);for(const ut of pt.values())Zt(ut,Et);return!0}function Ut(Et,We){const ut=Et.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),Et.container.getProvider(We)}function Mn(Et,We,ut=Oe){Ut(Et,We).clearInstance(ut)}function Ii(){Ot.clear()}const Vr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sr{constructor(We,ut,Ft){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}const Di="9.13.0";function Ur(Et,We={}){let ut=Et;"object"!=typeof We&&(We={name:We});const Ft=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},We),Bt=Ft.name;if("string"!=typeof Bt||!Bt)throw Vr.create("bad-app-name",{appName:String(Bt)});if(ut||(ut=(0,se.aH)()),!ut)throw Vr.create("no-options");const Yt=pt.get(Bt);if(Yt){if((0,se.vZ)(ut,Yt.options)&&(0,se.vZ)(Ft,Yt.config))return Yt;throw Vr.create("duplicate-app",{appName:Bt})}const J=new g.H0(Bt);for(const ie of Ot.values())J.addComponent(ie);const z=new Sr(ut,Ft,J);return pt.set(Bt,z),z}function Mr(Et=Oe){const We=pt.get(Et);if(!We&&Et===Oe)return Ur();if(!We)throw Vr.create("no-app",{appName:Et});return We}function $r(){return Array.from(pt.values())}function Fi(Et){return _t.apply(this,arguments)}function _t(){return(_t=(0,w.Z)(function*(Et){const We=Et.name;pt.has(We)&&(pt.delete(We),yield Promise.all(Et.container.getProviders().map(ut=>ut.delete())),Et.isDeleted=!0)})).apply(this,arguments)}function br(Et,We,ut){var Ft;let Bt=null!==(Ft=Re[Et])&&void 0!==Ft?Ft:Et;ut&&(Bt+=`-${ut}`);const Yt=Bt.match(/\s|\//),J=We.match(/\s|\//);if(Yt||J){const z=[`Unable to register library "${Bt}" with version "${We}":`];return Yt&&z.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Yt&&J&&z.push("and"),J&&z.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void $.warn(z.join(" "))}Hn(new g.wA(`${Bt}-version`,()=>({library:Bt,version:We}),"VERSION"))}function Ji(Et,We){if(null!==Et&&"function"!=typeof Et)throw Vr.create("invalid-log-argument");(0,U.Am)(Et,We)}function sr(Et){(0,U.Ub)(Et)}const Qn="firebase-heartbeat-store";let Pe=null;function Y(){return Pe||(Pe=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(Et,We)=>{0===We&&Et.createObjectStore(Qn)}}).catch(Et=>{throw Vr.create("idb-open",{originalErrorMessage:Et.message})})),Pe}function Ce(){return(Ce=(0,w.Z)(function*(Et){var We;try{return(yield Y()).transaction(Qn).objectStore(Qn).get(Nt(Et))}catch(ut){if(ut instanceof se.ZR)$.warn(ut.message);else{const Ft=Vr.create("idb-get",{originalErrorMessage:null===(We=ut)||void 0===We?void 0:We.message});$.warn(Ft.message)}}})).apply(this,arguments)}function Ve(Et,We){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,w.Z)(function*(Et,We){var ut;try{const Bt=(yield Y()).transaction(Qn,"readwrite");return yield Bt.objectStore(Qn).put(We,Nt(Et)),Bt.done}catch(Ft){if(Ft instanceof se.ZR)$.warn(Ft.message);else{const Bt=Vr.create("idb-set",{originalErrorMessage:null===(ut=Ft)||void 0===ut?void 0:ut.message});$.warn(Bt.message)}}})).apply(this,arguments)}function Nt(Et){return`${Et.name}!${Et.options.appId}`}class Pn{constructor(We){this.container=We,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new Xt(ut),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var We=this;return(0,w.Z)(function*(){const Ft=We.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=rn();if(null===We._heartbeatsCache&&(We._heartbeatsCache=yield We._heartbeatsCachePromise),We._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!We._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Bt))return We._heartbeatsCache.heartbeats.push({date:Bt,agent:Ft}),We._heartbeatsCache.heartbeats=We._heartbeatsCache.heartbeats.filter(Yt=>{const J=new Date(Yt.date).valueOf();return Date.now()-J<=2592e6}),We._storage.overwrite(We._heartbeatsCache)})()}getHeartbeatsHeader(){var We=this;return(0,w.Z)(function*(){if(null===We._heartbeatsCache&&(yield We._heartbeatsCachePromise),null===We._heartbeatsCache||0===We._heartbeatsCache.heartbeats.length)return"";const ut=rn(),{heartbeatsToSend:Ft,unsentEntries:Bt}=function wr(Et,We=1024){const ut=[];let Ft=Et.slice();for(const Bt of Et){const Yt=ut.find(J=>J.agent===Bt.agent);if(Yt){if(Yt.dates.push(Bt.date),en(ut)>We){Yt.dates.pop();break}}else if(ut.push({agent:Bt.agent,dates:[Bt.date]}),en(ut)>We){ut.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Ft}}(We._heartbeatsCache.heartbeats),Yt=(0,se.L)(JSON.stringify({version:2,heartbeats:Ft}));return We._heartbeatsCache.lastSentHeartbeatDate=ut,Bt.length>0?(We._heartbeatsCache.heartbeats=Bt,yield We._storage.overwrite(We._heartbeatsCache)):(We._heartbeatsCache.heartbeats=[],We._storage.overwrite(We._heartbeatsCache)),Yt})()}}function rn(){return(new Date).toISOString().substring(0,10)}class Xt{constructor(We){this.app=We,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var We=this;return(0,w.Z)(function*(){return(yield We._canUseIndexedDBPromise)&&(yield function G(Et){return Ce.apply(this,arguments)}(We.app))||{heartbeats:[]}})()}overwrite(We){var ut=this;return(0,w.Z)(function*(){var Ft;if(yield ut._canUseIndexedDBPromise){const Yt=yield ut.read();return Ve(ut.app,{lastSentHeartbeatDate:null!==(Ft=We.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Yt.lastSentHeartbeatDate,heartbeats:We.heartbeats})}})()}add(We){var ut=this;return(0,w.Z)(function*(){var Ft;if(yield ut._canUseIndexedDBPromise){const Yt=yield ut.read();return Ve(ut.app,{lastSentHeartbeatDate:null!==(Ft=We.lastSentHeartbeatDate)&&void 0!==Ft?Ft:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...We.heartbeats]})}})()}}function en(Et){return(0,se.L)(JSON.stringify({version:2,heartbeats:Et})).length}!function cn(Et){Hn(new g.wA("platform-logger",We=>new de(We),"PRIVATE")),Hn(new g.wA("heartbeat",We=>new Pn(We),"PRIVATE")),br(fe,"0.8.3",Et),br(fe,"0.8.3","esm2017"),br("fire-js","")}("")},4859:(yt,De,k)=>{k.d(De,{H0:()=>fe,wA:()=>U});var w=k(5861),g=k(2090);class U{constructor($,K,te){this.name=$,this.instanceFactory=K,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const se="[DEFAULT]";class ne{constructor($,K){this.name=$,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const K=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(K)){const te=new g.BH;if(this.instancesDeferred.set(K,te),this.isInitialized(K)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:K});Qe&&te.resolve(Qe)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate($){var K;const te=this.normalizeInstanceIdentifier($?.identifier),Qe=null!==(K=$?.optional)&&void 0!==K&&K;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Be){if(Qe)return null;throw Be}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function le(pe){return"EAGER"===pe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[K,te]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(K);try{const Be=this.getOrInitializeService({instanceIdentifier:Qe});te.resolve(Be)}catch{}}}}clearInstance($=se){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,w.Z)(function*(){const K=Array.from($.instances.values());yield Promise.all([...K.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...K.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=se){return this.instances.has($)}getOptions($=se){return this.instancesOptions.get($)||{}}initialize($={}){const{options:K={}}=$,te=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:te,options:K});for(const[Be,xe]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Be)&&xe.resolve(Qe);return Qe}onInit($,K){var te;const Qe=this.normalizeInstanceIdentifier(K),Be=null!==(te=this.onInitCallbacks.get(Qe))&&void 0!==te?te:new Set;Be.add($),this.onInitCallbacks.set(Qe,Be);const xe=this.instances.get(Qe);return xe&&$(xe,Qe),()=>{Be.delete($)}}invokeOnInitCallbacks($,K){const te=this.onInitCallbacks.get(K);if(te)for(const Qe of te)try{Qe($,K)}catch{}}getOrInitializeService({instanceIdentifier:$,options:K={}}){let te=this.instances.get($);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=$,pe===se?void 0:pe),options:K}),this.instances.set($,te),this.instancesOptions.set($,K),this.invokeOnInitCallbacks(te,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,te)}catch{}var pe;return te||null}normalizeInstanceIdentifier($=se){return this.component?this.component.multipleInstances?$:se:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const K=this.getProvider($.name);if(K.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);K.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const K=new ne($,this);return this.providers.set($,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,De,k)=>{k.d(De,{Am:()=>pe,Ub:()=>fe,Yd:()=>le,in:()=>g});const w=[];var g=(()=>{return($=g||(g={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",g;var $})();const U={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},se=g.INFO,ne={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},de=($,K,...te)=>{if(K<$.logLevel)return;const Qe=(new Date).toISOString(),Be=ne[K];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Be](`[${Qe}]  ${$.name}:`,...te)};class le{constructor(K){this.name=K,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in g))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?U[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...K),this._logHandler(this,g.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...K),this._logHandler(this,g.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,g.INFO,...K),this._logHandler(this,g.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,g.WARN,...K),this._logHandler(this,g.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...K),this._logHandler(this,g.ERROR,...K)}}function fe($){w.forEach(K=>{K.setLogLevel($)})}function pe($,K){for(const te of w){let Qe=null;K&&K.level&&(Qe=U[K.level]),te.userLogHandler=null===$?null:(Be,xe,...lt)=>{const Te=lt.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");xe>=(Qe??Be.logLevel)&&$({level:g[xe].toLowerCase(),message:Te,args:lt,type:Be.name})}}}},9383:(yt,De,k)=>{k.d(De,{aw:()=>Je,sK:()=>ue});var w=k(4650),g=k(9646),U=k(5191),se=k(4128),ne=k(7272),de=k(9770),le=k(5698),fe=k(4782),pe=k(4004),$=k(4351),K=k(3900);class te{}let Qe=(()=>{class he extends te{getTranslation(Q){return(0,g.of)({})}}return he.\u0275fac=function(){let Ye;return function(Oe){return(Ye||(Ye=w.n5z(he)))(Oe||he)}}(),he.\u0275prov=w.Yz7({token:he,factory:he.\u0275fac}),he})();class Be{}let xe=(()=>{class he{handle(Q){return Q.key}}return he.\u0275fac=function(Q){return new(Q||he)},he.\u0275prov=w.Yz7({token:he,factory:he.\u0275fac}),he})();function Te(he){return typeof he<"u"&&null!==he}function ve(he){return he&&"object"==typeof he&&!Array.isArray(he)}function ht(he,Ye){let Q=Object.assign({},he);return ve(he)&&ve(Ye)&&Object.keys(Ye).forEach(Oe=>{ve(Ye[Oe])?Oe in he?Q[Oe]=ht(he[Oe],Ye[Oe]):Object.assign(Q,{[Oe]:Ye[Oe]}):Object.assign(Q,{[Oe]:Ye[Oe]})}),Q}class vt{}let $e=(()=>{class he extends vt{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Q,Oe){let Re;return Re="string"==typeof Q?this.interpolateString(Q,Oe):"function"==typeof Q?this.interpolateFunction(Q,Oe):Q,Re}getValue(Q,Oe){let Re="string"==typeof Oe?Oe.split("."):[Oe];Oe="";do{Oe+=Re.shift(),!Te(Q)||!Te(Q[Oe])||"object"!=typeof Q[Oe]&&Re.length?Re.length?Oe+=".":Q=void 0:(Q=Q[Oe],Oe="")}while(Re.length);return Q}interpolateFunction(Q,Oe){return Q(Oe)}interpolateString(Q,Oe){return Oe?Q.replace(this.templateMatcher,(Re,pt)=>{let Ot=this.getValue(Oe,pt);return Te(Ot)?Ot:Re}):Q}}return he.\u0275fac=function(){let Ye;return function(Oe){return(Ye||(Ye=w.n5z(he)))(Oe||he)}}(),he.\u0275prov=w.Yz7({token:he,factory:he.\u0275fac}),he})();class ke{}let Ue=(()=>{class he extends ke{compile(Q,Oe){return Q}compileTranslations(Q,Oe){return Q}}return he.\u0275fac=function(){let Ye;return function(Oe){return(Ye||(Ye=w.n5z(he)))(Oe||he)}}(),he.\u0275prov=w.Yz7({token:he,factory:he.\u0275fac}),he})();class nt{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new w.vpe,this.onLangChange=new w.vpe,this.onDefaultLangChange=new w.vpe}}const rt=new w.OlP("USE_STORE"),q=new w.OlP("USE_DEFAULT_LANG"),_e=new w.OlP("DEFAULT_LANGUAGE"),ee=new w.OlP("USE_EXTEND");let ue=(()=>{class he{constructor(Q,Oe,Re,pt,Ot,Zt=!0,Jt=!1,Hn=!1,Ut){this.store=Q,this.currentLoader=Oe,this.compiler=Re,this.parser=pt,this.missingTranslationHandler=Ot,this.useDefaultLang=Zt,this.isolate=Jt,this.extend=Hn,this.pending=!1,this._onTranslationChange=new w.vpe,this._onLangChange=new w.vpe,this._onDefaultLangChange=new w.vpe,this._langs=[],this._translations={},this._translationRequests={},Ut&&this.setDefaultLang(Ut)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Q){this.isolate?this._defaultLang=Q:this.store.defaultLang=Q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Q){this.isolate?this._currentLang=Q:this.store.currentLang=Q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Q){this.isolate?this._langs=Q:this.store.langs=Q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Q){this.isolate?this._translations=Q:this.store.translations=Q}setDefaultLang(Q){if(Q===this.defaultLang)return;let Oe=this.retrieveTranslations(Q);typeof Oe<"u"?(null==this.defaultLang&&(this.defaultLang=Q),Oe.pipe((0,le.q)(1)).subscribe(Re=>{this.changeDefaultLang(Q)})):this.changeDefaultLang(Q)}getDefaultLang(){return this.defaultLang}use(Q){if(Q===this.currentLang)return(0,g.of)(this.translations[Q]);let Oe=this.retrieveTranslations(Q);return typeof Oe<"u"?(this.currentLang||(this.currentLang=Q),Oe.pipe((0,le.q)(1)).subscribe(Re=>{this.changeLang(Q)}),Oe):(this.changeLang(Q),(0,g.of)(this.translations[Q]))}retrieveTranslations(Q){let Oe;return(typeof this.translations[Q]>"u"||this.extend)&&(this._translationRequests[Q]=this._translationRequests[Q]||this.getTranslation(Q),Oe=this._translationRequests[Q]),Oe}getTranslation(Q){this.pending=!0;const Oe=this.currentLoader.getTranslation(Q).pipe((0,fe.d)(1),(0,le.q)(1));return this.loadingTranslations=Oe.pipe((0,pe.U)(Re=>this.compiler.compileTranslations(Re,Q)),(0,fe.d)(1),(0,le.q)(1)),this.loadingTranslations.subscribe({next:Re=>{this.translations[Q]=this.extend&&this.translations[Q]?{...Re,...this.translations[Q]}:Re,this.updateLangs(),this.pending=!1},error:Re=>{this.pending=!1}}),Oe}setTranslation(Q,Oe,Re=!1){Oe=this.compiler.compileTranslations(Oe,Q),this.translations[Q]=(Re||this.extend)&&this.translations[Q]?ht(this.translations[Q],Oe):Oe,this.updateLangs(),this.onTranslationChange.emit({lang:Q,translations:this.translations[Q]})}getLangs(){return this.langs}addLangs(Q){Q.forEach(Oe=>{-1===this.langs.indexOf(Oe)&&this.langs.push(Oe)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Q,Oe,Re){let pt;if(Oe instanceof Array){let Ot={},Zt=!1;for(let Jt of Oe)Ot[Jt]=this.getParsedResult(Q,Jt,Re),(0,U.b)(Ot[Jt])&&(Zt=!0);if(Zt){const Jt=Oe.map(Hn=>(0,U.b)(Ot[Hn])?Ot[Hn]:(0,g.of)(Ot[Hn]));return(0,se.D)(Jt).pipe((0,pe.U)(Hn=>{let Ut={};return Hn.forEach((Mn,Ii)=>{Ut[Oe[Ii]]=Mn}),Ut}))}return Ot}if(Q&&(pt=this.parser.interpolate(this.parser.getValue(Q,Oe),Re)),typeof pt>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(pt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Oe),Re)),typeof pt>"u"){let Ot={key:Oe,translateService:this};typeof Re<"u"&&(Ot.interpolateParams=Re),pt=this.missingTranslationHandler.handle(Ot)}return typeof pt<"u"?pt:Oe}get(Q,Oe){if(!Te(Q)||!Q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,$.b)(Re=>(Re=this.getParsedResult(Re,Q,Oe),(0,U.b)(Re)?Re:(0,g.of)(Re))));{let Re=this.getParsedResult(this.translations[this.currentLang],Q,Oe);return(0,U.b)(Re)?Re:(0,g.of)(Re)}}getStreamOnTranslationChange(Q,Oe){if(!Te(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,ne.z)((0,de.P)(()=>this.get(Q,Oe)),this.onTranslationChange.pipe((0,K.w)(Re=>{const pt=this.getParsedResult(Re.translations,Q,Oe);return"function"==typeof pt.subscribe?pt:(0,g.of)(pt)})))}stream(Q,Oe){if(!Te(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,ne.z)((0,de.P)(()=>this.get(Q,Oe)),this.onLangChange.pipe((0,K.w)(Re=>{const pt=this.getParsedResult(Re.translations,Q,Oe);return(0,U.b)(pt)?pt:(0,g.of)(pt)})))}instant(Q,Oe){if(!Te(Q)||!Q.length)throw new Error('Parameter "key" required');let Re=this.getParsedResult(this.translations[this.currentLang],Q,Oe);if((0,U.b)(Re)){if(Q instanceof Array){let pt={};return Q.forEach((Ot,Zt)=>{pt[Q[Zt]]=Q[Zt]}),pt}return Q}return Re}set(Q,Oe,Re=this.currentLang){this.translations[Re][Q]=this.compiler.compile(Oe,Re),this.updateLangs(),this.onTranslationChange.emit({lang:Re,translations:this.translations[Re]})}changeLang(Q){this.currentLang=Q,this.onLangChange.emit({lang:Q,translations:this.translations[Q]}),null==this.defaultLang&&this.changeDefaultLang(Q)}changeDefaultLang(Q){this.defaultLang=Q,this.onDefaultLangChange.emit({lang:Q,translations:this.translations[Q]})}reloadLang(Q){return this.resetLang(Q),this.getTranslation(Q)}resetLang(Q){this._translationRequests[Q]=void 0,this.translations[Q]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Q>"u"?void 0:(-1!==Q.indexOf("-")&&(Q=Q.split("-")[0]),-1!==Q.indexOf("_")&&(Q=Q.split("_")[0]),Q)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Q}}return he.\u0275fac=function(Q){return new(Q||he)(w.LFG(nt),w.LFG(te),w.LFG(ke),w.LFG(vt),w.LFG(Be),w.LFG(q),w.LFG(rt),w.LFG(ee),w.LFG(_e))},he.\u0275prov=w.Yz7({token:he,factory:he.\u0275fac}),he})(),Je=(()=>{class he{static forRoot(Q={}){return{ngModule:he,providers:[Q.loader||{provide:te,useClass:Qe},Q.compiler||{provide:ke,useClass:Ue},Q.parser||{provide:vt,useClass:$e},Q.missingTranslationHandler||{provide:Be,useClass:xe},nt,{provide:rt,useValue:Q.isolate},{provide:q,useValue:Q.useDefaultLang},{provide:ee,useValue:Q.extend},{provide:_e,useValue:Q.defaultLanguage},ue]}}static forChild(Q={}){return{ngModule:he,providers:[Q.loader||{provide:te,useClass:Qe},Q.compiler||{provide:ke,useClass:Ue},Q.parser||{provide:vt,useClass:$e},Q.missingTranslationHandler||{provide:Be,useClass:xe},{provide:rt,useValue:Q.isolate},{provide:q,useValue:Q.useDefaultLang},{provide:ee,useValue:Q.extend},{provide:_e,useValue:Q.defaultLanguage},ue]}}}return he.\u0275fac=function(Q){return new(Q||he)},he.\u0275mod=w.oAB({type:he}),he.\u0275inj=w.cJS({}),he})()},8766:(yt,De,k)=>{k.d(De,{Lj:()=>$e,X3:()=>vt});var w=k(5861);let U,se;const le=new WeakMap,fe=new WeakMap,pe=new WeakMap,$=new WeakMap,K=new WeakMap;let Be={get(q,_e,ee){if(q instanceof IDBTransaction){if("done"===_e)return fe.get(q);if("objectStoreNames"===_e)return q.objectStoreNames||pe.get(q);if("store"===_e)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return ve(q[_e])},set:(q,_e,ee)=>(q[_e]=ee,!0),has:(q,_e)=>q instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in q};function Te(q){return"function"==typeof q?function lt(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(..._e){return q.apply(ht(this),_e),ve(le.get(this))}:function(..._e){return ve(q.apply(ht(this),_e))}:function(_e,...ee){const ue=q.call(ht(this),_e,...ee);return pe.set(ue,_e.sort?_e.sort():[_e]),ve(ue)}}(q):(q instanceof IDBTransaction&&function Qe(q){if(fe.has(q))return;const _e=new Promise((ee,ue)=>{const ye=()=>{q.removeEventListener("complete",me),q.removeEventListener("error",Je),q.removeEventListener("abort",Je)},me=()=>{ee(),ye()},Je=()=>{ue(q.error||new DOMException("AbortError","AbortError")),ye()};q.addEventListener("complete",me),q.addEventListener("error",Je),q.addEventListener("abort",Je)});fe.set(q,_e)}(q),((q,_e)=>_e.some(ee=>q instanceof ee))(q,function ne(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Be):q)}function ve(q){if(q instanceof IDBRequest)return function te(q){const _e=new Promise((ee,ue)=>{const ye=()=>{q.removeEventListener("success",me),q.removeEventListener("error",Je)},me=()=>{ee(ve(q.result)),ye()},Je=()=>{ue(q.error),ye()};q.addEventListener("success",me),q.addEventListener("error",Je)});return _e.then(ee=>{ee instanceof IDBCursor&&le.set(ee,q)}).catch(()=>{}),K.set(_e,q),_e}(q);if($.has(q))return $.get(q);const _e=Te(q);return _e!==q&&($.set(q,_e),K.set(_e,q)),_e}const ht=q=>K.get(q);function vt(q,_e,{blocked:ee,upgrade:ue,blocking:ye,terminated:me}={}){const Je=indexedDB.open(q,_e),he=ve(Je);return ue&&Je.addEventListener("upgradeneeded",Ye=>{ue(ve(Je.result),Ye.oldVersion,Ye.newVersion,ve(Je.transaction))}),ee&&Je.addEventListener("blocked",()=>ee()),he.then(Ye=>{me&&Ye.addEventListener("close",()=>me()),ye&&Ye.addEventListener("versionchange",()=>ye())}).catch(()=>{}),he}function $e(q,{blocked:_e}={}){const ee=indexedDB.deleteDatabase(q);return _e&&ee.addEventListener("blocked",()=>_e()),ve(ee).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],nt=new Map;function rt(q,_e){if(!(q instanceof IDBDatabase)||_e in q||"string"!=typeof _e)return;if(nt.get(_e))return nt.get(_e);const ee=_e.replace(/FromIndex$/,""),ue=_e!==ee,ye=Ue.includes(ee);if(!(ee in(ue?IDBIndex:IDBObjectStore).prototype)||!ye&&!ke.includes(ee))return;const me=function(){var Je=(0,w.Z)(function*(he,...Ye){const Q=this.transaction(he,ye?"readwrite":"readonly");let Oe=Q.store;return ue&&(Oe=Oe.index(Ye.shift())),(yield Promise.all([Oe[ee](...Ye),ye&&Q.done]))[0]});return function(Ye){return Je.apply(this,arguments)}}();return nt.set(_e,me),me}!function xe(q){Be=q(Be)}(q=>({...q,get:(_e,ee,ue)=>rt(_e,ee)||q.get(_e,ee,ue),has:(_e,ee)=>!!rt(_e,ee)||q.has(_e,ee)}))},5861:(yt,De,k)=>{function w(U,se,ne,de,le,fe,pe){try{var $=U[fe](pe),K=$.value}catch(te){return void ne(te)}$.done?se(K):Promise.resolve(K).then(de,le)}function g(U){return function(){var se=this,ne=arguments;return new Promise(function(de,le){var fe=U.apply(se,ne);function pe(K){w(fe,de,le,pe,$,"next",K)}function $(K){w(fe,de,le,pe,$,"throw",K)}pe(void 0)})}}k.d(De,{Z:()=>g})}},yt=>{yt(yt.s=5696)}]);